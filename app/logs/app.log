2025-07-10 03:46:29,495 - app - INFO - Initializing application
2025-07-10 03:46:29,947 - app.services - DEBUG - Initializing services package
2025-07-10 03:46:30,039 - app - DEBUG - [app.models.json_user] Logging started for json_user.py
2025-07-10 03:46:31,011 - app - INFO - Enhanced logging service initialized
2025-07-10 03:46:31,011 - app - INFO - Enhanced logging service initialized
2025-07-10 03:46:41,951 - app.services.email_service - DEBUG - Initializing EmailService
2025-07-10 03:46:42,540 - app - DEBUG - Initializing import/export service
2025-07-10 03:46:42,627 - app - DEBUG - [app.decorators] Logging started for decorators.py
2025-07-10 03:46:42,627 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-10 03:46:42,628 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 03:46:42,628 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write']
2025-07-10 03:46:42,628 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ocm_write']
2025-07-10 03:46:42,628 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write']
2025-07-10 03:46:42,629 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ocm_write']
2025-07-10 03:46:42,629 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-10 03:46:42,629 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-10 03:46:42,629 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-10 03:46:42,629 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-10 03:46:42,630 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export', 'training_manage']
2025-07-10 03:46:42,630 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 03:46:42,630 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 03:46:42,630 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 03:46:42,630 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_email_test']
2025-07-10 03:46:42,631 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_manage']
2025-07-10 03:46:42,631 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 03:46:42,631 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 03:46:42,631 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 03:46:42,631 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 03:46:42,631 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 03:46:42,632 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 03:46:42,632 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-10 03:46:42,632 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['audit_log_view']
2025-07-10 03:46:42,632 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['audit_log_export']
2025-07-10 03:46:42,633 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 03:46:42,633 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 03:46:42,633 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 03:46:42,633 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 03:46:42,633 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 03:46:42,634 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['user_manage']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['export_data']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['import_data']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_write']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_read']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_read']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_write']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_delete']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_delete']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_read']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 03:46:42,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 03:46:42,649 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 03:46:42,649 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 03:46:42,649 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 03:46:42,649 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 03:46:42,649 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 03:46:42,649 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 03:46:42,649 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 03:46:42,649 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 03:46:42,649 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 03:46:42,649 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 03:46:42,649 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 03:46:42,652 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 03:46:42,652 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 03:46:42,652 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-10 03:46:42,652 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 03:46:42,652 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 03:46:42,652 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 03:46:42,653 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 03:46:42,653 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 03:46:42,653 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-10 03:46:42,653 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-10 03:46:42,662 - app - DEBUG - [app.routes.auth] Logging started for auth.py
2025-07-10 03:46:42,663 - app - DEBUG - [app.routes.auth] Auth blueprint initialized
2025-07-10 03:46:42,735 - app - INFO - Email scheduler thread initiated from create_app.
2025-07-10 03:46:42,735 - app - INFO - Email scheduler thread initiated from create_app.
2025-07-10 03:46:42,735 - app - INFO - Push Notification scheduler thread initiated from create_app.
2025-07-10 03:46:42,735 - app - INFO - Push Notification scheduler thread initiated from create_app.
2025-07-10 03:46:42,735 - app.services.backup_service - INFO - Backup scheduler loop started
2025-07-10 03:46:42,735 - app.services.backup_service - INFO - Automatic backup scheduler started
2025-07-10 03:46:42,735 - app.services.backup_service - INFO - Backup scheduler loop started
2025-07-10 03:46:42,735 - app.services.backup_service - INFO - Automatic backup scheduler started
2025-07-10 03:46:42,753 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 03:46:42,753 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 03:46:42,753 - app - INFO - Automatic backup scheduler initiated from create_app.
2025-07-10 03:46:42,753 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 03:46:42,754 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 03:46:42,753 - app - INFO - Automatic backup scheduler initiated from create_app.
2025-07-10 03:46:42,754 - app - INFO - Application initialization complete
2025-07-10 03:46:42,755 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 03:46:42,754 - app - INFO - Application initialization complete
2025-07-10 03:46:42,756 - app - INFO - Attempting to update PPM statuses on application startup...
2025-07-10 03:46:42,755 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 03:46:42,756 - app - INFO - Attempting to update PPM statuses on application startup...
2025-07-10 03:46:42,758 - app.services.backup_service - INFO - Automatic backup is enabled, creating backup every 1 hours
2025-07-10 03:46:42,758 - app.services.data_service - INFO - Starting update of all PPM statuses.
2025-07-10 03:46:42,758 - app.services.backup_service - INFO - Automatic backup is enabled, creating backup every 1 hours
2025-07-10 03:46:42,758 - app.services.data_service - INFO - Starting update of all PPM statuses.
2025-07-10 03:46:42,765 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 03:46:42,765 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 03:46:42,768 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-10 03:46:42,768 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 03:46:42,768 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 03:46:42,768 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 03:46:42,768 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 03:46:42,786 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 03:46:42,787 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 03:46:42,788 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 03:46:42,789 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 03:46:42,789 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-10 03:46:42,789 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-10 03:46:42,790 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-10 03:46:42,797 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 03:46:42,797 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 03:46:42,802 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 03:46:42,802 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 03:46:42,802 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-10 03:46:42,868 - app.services.data_service - INFO - No PPM statuses required updating.
2025-07-10 03:46:42,868 - app.services.data_service - INFO - No PPM statuses required updating.
2025-07-10 03:46:42,868 - app - INFO - PPM statuses update process completed.
2025-07-10 03:46:42,868 - app - INFO - PPM statuses update process completed.
2025-07-10 03:46:42,868 - __main__ - INFO - Scheduler is configured to be enabled. It will be started by create_app().
2025-07-10 03:46:42,868 - __main__ - INFO - Starting Flask development server on http://0.0.0.0:5001
2025-07-10 03:46:43,098 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.8.114:5001
2025-07-10 03:46:43,101 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-07-10 03:46:43,168 - app - DEBUG - [app.decorators] Checking permission: ['dashboard_view']
2025-07-10 03:46:43,168 - app - WARNING - [app.decorators] Unauthenticated user attempted access
2025-07-10 03:46:43,168 - app - WARNING - [app.decorators] Unauthenticated user attempted access
2025-07-10 03:46:43,168 - app - INFO - [app.decorators] Redirecting unauthenticated user to login page
2025-07-10 03:46:43,168 - app - INFO - [app.decorators] Redirecting unauthenticated user to login page
2025-07-10 03:46:43,202 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:43] "[32mGET / HTTP/1.1[0m" 302 -
2025-07-10 03:46:43,401 - app - INFO - [app.routes.auth] Accessing login route
2025-07-10 03:46:43,401 - app - INFO - [app.routes.auth] Accessing login route
2025-07-10 03:46:43,468 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:43] "GET /auth/login?next=http://localhost:5001/ HTTP/1.1" 200 -
2025-07-10 03:46:43,678 - app.services.audit_service - DEBUG - Loaded 554 audit log entries
2025-07-10 03:46:43,683 - app.services.audit_service - DEBUG - Loaded 554 audit log entries
2025-07-10 03:46:43,707 - app.services.audit_service - DEBUG - Saved 555 audit log entries
2025-07-10 03:46:43,707 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-10 03:46:43,707 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-10 03:46:43,707 - app.services.backup_service - INFO - Full backup created successfully: full_backup_20250710_034642_768648.zip (0.23 MB)
2025-07-10 03:46:43,707 - app.services.backup_service - INFO - Full backup created successfully: full_backup_20250710_034642_768648.zip (0.23 MB)
2025-07-10 03:46:43,707 - app.services.backup_service - INFO - Automatic full backup created: full_backup_20250710_034642_768648.zip (0.23 MB)
2025-07-10 03:46:43,707 - app.services.backup_service - INFO - Automatic full backup created: full_backup_20250710_034642_768648.zip (0.23 MB)
2025-07-10 03:46:43,747 - app.services.audit_service - DEBUG - Loaded 555 audit log entries
2025-07-10 03:46:43,753 - app.services.audit_service - DEBUG - Loaded 555 audit log entries
2025-07-10 03:46:43,786 - app.services.audit_service - DEBUG - Saved 556 audit log entries
2025-07-10 03:46:43,786 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-10 03:46:43,786 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-10 03:46:43,786 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 03:46:43,786 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 03:46:43,801 - app.services.backup_service - INFO - Cleanup completed: 0 old backups deleted
2025-07-10 03:46:43,813 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:43] "[36mGET /static/css/normalize.css HTTP/1.1[0m" 304 -
2025-07-10 03:46:43,801 - app.services.backup_service - INFO - Cleanup completed: 0 old backups deleted
2025-07-10 03:46:43,819 - app.services.backup_service - INFO - Backup scheduler sleeping for 1 hours (3600 seconds)
2025-07-10 03:46:43,819 - app.services.backup_service - INFO - Backup scheduler sleeping for 1 hours (3600 seconds)
2025-07-10 03:46:43,852 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:43] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-07-10 03:46:44,185 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:44] "[36mGET /static/images/login-background.jpg HTTP/1.1[0m" 304 -
2025-07-10 03:46:44,451 - app - WARNING - 404 Not Found: /favicon.ico
2025-07-10 03:46:44,451 - app - WARNING - 404 Not Found: /favicon.ico
2025-07-10 03:46:44,482 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:44] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-10 03:46:45,520 - app.services.push_notification_service - INFO - PushNotificationService class loading.
2025-07-10 03:46:45,520 - app.services.push_notification_service - INFO - PushNotificationService class loading.
2025-07-10 03:46:45,520 - app - INFO - Background thread for scheduler is starting.
2025-07-10 03:46:45,520 - app - INFO - Background thread for Push Notification scheduler is starting.
2025-07-10 03:46:45,520 - app - INFO - Background thread for scheduler is starting.
2025-07-10 03:46:45,520 - app - INFO - Background thread for Push Notification scheduler is starting.
2025-07-10 03:46:45,537 - app.services.email_service - INFO - Email reminder scheduler async loop started in process ID: 19072.
2025-07-10 03:46:45,537 - app.services.push_notification_service - INFO - Attempting to start Push Notification Scheduler async loop.
2025-07-10 03:46:45,537 - app.services.email_service - INFO - Email reminder scheduler async loop started in process ID: 19072.
2025-07-10 03:46:45,537 - app.services.email_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance to avoid duplicate emails.
2025-07-10 03:46:45,537 - app.services.push_notification_service - INFO - Attempting to start Push Notification Scheduler async loop.
2025-07-10 03:46:45,537 - app.services.push_notification_service - INFO - Push Notification reminder scheduler async loop initiated in process ID: 19072.
2025-07-10 03:46:45,537 - app.services.email_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance to avoid duplicate emails.
2025-07-10 03:46:45,537 - app.services.push_notification_service - INFO - Push Notification reminder scheduler async loop initiated in process ID: 19072.
2025-07-10 03:46:45,537 - app.services.email_service - INFO - Scheduler starting. Initial delay of 30 seconds before first run.
2025-07-10 03:46:45,537 - app.services.email_service - INFO - Scheduler starting. Initial delay of 30 seconds before first run.
2025-07-10 03:46:45,537 - app.services.push_notification_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance if push logic isn't idempotent or if it involves external state not designed for concurrency.
2025-07-10 03:46:45,537 - app.services.push_notification_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance if push logic isn't idempotent or if it involves external state not designed for concurrency.
2025-07-10 03:46:45,537 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay of 45 seconds before first run.
2025-07-10 03:46:45,537 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay of 45 seconds before first run.
2025-07-10 03:46:46,024 - app - INFO - [app.routes.auth] Accessing login route
2025-07-10 03:46:46,024 - app - INFO - [app.routes.auth] Accessing login route
2025-07-10 03:46:46,050 - app - INFO - [app.routes.auth] Login attempt for username: admin
2025-07-10 03:46:46,050 - app - INFO - [app.routes.auth] Login attempt for username: admin
2025-07-10 03:46:46,074 - app - DEBUG - [app.routes.auth] Retrieved user: admin
2025-07-10 03:46:46,075 - app - DEBUG - [check_password] Checking password for admin
2025-07-10 03:46:47,218 - app - DEBUG - [check_password] Password validation for admin: SUCCESS
2025-07-10 03:46:47,218 - app - INFO - [app.routes.auth] User 'admin' logged in successfully.
2025-07-10 03:46:47,218 - app - INFO - [app.routes.auth] User 'admin' logged in successfully.
2025-07-10 03:46:47,218 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:47] "[32mPOST /auth/login HTTP/1.1[0m" 303 -
2025-07-10 03:46:47,239 - app - DEBUG - [app.decorators] Checking permission: ['dashboard_view']
2025-07-10 03:46:47,241 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:46:47,241 - app - DEBUG - [app.decorators] Permission check result for ['dashboard_view']: True
2025-07-10 03:46:47,241 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:46:47,242 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-10 03:46:47,242 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 03:46:47,242 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 03:46:47,242 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 03:46:47,243 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 03:46:47,243 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 03:46:47,244 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 03:46:47,244 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 03:46:47,244 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 03:46:47,244 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-10 03:46:47,245 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-10 03:46:47,245 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-10 03:46:47,251 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 03:46:47,252 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 03:46:47,259 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 03:46:47,259 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 03:46:47,259 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-10 03:46:47,259 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-10 03:46:47,259 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 03:46:47,259 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 03:46:47,259 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 03:46:47,259 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 03:46:47,259 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 03:46:47,267 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 03:46:47,267 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 03:46:47,268 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 03:46:47,268 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 03:46:47,269 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 03:46:47,270 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 03:46:47,271 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 03:46:47,273 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 03:46:47,273 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 03:46:47,276 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 03:46:47,276 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 03:46:47,277 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 03:46:47,277 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-10 03:46:47,402 - app - INFO - Quarter summary generated successfully: {'current_date': '2025-07-10', 'current_calendar_quarter': 3, 'current_quarter_name': 'Q3', 'quarter_keys': ['PPM_Q_I', 'PPM_Q_II', 'PPM_Q_III', 'PPM_Q_IV'], 'quarter_names': ['Q1', 'Q2', 'Q3', 'Q4']}
2025-07-10 03:46:47,402 - app - INFO - Quarter summary generated successfully: {'current_date': '2025-07-10', 'current_calendar_quarter': 3, 'current_quarter_name': 'Q3', 'quarter_keys': ['PPM_Q_I', 'PPM_Q_II', 'PPM_Q_III', 'PPM_Q_IV'], 'quarter_names': ['Q1', 'Q2', 'Q3', 'Q4']}
2025-07-10 03:46:47,438 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 03:46:47,439 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 03:46:47,439 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 03:46:47,439 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 03:46:47,439 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 03:46:47,652 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:47] "GET / HTTP/1.1" 200 -
2025-07-10 03:46:48,066 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:48] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 03:46:48,069 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:48] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 03:46:48,183 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:48] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 03:46:48,239 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:48] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 03:46:48,268 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:48] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 03:46:48,274 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:48] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 03:46:48,399 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:48] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 03:46:48,432 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:48] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 03:46:55,639 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 03:46:55,653 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:46:55,653 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_read', 'equipment_ocm_read']: True
2025-07-10 03:46:55,653 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:46:55,653 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 03:46:55,653 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 03:46:55,653 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 03:46:55,653 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 03:46:55,653 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 03:46:55,653 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 03:46:55,653 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 03:46:55,653 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 03:46:55,671 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 03:46:55,671 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 03:46:55,671 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 03:46:55,671 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 03:46:55,671 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 03:46:55,671 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 03:46:55,686 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 03:46:55,686 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 03:46:55,686 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 03:46:55,686 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-10 03:46:55,936 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 03:46:55,936 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 03:46:55,936 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 03:46:55,936 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 03:46:55,936 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 03:46:56,171 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:56] "GET /equipment/ocm HTTP/1.1" 200 -
2025-07-10 03:46:56,261 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:56] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 03:46:56,566 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:56] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 03:46:56,679 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:56] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 03:46:56,679 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:56] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 03:46:56,689 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:56] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 03:46:56,697 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:56] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 03:46:56,756 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:56] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 03:46:56,892 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:46:56] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 03:47:00,939 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 03:47:00,940 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:47:00,941 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_write', 'equipment_ocm_write']: True
2025-07-10 03:47:00,941 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:47:00,942 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:47:00,943 - app.services.trainer_service - DEBUG - Loaded 14 trainers from data\trainers.json
2025-07-10 03:47:00,958 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 03:47:00,958 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 03:47:00,959 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 03:47:00,959 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 03:47:00,959 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 03:47:00,963 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:00] "GET /equipment/machine-assignment HTTP/1.1" 200 -
2025-07-10 03:47:01,124 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:01] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 03:47:01,244 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:01] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 03:47:01,440 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:01] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 03:47:01,444 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:01] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 03:47:01,450 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:01] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 03:47:01,512 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:01] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 03:47:01,515 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:01] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 03:47:01,580 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:01] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 03:47:01,925 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:47:01,926 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:47:01,930 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:47:01,931 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:47:01,932 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:47:01,933 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:47:01,934 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:47:01,935 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:47:01,938 - app.services.trainer_service - DEBUG - Loaded 14 trainers from data\trainers.json
2025-07-10 03:47:01,939 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:47:01,943 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:47:01,950 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:01] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 03:47:01,953 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:01] "GET /api/trainers HTTP/1.1" 200 -
2025-07-10 03:47:15,539 - app.services.email_service - DEBUG - Scheduler loop iteration started.
2025-07-10 03:47:15,539 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 03:47:15,539 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 03:47:15,539 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 03:47:15,539 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 03:47:15,539 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 03:47:15,539 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 03:47:15,539 - app.services.email_service - DEBUG - Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 03:47:15,551 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-10 03:47:15,551 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-10 03:47:15,555 - app.services.email_service - INFO - Next email scheduled for 2025-07-10 07:30:00. Sleeping for 60.0 minutes.
2025-07-10 03:47:15,555 - app.services.email_service - INFO - Next email scheduled for 2025-07-10 07:30:00. Sleeping for 60.0 minutes.
2025-07-10 03:47:15,918 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:47:15,918 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:47:15,933 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:47:15,933 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:47:15,936 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:47:15,936 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:15] "POST /api/logging/frontend-info HTTP/1.1" 200 -
2025-07-10 03:47:15,936 - app.services.department_service - INFO - Saved 26 departments to data\departments.json
2025-07-10 03:47:15,936 - app.services.department_service - INFO - Saved 26 departments to data\departments.json
2025-07-10 03:47:15,936 - app.services.department_service - INFO - Updated department ID 30: 10AA
2025-07-10 03:47:15,936 - app.services.department_service - INFO - Updated department ID 30: 10AA
2025-07-10 03:47:15,951 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:15] "PUT /api/departments/30 HTTP/1.1" 200 -
2025-07-10 03:47:16,204 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:47:16,204 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:47:16,204 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:47:16,204 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:47:16,204 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:47:16,219 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:16] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 03:47:26,269 - app - DEBUG - [app.decorators] Checking permission: ['training_manage']
2025-07-10 03:47:26,269 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:47:26,285 - app - DEBUG - [app.decorators] Permission check result for ['training_manage']: True
2025-07-10 03:47:26,286 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:47:26,289 - app.services.training_service - INFO - Successfully loaded 239 training records from data\training.json
2025-07-10 03:47:26,289 - app.services.training_service - INFO - Successfully loaded 239 training records from data\training.json
2025-07-10 03:47:26,521 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 03:47:26,521 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 03:47:26,521 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 03:47:26,521 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 03:47:26,521 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 03:47:26,554 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:26] "GET /training HTTP/1.1" 200 -
2025-07-10 03:47:26,611 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:26] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 03:47:26,957 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:26] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 03:47:26,958 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:26] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 03:47:26,958 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:26] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 03:47:26,976 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:26] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 03:47:26,980 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:26] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 03:47:26,984 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:26] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 03:47:27,336 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:27] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 03:47:27,372 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:27] "[36mGET /static/js/training.js HTTP/1.1[0m" 304 -
2025-07-10 03:47:27,929 - app - DEBUG - [app.decorators] Checking permission: ['training_read']
2025-07-10 03:47:27,932 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:47:27,933 - app - DEBUG - [app.decorators] Permission check result for ['training_read']: True
2025-07-10 03:47:27,937 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:47:27,942 - app.services.training_service - INFO - Successfully loaded 239 training records from data\training.json
2025-07-10 03:47:27,942 - app.services.training_service - INFO - Successfully loaded 239 training records from data\training.json
2025-07-10 03:47:27,964 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:47:27] "GET /api/trainings HTTP/1.1" 200 -
2025-07-10 03:47:30,548 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay complete. Starting main loop.
2025-07-10 03:47:30,548 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay complete. Starting main loop.
2025-07-10 03:47:30,549 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loop iteration started.
2025-07-10 03:47:30,549 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loading settings...
2025-07-10 03:47:30,549 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 03:47:30,549 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 03:47:30,550 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 03:47:30,550 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 03:47:30,551 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 03:47:30,551 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 03:47:30,570 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 03:47:30,570 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 03:47:30,579 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Push notifications enabled: True
2025-07-10 03:47:30,579 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (minutes): 60
2025-07-10 03:47:30,579 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (seconds): 3600
2025-07-10 03:47:30,579 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-10 03:47:30,579 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-10 03:47:30,581 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-10 03:47:30,581 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-10 03:47:30,594 - app.services.push_notification_service - DEBUG - Reloading settings within process_push_notifications...
2025-07-10 03:47:30,595 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 03:47:30,596 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 03:47:30,596 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 03:47:30,596 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 03:47:30,597 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 03:47:30,597 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 03:47:30,608 - app.services.push_notification_service - DEBUG - Settings loaded in process_push_notifications: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 03:47:30,609 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-10 03:47:30,609 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-10 03:47:30,610 - app.services.push_notification_service - DEBUG - Loading PPM data...
2025-07-10 03:47:30,610 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-10 03:47:30,610 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 03:47:30,610 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 03:47:30,610 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 03:47:30,611 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 03:47:30,611 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 03:47:30,611 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 03:47:30,612 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 03:47:30,612 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 03:47:30,612 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-10 03:47:30,612 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-10 03:47:30,612 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-10 03:47:30,619 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 03:47:30,619 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 03:47:30,629 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 03:47:30,629 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 03:47:30,630 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-10 03:47:30,630 - app.services.push_notification_service - DEBUG - Loaded 1040 PPM entries.
2025-07-10 03:47:30,630 - app.services.push_notification_service - DEBUG - Loading OCM data...
2025-07-10 03:47:30,630 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 03:47:30,631 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 03:47:30,631 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 03:47:30,631 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 03:47:30,631 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 03:47:30,632 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 03:47:30,632 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 03:47:30,632 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 03:47:30,632 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 03:47:30,632 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 03:47:30,633 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 03:47:30,633 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 03:47:30,637 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 03:47:30,637 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 03:47:30,642 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 03:47:30,642 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 03:47:30,642 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 03:47:30,642 - app.services.push_notification_service - DEBUG - Loaded 612 OCM entries.
2025-07-10 03:47:30,643 - app.services.push_notification_service - DEBUG - Getting upcoming PPM maintenance tasks...
2025-07-10 03:47:30,743 - app.services.push_notification_service - DEBUG - Found 699 upcoming PPM tasks.
2025-07-10 03:47:30,743 - app.services.push_notification_service - DEBUG - Getting upcoming OCM maintenance tasks...
2025-07-10 03:47:30,756 - app.services.push_notification_service - DEBUG - Found 1 upcoming OCM tasks.
2025-07-10 03:47:30,756 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 700
2025-07-10 03:47:30,756 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 700
2025-07-10 03:47:30,757 - app.services.push_notification_service - DEBUG - Sorting all upcoming tasks by date...
2025-07-10 03:47:30,774 - app.services.push_notification_service - DEBUG - Tasks sorted.
2025-07-10 03:47:30,775 - app.services.push_notification_service - DEBUG - Summarizing all upcoming tasks...
2025-07-10 03:47:30,775 - app.services.push_notification_service - DEBUG - Summarizing upcoming maintenance. Tasks received: 700
2025-07-10 03:47:30,775 - app.services.push_notification_service - DEBUG - PPM count: 699, OCM count: 1
2025-07-10 03:47:30,775 - app.services.push_notification_service - DEBUG - Generated summary: 699 PPM tasks and 1 OCM task due soon.
2025-07-10 03:47:30,775 - app.services.push_notification_service - INFO - Generated summary for push notification: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 03:47:30,775 - app.services.push_notification_service - INFO - Generated summary for push notification: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 03:47:30,776 - app.services.push_notification_service - DEBUG - Sending push notification with the generated summary...
2025-07-10 03:47:30,777 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 03:47:30,777 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 03:47:30,777 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-10 03:47:30,777 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-10 03:47:30,780 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-10 03:47:30,780 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-10 03:47:30,780 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-10 03:47:30,780 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-10 03:47:30,782 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-10 03:47:30,782 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-10 03:47:30,783 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-10 03:47:30,783 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-10 03:48:10,829 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 03:48:10,832 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:48:10,833 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_read', 'equipment_ocm_read']: True
2025-07-10 03:48:10,836 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:48:10,838 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 03:48:10,839 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 03:48:10,840 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 03:48:10,841 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 03:48:10,843 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 03:48:10,844 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 03:48:10,845 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 03:48:10,846 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 03:48:10,846 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 03:48:10,847 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 03:48:10,847 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 03:48:10,848 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 03:48:10,854 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 03:48:10,855 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 03:48:10,862 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 03:48:10,863 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 03:48:10,864 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 03:48:10,865 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-10 03:48:10,870 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 03:48:10,870 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 03:48:10,870 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 03:48:10,870 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 03:48:10,870 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 03:48:11,128 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:48:11] "GET /equipment/ocm HTTP/1.1" 200 -
2025-07-10 03:48:11,176 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:48:11] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 03:48:11,178 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:48:11] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 03:48:15,256 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ocm_write']
2025-07-10 03:48:15,259 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:48:15,260 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ocm_write']: True
2025-07-10 03:48:15,261 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:48:15,403 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 03:48:15,403 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 03:48:15,403 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 03:48:15,403 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 03:48:15,403 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 03:48:15,424 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:48:15] "GET /equipment/ocm/add HTTP/1.1" 200 -
2025-07-10 03:48:15,511 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:48:15] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 03:48:15,514 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:48:15] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 03:48:15,834 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:48:15] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 03:48:15,835 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:48:15] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 03:48:15,843 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:48:15] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 03:48:15,844 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:48:15] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 03:48:15,891 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:48:15] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 03:48:15,894 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:48:15] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 03:49:14,062 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 03:49:14,065 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:49:14,066 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_read', 'equipment_ocm_read']: True
2025-07-10 03:49:14,067 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:49:14,069 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 03:49:14,071 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 03:49:14,072 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 03:49:14,073 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 03:49:14,075 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 03:49:14,076 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 03:49:14,077 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 03:49:14,078 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 03:49:14,079 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 03:49:14,079 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 03:49:14,080 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 03:49:14,081 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 03:49:14,087 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 03:49:14,089 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 03:49:14,096 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 03:49:14,097 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 03:49:14,098 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 03:49:14,100 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-10 03:49:14,108 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 03:49:14,109 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 03:49:14,109 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 03:49:14,110 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 03:49:14,111 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 03:49:14,405 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:49:14] "GET /equipment/ocm HTTP/1.1" 200 -
2025-07-10 03:49:15,723 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 03:49:15,724 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:49:15,725 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_write', 'equipment_ocm_write']: True
2025-07-10 03:49:15,725 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:49:15,726 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:49:15,727 - app.services.trainer_service - DEBUG - Loaded 14 trainers from data\trainers.json
2025-07-10 03:49:15,728 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 03:49:15,729 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 03:49:15,729 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 03:49:15,729 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 03:49:15,730 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 03:49:15,734 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:49:15] "GET /equipment/machine-assignment HTTP/1.1" 200 -
2025-07-10 03:49:15,839 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:49:15] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 03:49:16,176 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:49:16] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 03:49:16,179 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:49:16] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 03:49:16,181 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:49:16] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 03:49:16,185 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:49:16] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 03:49:16,191 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:49:16] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 03:49:16,198 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:49:16] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 03:49:16,581 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:49:16] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 03:49:16,942 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:49:16,943 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:49:16,947 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:49:16,948 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:49:16,949 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:49:16,950 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:49:16,951 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:49:16,951 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:49:16,951 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:49:16,951 - app.services.trainer_service - DEBUG - Loaded 14 trainers from data\trainers.json
2025-07-10 03:49:16,951 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:49:16,951 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:49:16] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 03:49:16,966 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:49:16] "GET /api/trainers HTTP/1.1" 200 -
2025-07-10 03:52:43,354 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:52:43] "POST /api/logging/frontend-info HTTP/1.1" 200 -
2025-07-10 03:52:43,405 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:52:43,405 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:52:43,405 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:52:43,405 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:52:43,405 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:52:43,421 - app.services.trainer_service - DEBUG - Loaded 14 trainers from data\trainers.json
2025-07-10 03:52:43,421 - app.services.trainer_service - INFO - Saved 14 trainers to data\trainers.json
2025-07-10 03:52:43,421 - app.services.trainer_service - INFO - Saved 14 trainers to data\trainers.json
2025-07-10 03:52:43,421 - app.services.trainer_service - INFO - Updated trainer ID 12: waleedd
2025-07-10 03:52:43,421 - app.services.trainer_service - INFO - Updated trainer ID 12: waleedd
2025-07-10 03:52:43,437 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:52:43] "PUT /api/trainers/12 HTTP/1.1" 200 -
2025-07-10 03:52:43,612 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:52:43,622 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:52:43,622 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:52:43,622 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:52:43,637 - app.services.trainer_service - DEBUG - Loaded 14 trainers from data\trainers.json
2025-07-10 03:52:43,637 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:52:43,653 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:52:43] "GET /api/trainers HTTP/1.1" 200 -
2025-07-10 03:52:51,173 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:52:51,178 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:52:51,179 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:52:51,180 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:52:51,185 - app.services.trainer_service - DEBUG - Loaded 14 trainers from data\trainers.json
2025-07-10 03:52:51,191 - app.services.trainer_service - INFO - Saved 13 trainers to data\trainers.json
2025-07-10 03:52:51,191 - app.services.trainer_service - INFO - Saved 13 trainers to data\trainers.json
2025-07-10 03:52:51,191 - app.services.trainer_service - INFO - Deleted trainer ID 11
2025-07-10 03:52:51,191 - app.services.trainer_service - INFO - Deleted trainer ID 11
2025-07-10 03:52:51,286 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:52:51] "DELETE /api/trainers/11 HTTP/1.1" 200 -
2025-07-10 03:52:51,646 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:52:51,649 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:52:51,650 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:52:51,650 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:52:51,653 - app.services.trainer_service - DEBUG - Loaded 13 trainers from data\trainers.json
2025-07-10 03:52:51,655 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:52:51,663 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:52:51] "GET /api/trainers HTTP/1.1" 200 -
2025-07-10 03:52:56,799 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:52:56,803 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:52:56,804 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:52:56,805 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:52:56,807 - app.services.trainer_service - DEBUG - Loaded 13 trainers from data\trainers.json
2025-07-10 03:52:56,812 - app.services.trainer_service - INFO - Saved 12 trainers to data\trainers.json
2025-07-10 03:52:56,812 - app.services.trainer_service - INFO - Saved 12 trainers to data\trainers.json
2025-07-10 03:52:56,826 - app.services.trainer_service - INFO - Deleted trainer ID 14
2025-07-10 03:52:56,826 - app.services.trainer_service - INFO - Deleted trainer ID 14
2025-07-10 03:52:56,869 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:52:56] "DELETE /api/trainers/14 HTTP/1.1" 200 -
2025-07-10 03:52:57,219 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:52:57,219 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:52:57,219 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:52:57,219 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:52:57,219 - app.services.trainer_service - DEBUG - Loaded 12 trainers from data\trainers.json
2025-07-10 03:52:57,219 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:52:57,235 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:52:57] "GET /api/trainers HTTP/1.1" 200 -
2025-07-10 03:52:59,488 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:52:59,503 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:52:59,504 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:52:59,506 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:52:59,508 - app.services.trainer_service - DEBUG - Loaded 12 trainers from data\trainers.json
2025-07-10 03:52:59,508 - app.services.trainer_service - INFO - Saved 11 trainers to data\trainers.json
2025-07-10 03:52:59,508 - app.services.trainer_service - INFO - Saved 11 trainers to data\trainers.json
2025-07-10 03:52:59,525 - app.services.trainer_service - INFO - Deleted trainer ID 12
2025-07-10 03:52:59,525 - app.services.trainer_service - INFO - Deleted trainer ID 12
2025-07-10 03:52:59,546 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:52:59] "DELETE /api/trainers/12 HTTP/1.1" 200 -
2025-07-10 03:52:59,970 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:52:59,985 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:52:59,985 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:52:59,985 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:52:59,985 - app.services.trainer_service - DEBUG - Loaded 11 trainers from data\trainers.json
2025-07-10 03:52:59,985 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:53:00,004 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:53:00] "GET /api/trainers HTTP/1.1" 200 -
2025-07-10 03:53:50,806 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:53:50] "POST /api/logging/frontend-info HTTP/1.1" 200 -
2025-07-10 03:53:51,104 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:53:51,104 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:53:51,104 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:53:51,104 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:53:51,104 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:53:51,104 - app.services.trainer_service - DEBUG - Loaded 11 trainers from data\trainers.json
2025-07-10 03:53:51,119 - app.services.trainer_service - INFO - Saved 11 trainers to data\trainers.json
2025-07-10 03:53:51,119 - app.services.trainer_service - INFO - Saved 11 trainers to data\trainers.json
2025-07-10 03:53:51,121 - app.services.trainer_service - INFO - Updated trainer ID 13: waleed
2025-07-10 03:53:51,121 - app.services.trainer_service - INFO - Updated trainer ID 13: waleed
2025-07-10 03:53:51,121 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:53:51] "PUT /api/trainers/13 HTTP/1.1" 200 -
2025-07-10 03:53:51,478 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:53:51,482 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:53:51,482 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:53:51,485 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:53:51,487 - app.services.trainer_service - DEBUG - Loaded 11 trainers from data\trainers.json
2025-07-10 03:53:51,490 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:53:51,497 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:53:51] "GET /api/trainers HTTP/1.1" 200 -
2025-07-10 03:53:55,789 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:53:55,792 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:53:55,793 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:53:55,794 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:53:55,796 - app.services.trainer_service - DEBUG - Loaded 11 trainers from data\trainers.json
2025-07-10 03:53:55,804 - app.services.trainer_service - INFO - Saved 10 trainers to data\trainers.json
2025-07-10 03:53:55,804 - app.services.trainer_service - INFO - Saved 10 trainers to data\trainers.json
2025-07-10 03:53:55,814 - app.services.trainer_service - INFO - Deleted trainer ID 13
2025-07-10 03:53:55,814 - app.services.trainer_service - INFO - Deleted trainer ID 13
2025-07-10 03:53:55,835 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:53:55] "DELETE /api/trainers/13 HTTP/1.1" 200 -
2025-07-10 03:53:56,239 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:53:56,243 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:53:56,243 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:53:56,244 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:53:56,246 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-10 03:53:56,251 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:53:56,267 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:53:56] "GET /api/trainers HTTP/1.1" 200 -
2025-07-10 03:54:06,037 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:54:06] "POST /api/logging/frontend-info HTTP/1.1" 200 -
2025-07-10 03:54:06,323 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:54:06,335 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:54:06,336 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:54:06,337 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:54:06,339 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:54:06,339 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-10 03:54:06,339 - app.services.trainer_service - INFO - Saved 10 trainers to data\trainers.json
2025-07-10 03:54:06,339 - app.services.trainer_service - INFO - Saved 10 trainers to data\trainers.json
2025-07-10 03:54:06,339 - app.services.trainer_service - INFO - Updated trainer ID 6: Ailene
2025-07-10 03:54:06,339 - app.services.trainer_service - INFO - Updated trainer ID 6: Ailene
2025-07-10 03:54:06,357 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:54:06] "PUT /api/trainers/6 HTTP/1.1" 200 -
2025-07-10 03:54:06,696 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:54:06,706 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:54:06,707 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:54:06,707 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:54:06,709 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-10 03:54:06,709 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:54:06,709 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:54:06] "GET /api/trainers HTTP/1.1" 200 -
2025-07-10 03:59:13,593 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:59:13,593 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:59:13,593 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:59:13,593 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:59:13,593 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-10 03:59:13,605 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:59:13,610 - app.services.department_service - INFO - Saved 25 departments to data\departments.json
2025-07-10 03:59:13,610 - app.services.department_service - INFO - Saved 25 departments to data\departments.json
2025-07-10 03:59:13,610 - app.services.department_service - INFO - Deleted department ID 30
2025-07-10 03:59:13,610 - app.services.department_service - INFO - Deleted department ID 30
2025-07-10 03:59:13,610 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:13] "DELETE /api/departments/30 HTTP/1.1" 200 -
2025-07-10 03:59:13,850 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:59:13,850 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:59:13,850 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:59:13,850 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:59:13,866 - app.services.department_service - DEBUG - Loaded 25 departments from data\departments.json
2025-07-10 03:59:13,866 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:13] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 03:59:31,111 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:59:31,112 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:59:31,113 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:59:31,113 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:59:31,114 - app.services.department_service - DEBUG - Loaded 25 departments from data\departments.json
2025-07-10 03:59:31,114 - app.services.department_service - DEBUG - Loaded 25 departments from data\departments.json
2025-07-10 03:59:31,116 - app.services.department_service - INFO - Saved 26 departments to data\departments.json
2025-07-10 03:59:31,116 - app.services.department_service - INFO - Saved 26 departments to data\departments.json
2025-07-10 03:59:31,117 - app.services.department_service - INFO - Created new department: Ortho (ID: 27)
2025-07-10 03:59:31,117 - app.services.department_service - INFO - Created new department: Ortho (ID: 27)
2025-07-10 03:59:31,120 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:31] "[35m[1mPOST /api/departments HTTP/1.1[0m" 201 -
2025-07-10 03:59:31,420 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:31] "POST /api/logging/frontend-info HTTP/1.1" 200 -
2025-07-10 03:59:31,439 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 03:59:31,440 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:59:31,440 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 03:59:31,440 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:59:31,441 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 03:59:31,444 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:31] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 03:59:40,002 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 03:59:40,006 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:59:40,007 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_read', 'equipment_ocm_read']: True
2025-07-10 03:59:40,007 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:59:40,008 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 03:59:40,009 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 03:59:40,009 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 03:59:40,010 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 03:59:40,013 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 03:59:40,014 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 03:59:40,015 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 03:59:40,016 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 03:59:40,017 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 03:59:40,020 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 03:59:40,020 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 03:59:40,021 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 03:59:40,021 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 03:59:40,021 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 03:59:40,037 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 03:59:40,038 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 03:59:40,040 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 03:59:40,042 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-10 03:59:40,046 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 03:59:40,047 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 03:59:40,048 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 03:59:40,048 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 03:59:40,049 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 03:59:40,296 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:40] "GET /equipment/ocm HTTP/1.1" 200 -
2025-07-10 03:59:40,347 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:40] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 03:59:40,347 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:40] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 03:59:41,542 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:41] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 03:59:41,543 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:41] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 03:59:41,599 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:41] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 03:59:41,609 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:41] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 03:59:41,612 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:41] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 03:59:41,612 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:41] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 03:59:44,600 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ocm_write']
2025-07-10 03:59:44,602 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 03:59:44,603 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ocm_write']: True
2025-07-10 03:59:44,603 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 03:59:44,604 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 03:59:44,604 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 03:59:44,605 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 03:59:44,605 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 03:59:44,605 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 03:59:44,609 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:44] "GET /equipment/ocm/add HTTP/1.1" 200 -
2025-07-10 03:59:44,662 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:44] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 03:59:44,888 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:44] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 03:59:45,016 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:45] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 03:59:45,018 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:45] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 03:59:45,020 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:45] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 03:59:45,022 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:45] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 03:59:45,025 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:45] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 03:59:45,339 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 03:59:45] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:07,075 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 04:00:07,089 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:00:07,089 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_read', 'equipment_ocm_read']: True
2025-07-10 04:00:07,089 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:00:07,089 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 04:00:07,089 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:00:07,089 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:00:07,089 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:00:07,089 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:00:07,089 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:00:07,089 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:00:07,089 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:00:07,106 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:00:07,106 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 04:00:07,106 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 04:00:07,106 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 04:00:07,106 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:00:07,106 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:00:07,122 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:00:07,122 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:00:07,122 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 04:00:07,122 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-10 04:00:07,139 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:00:07,139 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:00:07,139 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:00:07,139 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:00:07,139 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:00:07,508 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:07] "GET /equipment/ocm HTTP/1.1" 200 -
2025-07-10 04:00:07,558 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:07] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:00:07,560 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:07] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:00:08,595 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:08] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:08,659 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:08] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:08,664 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:08] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:08,667 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:08] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:08,674 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:08] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:08,676 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:08] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:15,266 - app.services.data_service - INFO - Attempting to get ocm entry with serial: N-A-243
2025-07-10 04:00:15,266 - app.services.data_service - INFO - Attempting to get ocm entry with serial: N-A-243
2025-07-10 04:00:15,269 - app.services.data_service - DEBUG - Loading all ocm data to search for serial N-A-243
2025-07-10 04:00:15,270 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 04:00:15,272 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:00:15,272 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:00:15,272 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:00:15,272 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:00:15,272 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:00:15,272 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:00:15,272 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:00:15,272 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:00:15,272 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 04:00:15,272 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 04:00:15,272 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 04:00:15,293 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:00:15,294 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:00:15,304 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:00:15,305 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:00:15,305 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 04:00:15,305 - app.services.data_service - DEBUG - Searching for entry with serial N-A-243 in 612 ocm entries using URL-safe lookup
2025-07-10 04:00:15,305 - app.services.data_service - INFO - Found matching ocm entry for serial N-A-243 using URL-safe lookup
2025-07-10 04:00:15,305 - app.services.data_service - INFO - Found matching ocm entry for serial N-A-243 using URL-safe lookup
2025-07-10 04:00:15,305 - app.services.data_service - DEBUG - Entry data: {'NO': 612, 'Department': 'XRAY', 'Name': 'XRAY VIEWER', 'Model': 'GENERIC', 'Serial': 'N-A 243', 'Manufacturer': 'LUME VISION', 'Log_Number': '1990', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/08/2025', 'Engineer': 'ARUN', 'Next_Maintenance': '01/08/2026', 'Status': 'Upcoming', 'has_history': False}
2025-07-10 04:00:15,305 - app.services.history_service - DEBUG - Looking for history notes for equipment_id: 'N-A-243' (original: 'N/A 243')
2025-07-10 04:00:15,324 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-10 04:00:15,325 - app.services.history_service - DEBUG - Found 0 history notes for equipment N-A-243
2025-07-10 04:00:15,459 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:00:15,459 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:00:15,459 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:00:15,459 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:00:15,459 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:00:15,459 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:00:15,459 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:15] "GET /equipment/ocm/N-A-243/history HTTP/1.1" 200 -
2025-07-10 04:00:15,516 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:15] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:00:15,520 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:15] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:00:15,849 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:15] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:15,851 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:15] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:15,855 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:15] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:15,865 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:15] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:15,870 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:15] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:15,929 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:15] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:22,805 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ocm_write']
2025-07-10 04:00:22,807 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:00:22,808 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ocm_write']: True
2025-07-10 04:00:22,808 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:00:22,809 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:00:22,812 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:00:22,812 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:00:22,813 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:00:22,813 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:00:22,817 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:22] "GET /equipment/ocm/add HTTP/1.1" 200 -
2025-07-10 04:00:22,874 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:22] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:00:23,082 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:23] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:00:23,226 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:23] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:23,227 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:23] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:23,227 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:23] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:23,227 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:23] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:23,228 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:23] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:23,427 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:23] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:26,943 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ocm_write']
2025-07-10 04:00:26,954 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:00:26,958 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ocm_write']: True
2025-07-10 04:00:26,958 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:00:26,960 - app - INFO - Received GET request to edit OCM equipment with Serial: N-A-243
2025-07-10 04:00:26,960 - app - INFO - Received GET request to edit OCM equipment with Serial: N-A-243
2025-07-10 04:00:26,962 - app.services.data_service - INFO - Attempting to get ocm entry with serial: N-A-243
2025-07-10 04:00:26,962 - app.services.data_service - INFO - Attempting to get ocm entry with serial: N-A-243
2025-07-10 04:00:26,964 - app.services.data_service - DEBUG - Loading all ocm data to search for serial N-A-243
2025-07-10 04:00:26,965 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 04:00:26,965 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:00:26,966 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:00:26,966 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:00:26,967 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:00:26,970 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:00:26,972 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:00:26,978 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:00:26,979 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:00:26,979 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 04:00:26,979 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 04:00:26,979 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 04:00:26,993 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:00:26,994 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:00:27,000 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:00:27,004 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:00:27,007 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 04:00:27,012 - app.services.data_service - DEBUG - Searching for entry with serial N-A-243 in 612 ocm entries using URL-safe lookup
2025-07-10 04:00:27,014 - app.services.data_service - INFO - Found matching ocm entry for serial N-A-243 using URL-safe lookup
2025-07-10 04:00:27,014 - app.services.data_service - INFO - Found matching ocm entry for serial N-A-243 using URL-safe lookup
2025-07-10 04:00:27,019 - app.services.data_service - DEBUG - Entry data: {'NO': 612, 'Department': 'XRAY', 'Name': 'XRAY VIEWER', 'Model': 'GENERIC', 'Serial': 'N-A 243', 'Manufacturer': 'LUME VISION', 'Log_Number': '1990', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/08/2025', 'Engineer': 'ARUN', 'Next_Maintenance': '01/08/2026', 'Status': 'Upcoming', 'has_history': False}
2025-07-10 04:00:27,108 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:00:27,108 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:00:27,108 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:00:27,108 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:00:27,108 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:00:27,124 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:27] "GET /equipment/ocm/edit/N-A-243 HTTP/1.1" 200 -
2025-07-10 04:00:27,321 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:27] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:00:27,324 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:27] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:00:27,629 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:27] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:27,630 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:27] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:27,633 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:27] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:27,636 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:27] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:27,671 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:27] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:27,729 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:27] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:34,739 - app.services.data_service - INFO - Attempting to get ocm entry with serial: N-A 243
2025-07-10 04:00:34,739 - app.services.data_service - INFO - Attempting to get ocm entry with serial: N-A 243
2025-07-10 04:00:34,739 - app.services.data_service - DEBUG - Loading all ocm data to search for serial N-A 243
2025-07-10 04:00:34,739 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 04:00:34,739 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:00:34,753 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:00:34,753 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:00:34,753 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:00:34,753 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:00:34,753 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:00:34,753 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:00:34,753 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:00:34,753 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 04:00:34,753 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 04:00:34,753 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 04:00:34,753 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:00:34,753 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:00:34,771 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:00:34,771 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:00:34,771 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 04:00:34,771 - app.services.data_service - DEBUG - Searching for entry with serial N-A 243 in 612 ocm entries using URL-safe lookup
2025-07-10 04:00:34,771 - app.services.data_service - INFO - Found matching ocm entry for serial N-A 243 using URL-safe lookup
2025-07-10 04:00:34,771 - app.services.data_service - INFO - Found matching ocm entry for serial N-A 243 using URL-safe lookup
2025-07-10 04:00:34,771 - app.services.data_service - DEBUG - Entry data: {'NO': 612, 'Department': 'XRAY', 'Name': 'XRAY VIEWER', 'Model': 'GENERIC', 'Serial': 'N-A 243', 'Manufacturer': 'LUME VISION', 'Log_Number': '1990', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/08/2025', 'Engineer': 'ARUN', 'Next_Maintenance': '01/08/2026', 'Status': 'Upcoming', 'has_history': False}
2025-07-10 04:00:34,788 - app.services.history_service - DEBUG - Looking for history notes for equipment_id: 'N-A 243' (original: 'N A 243')
2025-07-10 04:00:34,788 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-10 04:00:34,788 - app.services.history_service - DEBUG - Found 0 history notes for equipment N-A 243
2025-07-10 04:00:34,788 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:00:34,788 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:00:34,788 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:00:34,788 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:00:34,788 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:00:34,788 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:00:34,806 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:34] "GET /equipment/ocm/N-A%20243/history HTTP/1.1" 200 -
2025-07-10 04:00:34,914 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:34] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:00:35,023 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:35] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:00:35,234 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:35] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:35,239 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:35] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:35,244 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:35] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:35,247 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:35] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:35,250 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:35] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:35,355 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:35] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:41,672 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:00:41,672 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:00:41,672 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:00:41,672 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:00:41,672 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:00:41,672 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:00:41,672 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:00:41,687 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:00:41,688 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:00:41,688 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:00:41,862 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:00:41,863 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:00:41,864 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:00:41,865 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:00:41,865 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:00:41,871 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:41] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:00:41,960 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:41] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:00:42,038 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:42] "GET /static/js/settings.js?v=6490 HTTP/1.1" 200 -
2025-07-10 04:00:42,304 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:42] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:42,306 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:42] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:00:42,310 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:42] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:42,319 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:42] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:42,324 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:42] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:42,395 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:42] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:42,738 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:42] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:43,093 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:00:43,096 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:00:43,097 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:00:43,099 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:00:43,100 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:00:43,101 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:00:43,102 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:00:43,103 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:00:43,106 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:00:43,106 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:00:43,130 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:43] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:00:43,377 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:00:43,380 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:00:43,381 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:00:43,383 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:00:43,384 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:00:43,386 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:00:43,386 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:00:43,386 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:00:43,386 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:00:43,386 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:00:43,416 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:43] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:00:43,784 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:00:43,784 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:00:43,784 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:00:43,784 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:00:43,784 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:00:43,784 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:00:43,800 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:43] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:00:50,330 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:00:50,331 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:00:50,332 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:00:50,332 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:00:50,333 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:00:50,333 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:00:50,341 - app.services.audit_service - DEBUG - Loaded 556 audit log entries
2025-07-10 04:00:50,346 - app.services.audit_service - DEBUG - Loaded 556 audit log entries
2025-07-10 04:00:50,375 - app.services.audit_service - DEBUG - Saved 557 audit log entries
2025-07-10 04:00:50,375 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:00:50,375 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:00:50,378 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250710_034642_768648.zip (type: full)
2025-07-10 04:00:50,378 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250710_034642_768648.zip (type: full)
2025-07-10 04:00:50,382 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:50] "[32mPOST /backup/delete/full_backup_20250710_034642_768648.zip HTTP/1.1[0m" 302 -
2025-07-10 04:00:50,422 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:00:50,425 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:00:50,426 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:00:50,426 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:00:50,426 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:00:50,427 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:00:50,427 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:00:50,428 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:00:50,428 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:00:50,428 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:00:50,431 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:00:50,432 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:00:50,433 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:00:50,433 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:00:50,434 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:00:50,438 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:50] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:00:50,462 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:00:50,462 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:00:50,466 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:00:50,467 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:00:50,467 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:00:50,467 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:00:50,468 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:00:50,468 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:00:50,469 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:00:50,470 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:00:50,471 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:00:50,471 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:00:50,472 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:00:50,472 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:00:50,472 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:00:50,472 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:00:50,475 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250710_034642_768648.zip
2025-07-10 04:00:50,475 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250710_034642_768648.zip
2025-07-10 04:00:50,477 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250710_034642_768648.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250710_034642_768648.zip
2025-07-10 04:00:50,477 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:00:50,479 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:00:50,479 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:00:50,480 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:00:50,481 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:00:50,487 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:50] "[32mPOST /backup/delete/full_backup_20250710_034642_768648.zip HTTP/1.1[0m" 302 -
2025-07-10 04:00:50,491 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:50] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:00:50,507 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:00:50,509 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:00:50,509 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:00:50,510 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:00:50,510 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:00:50,510 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:00:50,511 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:00:50,511 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:00:50,512 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:00:50,512 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:00:50,523 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:00:50,524 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:00:50,524 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:00:50,525 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:00:50,525 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:00:50,529 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:50] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:00:50,562 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:50] "GET /static/js/settings.js?v=4427 HTTP/1.1" 200 -
2025-07-10 04:00:50,881 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:50] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:50,882 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:50] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:00:50,882 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:50] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:50,885 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:50] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:00:50,886 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:50] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:50,887 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:50] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:51,221 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:51] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:51,238 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:51] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:00:51,638 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:00:51,638 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:00:51,638 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:00:51,638 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:00:51,638 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:00:51,638 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:00:51,652 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:00:51,653 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:00:51,656 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:00:51,656 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:00:51,668 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:51] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:00:51,873 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:00:51,878 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:00:51,879 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:00:51,880 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:00:51,882 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:00:51,883 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:00:51,885 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:00:51,886 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:00:51,886 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:00:51,886 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:00:51,930 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:51] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:00:52,303 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:00:52,307 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:00:52,308 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:00:52,309 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:00:52,311 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:00:52,311 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:00:52,329 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:00:52] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:01:06,904 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:01:06,904 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:06,904 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:01:06,904 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:06,904 - app.routes.api - INFO - Received request to save backup settings via API.
2025-07-10 04:01:06,904 - app.routes.api - INFO - Received request to save backup settings via API.
2025-07-10 04:01:06,904 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:06,904 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:06,904 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:06,904 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:06,904 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:06,904 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 1, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:06,920 - app.services.data_service - INFO - Attempting to save settings to data\settings.json. Data: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:06,920 - app.services.data_service - INFO - Attempting to save settings to data\settings.json. Data: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:06,920 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:06,920 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:06,920 - app.services.data_service - INFO - Settings saved successfully to data\settings.json.
2025-07-10 04:01:06,920 - app.services.data_service - INFO - Settings saved successfully to data\settings.json.
2025-07-10 04:01:06,920 - app.routes.api - INFO - Backup settings saved successfully: {'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24}
2025-07-10 04:01:06,920 - app.routes.api - INFO - Backup settings saved successfully: {'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24}
2025-07-10 04:01:06,920 - app.services.audit_service - DEBUG - Loaded 557 audit log entries
2025-07-10 04:01:06,940 - app.services.audit_service - DEBUG - Loaded 557 audit log entries
2025-07-10 04:01:06,960 - app.services.audit_service - DEBUG - Saved 558 audit log entries
2025-07-10 04:01:06,960 - app.services.audit_service - INFO - Audit event logged: Setting Changed by User
2025-07-10 04:01:06,960 - app.services.audit_service - INFO - Audit event logged: Setting Changed by User
2025-07-10 04:01:06,964 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:06] "POST /api/backup-settings HTTP/1.1" 200 -
2025-07-10 04:01:31,675 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:01:31,677 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:31,677 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:01:31,678 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:31,678 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:31,678 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:31,683 - app.services.audit_service - DEBUG - Loaded 558 audit log entries
2025-07-10 04:01:31,688 - app.services.audit_service - DEBUG - Loaded 558 audit log entries
2025-07-10 04:01:31,704 - app.services.audit_service - DEBUG - Saved 559 audit log entries
2025-07-10 04:01:31,704 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:01:31,704 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:01:31,704 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250709_010256_262469.zip (type: full)
2025-07-10 04:01:31,704 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250709_010256_262469.zip (type: full)
2025-07-10 04:01:31,704 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:31] "[32mPOST /backup/delete/full_backup_20250709_010256_262469.zip HTTP/1.1[0m" 302 -
2025-07-10 04:01:31,728 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:01:31,729 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:31,729 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:01:31,729 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:31,730 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:31,730 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:31,730 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:31,730 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:31,731 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:31,731 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:31,733 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:01:31,734 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:01:31,734 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:01:31,734 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:01:31,735 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:01:31,737 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:31] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:01:31,752 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:01:31,753 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:31,753 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:01:31,753 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:31,753 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:31,753 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:31,753 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:31,753 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:31,753 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:31,753 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:31,753 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:01:31,753 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:01:31,753 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:01:31,753 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:01:31,753 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:01:31,753 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:31] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:01:31,789 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:01:31,790 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:31,791 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:01:31,791 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:31,792 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:31,792 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:31,793 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250709_010256_262469.zip
2025-07-10 04:01:31,793 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250709_010256_262469.zip
2025-07-10 04:01:31,794 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250709_010256_262469.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250709_010256_262469.zip
2025-07-10 04:01:31,796 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:31] "[32mPOST /backup/delete/full_backup_20250709_010256_262469.zip HTTP/1.1[0m" 302 -
2025-07-10 04:01:31,862 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:01:31,863 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:31,864 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:01:31,864 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:31,864 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:31,864 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:31,865 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:31,865 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:31,865 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:31,865 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:31,867 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:01:31,868 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:01:31,868 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:01:31,868 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:01:31,868 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:01:31,870 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:31] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:01:32,215 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:32] "GET /static/js/settings.js?v=5813 HTTP/1.1" 200 -
2025-07-10 04:01:32,216 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:32] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:01:32,217 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:32] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:01:32,217 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:32] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:32,218 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:32] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:32,219 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:32] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:32,538 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:32] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:32,538 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:32] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:32,570 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:32] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:32,904 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:01:32,904 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:32,904 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:01:32,904 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:32,904 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:32,904 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:32,904 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:32,904 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:32,904 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:32,904 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:32,923 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:32] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:01:33,171 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:01:33,171 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:33,171 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:01:33,171 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:33,171 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:33,171 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:33,171 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:33,171 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:33,171 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:33,171 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:33,171 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:33] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:01:33,605 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:01:33,605 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:33,605 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:01:33,605 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:33,605 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:33,605 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:33,620 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:33] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:01:42,042 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:01:42,053 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:42,055 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:01:42,055 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:42,057 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:42,057 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:42,060 - app.services.audit_service - DEBUG - Loaded 559 audit log entries
2025-07-10 04:01:42,071 - app.services.audit_service - DEBUG - Loaded 559 audit log entries
2025-07-10 04:01:42,092 - app.services.audit_service - DEBUG - Saved 560 audit log entries
2025-07-10 04:01:42,092 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:01:42,092 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:01:42,107 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_044934_516478.zip (type: full)
2025-07-10 04:01:42,107 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_044934_516478.zip (type: full)
2025-07-10 04:01:42,109 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:42] "[32mPOST /backup/delete/full_backup_20250708_044934_516478.zip HTTP/1.1[0m" 302 -
2025-07-10 04:01:42,138 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:01:42,141 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:42,141 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:01:42,142 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:42,143 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:42,143 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:42,143 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:42,143 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:42,143 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:42,143 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:42,143 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:01:42,143 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:01:42,143 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:01:42,153 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:01:42,155 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:01:42,161 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:42] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:01:42,183 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:01:42,188 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:42,189 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:01:42,189 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:42,190 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:42,190 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:42,191 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:42,191 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:42,193 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:42,193 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:01:42,195 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:42,196 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:01:42,197 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:42,198 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:42,193 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:42,198 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:42,214 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:01:42,214 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:01:42,214 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:01:42,214 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:01:42,214 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:01:42,221 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_044934_516478.zip
2025-07-10 04:01:42,225 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:42] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:01:42,221 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_044934_516478.zip
2025-07-10 04:01:42,238 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250708_044934_516478.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250708_044934_516478.zip
2025-07-10 04:01:42,242 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:42] "[32mPOST /backup/delete/full_backup_20250708_044934_516478.zip HTTP/1.1[0m" 302 -
2025-07-10 04:01:42,272 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:01:42,273 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:42,274 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:01:42,274 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:42,274 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:42,274 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:42,275 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:42,275 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:42,275 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:42,275 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:42,277 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:01:42,278 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:01:42,278 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:01:42,278 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:01:42,278 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:01:42,281 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:42] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:01:42,310 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:42] "GET /static/js/settings.js?v=333 HTTP/1.1" 200 -
2025-07-10 04:01:42,659 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:42] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:01:42,660 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:42] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:42,662 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:42] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:42,670 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:42] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:42,671 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:42] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:01:42,689 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:42] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:43,023 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:43] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:43,039 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:43] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:43,471 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:01:43,471 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:43,471 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:01:43,471 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:43,471 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:43,471 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:43,471 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:43,486 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:43,488 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:43,488 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:43,500 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:43] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:01:43,702 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:01:43,702 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:43,702 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:01:43,717 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:43,721 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:43,722 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:43,724 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:43,725 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:43,725 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:43,725 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:43,759 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:43] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:01:44,125 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:01:44,125 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:44,125 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:01:44,125 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:44,125 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:44,125 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:44,141 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:44] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:01:47,237 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:01:47,255 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:47,256 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:01:47,257 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:47,259 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:47,259 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:47,264 - app.services.audit_service - DEBUG - Loaded 560 audit log entries
2025-07-10 04:01:47,268 - app.services.audit_service - DEBUG - Loaded 560 audit log entries
2025-07-10 04:01:47,289 - app.services.audit_service - DEBUG - Saved 561 audit log entries
2025-07-10 04:01:47,290 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:01:47,290 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:01:47,291 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_103009_534314.zip (type: full)
2025-07-10 04:01:47,291 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_103009_534314.zip (type: full)
2025-07-10 04:01:47,294 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:47] "[32mPOST /backup/delete/full_backup_20250708_103009_534314.zip HTTP/1.1[0m" 302 -
2025-07-10 04:01:47,310 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:01:47,311 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:47,311 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:01:47,312 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:47,312 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:47,312 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:47,313 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:47,313 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:47,313 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:47,313 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:47,316 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:01:47,316 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:01:47,316 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:01:47,317 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:01:47,317 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:01:47,320 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:47] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:01:47,336 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:01:47,337 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:47,337 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:01:47,338 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:47,338 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:47,338 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:47,339 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:47,339 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:47,340 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:47,340 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:47,342 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:01:47,342 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:01:47,343 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:01:47,343 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:01:47,343 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:01:47,346 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:47] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:01:47,358 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:01:47,360 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:47,360 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:01:47,360 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:47,361 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:47,361 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:47,362 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_103009_534314.zip
2025-07-10 04:01:47,362 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_103009_534314.zip
2025-07-10 04:01:47,363 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250708_103009_534314.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250708_103009_534314.zip
2025-07-10 04:01:47,366 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:47] "[32mPOST /backup/delete/full_backup_20250708_103009_534314.zip HTTP/1.1[0m" 302 -
2025-07-10 04:01:47,381 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:01:47,382 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:47,383 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:01:47,383 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:47,383 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:47,384 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:47,384 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:47,384 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:47,386 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:47,386 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:47,390 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:01:47,390 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:01:47,391 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:01:47,391 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:01:47,391 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:01:47,394 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:47] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:01:47,422 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:47] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:01:47,736 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:47] "GET /static/js/settings.js?v=1226 HTTP/1.1" 200 -
2025-07-10 04:01:47,737 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:47] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:47,740 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:47] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:01:47,740 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:47] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:47,742 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:47] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:47,761 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:47] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:48,055 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:48] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:48,089 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:48] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:48,420 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:01:48,420 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:48,420 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:01:48,420 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:48,420 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:48,420 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:48,420 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:48,420 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:48,420 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:48,420 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:48,440 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:48] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:01:48,675 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:01:48,675 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:48,675 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:01:48,675 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:48,675 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:48,675 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:48,675 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:48,675 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:48,675 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:48,675 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:48,675 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:48] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:01:49,124 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:01:49,124 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:49,124 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:01:49,124 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:49,124 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:49,124 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:49,136 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:49] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:01:53,084 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:01:53,085 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:53,086 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:01:53,086 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:53,087 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:53,087 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:53,092 - app.services.audit_service - DEBUG - Loaded 561 audit log entries
2025-07-10 04:01:53,095 - app.services.audit_service - DEBUG - Loaded 561 audit log entries
2025-07-10 04:01:53,103 - app.services.audit_service - DEBUG - Saved 562 audit log entries
2025-07-10 04:01:53,103 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:01:53,103 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:01:53,103 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_224427_650394.zip (type: full)
2025-07-10 04:01:53,103 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_224427_650394.zip (type: full)
2025-07-10 04:01:53,103 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:53] "[32mPOST /backup/delete/full_backup_20250708_224427_650394.zip HTTP/1.1[0m" 302 -
2025-07-10 04:01:53,129 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:01:53,130 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:53,130 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:01:53,131 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:53,131 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:53,131 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:53,131 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:53,132 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:53,132 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:53,132 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:53,135 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:01:53,136 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:01:53,136 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:01:53,136 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:01:53,137 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:01:53,137 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:53] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:01:53,154 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:01:53,155 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:53,155 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:01:53,156 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:53,156 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:53,156 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:53,156 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:53,157 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:53,157 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:53,157 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:53,161 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:01:53,162 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:01:53,162 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:01:53,162 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:01:53,163 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:01:53,166 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:53] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:01:53,221 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:01:53,222 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:53,223 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:01:53,223 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:53,224 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:53,224 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:53,225 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_224427_650394.zip
2025-07-10 04:01:53,225 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_224427_650394.zip
2025-07-10 04:01:53,225 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250708_224427_650394.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250708_224427_650394.zip
2025-07-10 04:01:53,228 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:53] "[32mPOST /backup/delete/full_backup_20250708_224427_650394.zip HTTP/1.1[0m" 302 -
2025-07-10 04:01:53,237 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:01:53,237 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:53,237 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:01:53,237 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:53,237 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:53,237 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:53,237 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:53,237 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:53,237 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:53,237 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:53,237 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:01:53,237 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:01:53,237 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:01:53,237 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:01:53,237 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:01:53,251 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:53] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:01:53,279 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:53] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:01:53,598 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:53] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:53,599 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:53] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:01:53,599 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:53] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:53,600 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:53] "GET /static/js/settings.js?v=9490 HTTP/1.1" 200 -
2025-07-10 04:01:53,602 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:53] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:53,603 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:53] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:53,924 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:53] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:53,924 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:53] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:54,268 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:01:54,270 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:54,271 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:01:54,271 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:54,271 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:54,271 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:54,271 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:54,271 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:54,271 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:54,271 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:54,271 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:54] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:01:54,545 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:01:54,545 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:54,545 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:01:54,545 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:54,545 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:54,545 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:54,545 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:54,545 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:54,554 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:54,554 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:54,562 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:54] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:01:54,960 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:01:54,970 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:54,970 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:01:54,970 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:54,972 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:54,972 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:54,977 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:54] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:01:57,741 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:01:57,743 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:57,743 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:01:57,743 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:57,744 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:57,744 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:57,749 - app.services.audit_service - DEBUG - Loaded 562 audit log entries
2025-07-10 04:01:57,753 - app.services.audit_service - DEBUG - Loaded 562 audit log entries
2025-07-10 04:01:57,772 - app.services.audit_service - DEBUG - Saved 563 audit log entries
2025-07-10 04:01:57,773 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:01:57,773 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:01:57,774 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_224550_881116.zip (type: full)
2025-07-10 04:01:57,774 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_224550_881116.zip (type: full)
2025-07-10 04:01:57,777 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:57] "[32mPOST /backup/delete/full_backup_20250708_224550_881116.zip HTTP/1.1[0m" 302 -
2025-07-10 04:01:57,791 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:01:57,792 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:57,792 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:01:57,792 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:57,793 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:57,793 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:57,793 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:57,793 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:57,794 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:57,794 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:57,797 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:01:57,797 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:01:57,797 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:01:57,797 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:01:57,798 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:01:57,801 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:57] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:01:57,817 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:01:57,817 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:57,818 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:01:57,818 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:57,818 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:57,819 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:57,819 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:57,819 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:57,820 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:57,820 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:57,823 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:01:57,823 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:01:57,824 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:01:57,824 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:01:57,824 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:01:57,827 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:57] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:01:57,858 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:01:57,858 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:57,858 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:01:57,858 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:57,858 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:57,858 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:57,858 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_224550_881116.zip
2025-07-10 04:01:57,858 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_224550_881116.zip
2025-07-10 04:01:57,858 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250708_224550_881116.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250708_224550_881116.zip
2025-07-10 04:01:57,871 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:57] "[32mPOST /backup/delete/full_backup_20250708_224550_881116.zip HTTP/1.1[0m" 302 -
2025-07-10 04:01:57,893 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:01:57,904 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:57,905 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:01:57,905 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:57,905 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:57,906 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:57,906 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:57,906 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:57,907 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:57,907 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:57,907 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:01:57,907 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:01:57,907 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:01:57,907 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:01:57,907 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:01:57,907 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:57] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:01:57,948 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:57] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:01:58,266 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:58] "GET /static/js/settings.js?v=2945 HTTP/1.1" 200 -
2025-07-10 04:01:58,267 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:58] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:58,270 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:58] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:01:58,276 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:58] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:58,276 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:58] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:58,278 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:58] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:58,648 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:58] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:58,655 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:58] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:01:59,040 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:01:59,043 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:59,044 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:01:59,045 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:59,045 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:59,046 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:59,047 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:59,048 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:59,049 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:59,049 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:59,079 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:59] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:01:59,288 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:01:59,304 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:59,304 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:01:59,304 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:59,304 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:01:59,304 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:01:59,304 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:01:59,304 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:01:59,304 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:59,304 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:01:59,304 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:59] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:01:59,726 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:01:59,726 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:01:59,726 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:01:59,726 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:01:59,726 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:59,726 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:01:59,740 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:01:59] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:02:03,039 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:03,042 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:03,043 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:03,043 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:03,046 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:03,046 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:03,060 - app.services.audit_service - DEBUG - Loaded 563 audit log entries
2025-07-10 04:02:03,070 - app.services.audit_service - DEBUG - Loaded 563 audit log entries
2025-07-10 04:02:03,124 - app.services.audit_service - DEBUG - Saved 564 audit log entries
2025-07-10 04:02:03,125 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:03,125 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:03,128 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_224831_832895.zip (type: full)
2025-07-10 04:02:03,128 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_224831_832895.zip (type: full)
2025-07-10 04:02:03,141 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:03] "[32mPOST /backup/delete/full_backup_20250708_224831_832895.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:03,178 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:03,180 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:03,181 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:03,182 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:03,183 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:03,183 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:03,184 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:03,185 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:03,187 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:03,187 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:03,194 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:03,194 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:03,195 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:03,196 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:03,197 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:03,208 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:03] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:03,245 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:03,245 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:03,245 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:03,253 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:03,253 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:03,254 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:03,255 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:03,256 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:03,256 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:03,259 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:03,256 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:03,261 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:03,262 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:03,262 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:03,263 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:03,263 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:03,266 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:03,267 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:03,267 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_224831_832895.zip
2025-07-10 04:02:03,267 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:03,268 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:03,267 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_224831_832895.zip
2025-07-10 04:02:03,268 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:03,274 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:03] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:03,274 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250708_224831_832895.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250708_224831_832895.zip
2025-07-10 04:02:03,274 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:03] "[32mPOST /backup/delete/full_backup_20250708_224831_832895.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:03,311 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:03,312 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:03,312 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:03,313 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:03,313 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:03,313 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:03,313 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:03,313 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:03,314 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:03,314 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:03,317 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:03,317 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:03,317 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:03,317 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:03,318 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:03,322 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:03] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:03,358 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:03] "GET /static/js/settings.js?v=7480 HTTP/1.1" 200 -
2025-07-10 04:02:03,704 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:03] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:03,708 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:03] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:03,709 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:03] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:03,713 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:03] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:03,717 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:03] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:03,719 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:03] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:04,055 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:04] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:04,088 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:04] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:04,443 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:04,444 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:04,445 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:04,445 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:04,445 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:04,446 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:04,446 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:04,446 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:04,447 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:04,447 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:04,453 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:04] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:04,707 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:04,710 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:04,710 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:04,710 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:04,710 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:04,710 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:04,710 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:04,710 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:04,710 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:04,710 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:04,727 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:04] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:05,137 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:05,137 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:05,137 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:05,137 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:05,137 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:05,137 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:05,154 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:05] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:02:09,888 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:09,889 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:09,891 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:09,891 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:09,892 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:09,892 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:09,896 - app.services.audit_service - DEBUG - Loaded 564 audit log entries
2025-07-10 04:02:09,899 - app.services.audit_service - DEBUG - Loaded 564 audit log entries
2025-07-10 04:02:09,906 - app.services.audit_service - DEBUG - Saved 565 audit log entries
2025-07-10 04:02:09,906 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:09,906 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:09,906 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_224916_720132.zip (type: full)
2025-07-10 04:02:09,906 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_224916_720132.zip (type: full)
2025-07-10 04:02:09,924 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:09] "[32mPOST /backup/delete/full_backup_20250708_224916_720132.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:09,938 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:09,939 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:09,940 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:09,940 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:09,940 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:09,940 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:09,941 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:09,941 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:09,941 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:09,941 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:09,944 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:09,944 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:09,944 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:09,944 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:09,945 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:09,948 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:09] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:09,963 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:09,964 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:09,964 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:09,965 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:09,965 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:09,965 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:09,965 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:09,966 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:09,966 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:09,966 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:09,970 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:09,970 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:09,971 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:09,971 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:09,971 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:09,974 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:09] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:09,981 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:09,982 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:09,983 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:09,983 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:09,984 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:09,984 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:09,987 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_224916_720132.zip
2025-07-10 04:02:09,987 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_224916_720132.zip
2025-07-10 04:02:09,987 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250708_224916_720132.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250708_224916_720132.zip
2025-07-10 04:02:09,990 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:09] "[32mPOST /backup/delete/full_backup_20250708_224916_720132.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:10,005 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:10,006 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:10,006 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:10,006 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:10,007 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:10,007 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:10,007 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:10,007 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:10,008 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:10,008 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:10,011 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:10,012 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:10,012 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:10,012 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:10,012 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:10,016 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:10] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:10,071 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:10] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:10,364 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:10] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:10,365 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:10] "GET /static/js/settings.js?v=4030 HTTP/1.1" 200 -
2025-07-10 04:02:10,366 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:10] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:10,367 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:10] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:10,369 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:10] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:10,390 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:10] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:10,687 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:10] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:10,720 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:10] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:11,081 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:11,082 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:11,082 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:11,083 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:11,083 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:11,083 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:11,083 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:11,084 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:11,084 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:11,084 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:11,090 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:11] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:11,359 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:11,360 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:11,360 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:11,360 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:11,360 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:11,360 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:11,374 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:11,374 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:11,376 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:11,376 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:11,392 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:11] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:11,773 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:11,774 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:11,774 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:11,775 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:11,775 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:11,775 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:11,777 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:11] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:02:14,538 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:14,540 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:14,541 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:14,541 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:14,543 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:14,543 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:14,543 - app.services.audit_service - DEBUG - Loaded 565 audit log entries
2025-07-10 04:02:14,558 - app.services.audit_service - DEBUG - Loaded 565 audit log entries
2025-07-10 04:02:14,590 - app.services.audit_service - DEBUG - Saved 566 audit log entries
2025-07-10 04:02:14,591 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:14,591 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:14,591 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_224953_811579.zip (type: full)
2025-07-10 04:02:14,591 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_224953_811579.zip (type: full)
2025-07-10 04:02:14,604 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:14] "[32mPOST /backup/delete/full_backup_20250708_224953_811579.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:14,624 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:14,624 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:14,624 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:14,624 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:14,624 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:14,636 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:14,636 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:14,637 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:14,637 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:14,637 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:14,644 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:14,644 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:14,644 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:14,644 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:14,644 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:14,654 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:14] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:14,680 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:14,680 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:14,680 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:14,680 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:14,680 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:14,680 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:14,689 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_224953_811579.zip
2025-07-10 04:02:14,689 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_224953_811579.zip
2025-07-10 04:02:14,689 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250708_224953_811579.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250708_224953_811579.zip
2025-07-10 04:02:14,689 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:14] "[32mPOST /backup/delete/full_backup_20250708_224953_811579.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:14,723 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:14,723 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:14,723 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:14,723 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:14,723 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:14,723 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:14,723 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:14,723 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:14,723 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:14,723 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:14,738 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:14,738 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:14,738 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:14,738 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:14,738 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:14,738 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:14] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:14,797 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:14] "GET /static/js/settings.js?v=8876 HTTP/1.1" 200 -
2025-07-10 04:02:15,145 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:15] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:15,147 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:15] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:15,149 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:15] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:15,150 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:15] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:15,153 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:15] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:15,153 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:15] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:15,504 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:15] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:15,520 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:15] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:15,909 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:15,909 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:15,909 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:15,909 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:15,909 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:15,909 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:15,909 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:15,909 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:15,909 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:15,909 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:15,925 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:15] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:16,157 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:16,157 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:16,157 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:16,157 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:16,157 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:16,157 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:16,157 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:16,157 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:16,157 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:16,157 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:16,173 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:16] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:16,609 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:16,611 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:16,611 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:16,612 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:16,614 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:16,614 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:16,622 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:16] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:02:19,044 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:19,045 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:19,045 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:19,046 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:19,047 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:19,047 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:19,061 - app.services.audit_service - DEBUG - Loaded 566 audit log entries
2025-07-10 04:02:19,067 - app.services.audit_service - DEBUG - Loaded 566 audit log entries
2025-07-10 04:02:19,097 - app.services.audit_service - DEBUG - Saved 567 audit log entries
2025-07-10 04:02:19,097 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:19,097 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:19,097 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_230249_095789.zip (type: full)
2025-07-10 04:02:19,097 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_230249_095789.zip (type: full)
2025-07-10 04:02:19,112 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:19] "[32mPOST /backup/delete/full_backup_20250708_230249_095789.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:19,139 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:19,141 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:19,141 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:19,142 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:19,143 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:19,144 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:19,145 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:19,146 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:19,146 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:19,146 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:19,146 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:19,146 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:19,155 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:19,156 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:19,157 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:19,163 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:19] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:19,213 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:19,229 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:19,231 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:19,231 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:19,231 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:19,231 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:19,236 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:19,239 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:19,240 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:19,240 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:19,241 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:19,242 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:19,241 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:19,243 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:19,245 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:19,245 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_230249_095789.zip
2025-07-10 04:02:19,245 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:19,245 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_230249_095789.zip
2025-07-10 04:02:19,260 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:19,261 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:19,262 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:19,262 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:19,262 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:19,262 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250708_230249_095789.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250708_230249_095789.zip
2025-07-10 04:02:19,275 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:19] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:19,279 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:19] "[32mPOST /backup/delete/full_backup_20250708_230249_095789.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:19,320 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:19,322 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:19,322 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:19,323 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:19,323 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:19,323 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:19,324 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:19,324 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:19,325 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:19,325 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:19,336 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:19,337 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:19,337 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:19,338 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:19,338 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:19,344 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:19] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:19,413 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:19] "GET /static/js/settings.js?v=5791 HTTP/1.1" 200 -
2025-07-10 04:02:19,730 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:19] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:19,730 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:19] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:19,732 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:19] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:19,733 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:19] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:19,738 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:19] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:19,757 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:19] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:20,066 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:20] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:20,067 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:20] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:20,425 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:20,427 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:20,427 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:20,427 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:20,429 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:20,429 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:20,430 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:20,430 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:20,431 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:20,431 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:20,438 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:20] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:20,677 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:20,677 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:20,677 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:20,677 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:20,677 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:20,677 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:20,677 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:20,677 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:20,677 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:20,677 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:20,692 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:20] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:21,110 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:21,110 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:21,110 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:21,110 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:21,110 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:21,110 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:21,119 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:21] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:02:23,694 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:23,695 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:23,695 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:23,696 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:23,697 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:23,697 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:23,702 - app.services.audit_service - DEBUG - Loaded 567 audit log entries
2025-07-10 04:02:23,706 - app.services.audit_service - DEBUG - Loaded 567 audit log entries
2025-07-10 04:02:23,726 - app.services.audit_service - DEBUG - Saved 568 audit log entries
2025-07-10 04:02:23,727 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:23,727 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:23,728 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_234551_779168.zip (type: full)
2025-07-10 04:02:23,728 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_234551_779168.zip (type: full)
2025-07-10 04:02:23,732 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:23] "[32mPOST /backup/delete/full_backup_20250708_234551_779168.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:23,748 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:23,749 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:23,749 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:23,749 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:23,749 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:23,750 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:23,750 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:23,750 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:23,751 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:23,751 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:23,755 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:23,755 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:23,755 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:23,756 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:23,757 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:23,757 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:23] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:23,777 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:23,779 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:23,779 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:23,779 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:23,780 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:23,780 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:23,780 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:23,781 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:23,781 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:23,781 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:23,789 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:23,790 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:23,790 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:23,791 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:23,792 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:23,792 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:23,794 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:23,794 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:23,794 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:23,796 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:23,797 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:23] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:23,796 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:23,806 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_234551_779168.zip
2025-07-10 04:02:23,806 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_234551_779168.zip
2025-07-10 04:02:23,807 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250708_234551_779168.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250708_234551_779168.zip
2025-07-10 04:02:23,810 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:23] "[32mPOST /backup/delete/full_backup_20250708_234551_779168.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:23,824 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:23,825 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:23,826 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:23,826 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:23,826 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:23,826 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:23,827 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:23,827 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:23,827 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:23,827 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:23,831 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:23,832 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:23,832 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:23,833 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:23,833 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:23,836 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:23] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:23,868 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:23] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:24,184 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:24] "GET /static/js/settings.js?v=417 HTTP/1.1" 200 -
2025-07-10 04:02:24,186 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:24] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:24,187 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:24] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:24,188 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:24] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:24,190 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:24] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:24,190 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:24] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:24,520 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:24] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:24,520 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:24] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:24,880 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:24,883 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:24,883 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:24,886 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:24,886 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:24,887 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:24,887 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:24,888 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:24,889 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:24,889 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:24,907 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:24] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:25,123 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:25,123 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:25,123 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:25,123 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:25,123 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:25,123 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:25,123 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:25,123 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:25,123 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:25,123 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:25,139 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:25] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:25,591 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:25,593 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:25,593 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:25,593 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:25,593 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:25,593 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:25,593 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:25] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:02:27,939 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:27,940 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:27,941 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:27,941 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:27,942 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:27,942 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:27,947 - app.services.audit_service - DEBUG - Loaded 568 audit log entries
2025-07-10 04:02:27,950 - app.services.audit_service - DEBUG - Loaded 568 audit log entries
2025-07-10 04:02:27,972 - app.services.audit_service - DEBUG - Saved 569 audit log entries
2025-07-10 04:02:27,972 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:27,972 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:27,974 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_234832_576367.zip (type: full)
2025-07-10 04:02:27,974 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_234832_576367.zip (type: full)
2025-07-10 04:02:27,977 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:27] "[32mPOST /backup/delete/full_backup_20250708_234832_576367.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:27,993 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:27,995 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:27,995 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:27,996 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:27,996 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:27,996 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:27,996 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:27,996 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:27,996 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:27,996 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:27,998 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:27,998 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:27,999 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:27,999 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:27,999 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:28,004 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:28] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:28,023 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:28,023 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:28,023 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:28,023 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:28,023 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:28,023 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:28,023 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:28,023 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:28,023 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:28,023 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:28,038 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:28,040 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:28,040 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:28,040 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:28,040 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:28,040 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:28,040 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:28,040 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:28,040 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:28,040 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:28] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:28,040 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:28,040 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:28,054 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_234832_576367.zip
2025-07-10 04:02:28,054 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_234832_576367.zip
2025-07-10 04:02:28,055 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250708_234832_576367.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250708_234832_576367.zip
2025-07-10 04:02:28,055 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:28] "[32mPOST /backup/delete/full_backup_20250708_234832_576367.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:28,089 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:28,089 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:28,089 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:28,089 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:28,089 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:28,089 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:28,089 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:28,089 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:28,089 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:28,089 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:28,089 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:28,089 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:28,089 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:28,089 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:28,089 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:28,103 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:28] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:28,138 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:28] "GET /static/js/settings.js?v=5209 HTTP/1.1" 200 -
2025-07-10 04:02:28,474 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:28] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:28,494 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:28] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:28,494 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:28] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:28,499 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:28] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:28,505 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:28] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:28,523 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:28] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:28,840 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:28] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:28,893 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:28] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:29,262 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:29,264 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:29,265 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:29,265 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:29,265 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:29,266 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:29,266 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:29,266 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:29,267 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:29,267 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:29,276 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:29] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:29,508 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:29,508 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:29,508 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:29,508 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:29,519 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:29,519 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:29,519 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:29,521 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:29,522 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:29,522 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:29,526 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:29] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:29,961 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:29,961 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:29,961 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:29,961 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:29,969 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:29,969 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:29,979 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:29] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:02:32,737 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:32,737 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:32,737 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:32,737 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:32,737 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:32,737 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:32,737 - app.services.audit_service - DEBUG - Loaded 569 audit log entries
2025-07-10 04:02:32,753 - app.services.audit_service - DEBUG - Loaded 569 audit log entries
2025-07-10 04:02:32,770 - app.services.audit_service - DEBUG - Saved 570 audit log entries
2025-07-10 04:02:32,771 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:32,771 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:32,773 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_234917_417777.zip (type: full)
2025-07-10 04:02:32,773 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_234917_417777.zip (type: full)
2025-07-10 04:02:32,776 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:32] "[32mPOST /backup/delete/full_backup_20250708_234917_417777.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:32,790 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:32,791 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:32,792 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:32,792 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:32,792 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:32,792 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:32,793 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:32,793 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:32,793 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:32,793 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:32,796 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:32,796 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:32,796 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:32,797 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:32,797 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:32,800 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:32] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:32,804 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:32,804 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:32,804 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:32,804 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:32,804 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:32,804 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:32,818 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:32,818 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:32,819 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:32,819 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:32,822 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:32,823 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:32,823 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:32,823 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:32,824 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:32,827 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:32] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:32,846 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:32,847 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:32,847 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:32,848 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:32,849 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:32,849 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:32,849 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_234917_417777.zip
2025-07-10 04:02:32,849 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_234917_417777.zip
2025-07-10 04:02:32,850 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250708_234917_417777.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250708_234917_417777.zip
2025-07-10 04:02:32,854 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:32] "[32mPOST /backup/delete/full_backup_20250708_234917_417777.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:32,869 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:32,871 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:32,871 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:32,872 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:32,872 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:32,873 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:32,873 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:32,873 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:32,874 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:32,874 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:32,879 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:32,879 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:32,880 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:32,880 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:32,880 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:32,884 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:32] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:32,910 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:32] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:33,231 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:33] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:33,232 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:33] "GET /static/js/settings.js?v=9931 HTTP/1.1" 200 -
2025-07-10 04:02:33,233 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:33] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:33,236 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:33] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:33,237 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:33] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:33,237 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:33] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:33,640 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:33] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:33,642 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:33] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:34,074 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:34,077 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:34,078 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:34,078 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:34,079 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:34,079 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:34,080 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:34,080 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:34,080 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:34,080 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:34,086 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:34] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:34,360 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:34,360 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:34,360 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:34,360 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:34,360 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:34,360 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:34,360 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:34,360 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:34,360 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:34,360 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:34,360 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:34] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:34,759 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:34,772 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:34,773 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:34,773 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:34,776 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:34,776 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:34,787 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:34] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:02:37,272 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:37,273 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:37,274 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:37,274 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:37,275 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:37,275 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:37,280 - app.services.audit_service - DEBUG - Loaded 570 audit log entries
2025-07-10 04:02:37,283 - app.services.audit_service - DEBUG - Loaded 570 audit log entries
2025-07-10 04:02:37,305 - app.services.audit_service - DEBUG - Saved 571 audit log entries
2025-07-10 04:02:37,307 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:37,307 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:37,313 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250709_005948_249685.zip (type: full)
2025-07-10 04:02:37,313 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250709_005948_249685.zip (type: full)
2025-07-10 04:02:37,325 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:37] "[32mPOST /backup/delete/full_backup_20250709_005948_249685.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:37,360 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:37,374 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:37,375 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:37,376 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:37,377 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:37,378 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:37,378 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:37,378 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:37,378 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:37,378 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:37,395 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:37,395 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:37,396 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:37,396 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:37,396 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:37,396 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:37] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:37,445 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:37,447 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:37,447 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:37,447 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:37,456 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:37,457 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:37,459 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:37,459 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:37,460 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:37,461 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:37,461 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:37,461 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:37,461 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:37,461 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:37,456 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:37,461 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:37,471 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250709_005948_249685.zip
2025-07-10 04:02:37,471 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:37,471 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250709_005948_249685.zip
2025-07-10 04:02:37,471 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:37,471 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:37,490 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:37,490 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:37,490 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250709_005948_249685.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250709_005948_249685.zip
2025-07-10 04:02:37,490 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:37] "[32mPOST /backup/delete/full_backup_20250709_005948_249685.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:37,507 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:37] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:37,539 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:37,542 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:37,542 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:37,542 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:37,543 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:37,543 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:37,543 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:37,544 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:37,545 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:37,545 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:37,557 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:37,557 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:37,558 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:37,559 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:37,559 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:37,562 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:37] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:37,631 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:37] "GET /static/js/settings.js?v=1820 HTTP/1.1" 200 -
2025-07-10 04:02:37,955 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:37] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:37,956 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:37] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:37,959 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:37] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:37,969 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:37] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:37,972 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:37] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:37,973 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:37] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:38,271 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:38] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:38,287 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:38] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:38,643 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:38,644 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:38,644 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:38,645 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:38,645 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:38,645 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:38,645 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:38,646 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:38,646 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:38,646 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:38,650 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:38] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:38,894 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:38,894 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:38,894 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:38,894 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:38,894 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:38,903 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:38,904 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:38,905 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:38,905 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:38,905 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:38,911 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:38] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:39,327 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:39,327 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:39,327 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:39,327 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:39,336 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:39,336 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:39,342 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:39] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:02:42,337 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:42,337 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:42,337 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:42,337 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:42,355 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:42,355 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:42,355 - app.services.audit_service - DEBUG - Loaded 571 audit log entries
2025-07-10 04:02:42,355 - app.services.audit_service - DEBUG - Loaded 571 audit log entries
2025-07-10 04:02:42,440 - app.services.audit_service - DEBUG - Saved 572 audit log entries
2025-07-10 04:02:42,442 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:42,442 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:42,457 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_234954_773369.zip (type: full)
2025-07-10 04:02:42,457 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_234954_773369.zip (type: full)
2025-07-10 04:02:42,466 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:42] "[32mPOST /backup/delete/full_backup_20250708_234954_773369.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:42,489 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:42,490 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:42,491 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:42,491 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:42,492 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:42,492 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:42,492 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:42,493 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:42,493 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:42,493 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:42,503 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:42,503 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:42,503 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:42,503 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:42,503 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:42,503 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:42] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:42,527 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:42,529 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:42,529 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:42,529 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:42,530 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:42,530 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:42,530 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:42,531 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:42,531 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:42,531 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:42,560 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:42,561 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:42,562 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:42,562 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:42,562 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:42,566 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:42] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:42,598 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:42,601 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:42,601 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:42,602 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:42,603 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:42,603 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:42,606 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_234954_773369.zip
2025-07-10 04:02:42,606 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_234954_773369.zip
2025-07-10 04:02:42,606 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250708_234954_773369.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250708_234954_773369.zip
2025-07-10 04:02:42,606 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:42] "[32mPOST /backup/delete/full_backup_20250708_234954_773369.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:42,639 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:42,639 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:42,639 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:42,639 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:42,639 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:42,639 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:42,639 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:42,639 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:42,639 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:42,639 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:42,639 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:42,639 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:42,639 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:42,639 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:42,639 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:42,639 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:42] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:42,682 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:42] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:42,997 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:42] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:42,998 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:42] "GET /static/js/settings.js?v=3813 HTTP/1.1" 200 -
2025-07-10 04:02:42,998 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:42] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:42,999 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:42] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:43,001 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:43] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:43,004 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:43] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:43,320 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:43] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:43,320 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:43] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:43,687 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:43,687 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:43,702 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:43,703 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:43,703 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:43,703 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:43,703 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:43,703 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:43,703 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:43,703 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:43,703 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:43] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:43,955 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:43,957 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:43,957 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:43,957 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:43,957 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:43,958 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:43,958 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:43,958 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:43,959 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:43,959 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:43,970 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:43] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:44,374 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:44,376 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:44,377 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:44,377 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:44,380 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:44,380 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:44,388 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:44] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:02:47,121 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:47,121 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:47,121 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:47,121 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:47,121 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:47,121 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:47,139 - app.services.audit_service - DEBUG - Loaded 572 audit log entries
2025-07-10 04:02:47,146 - app.services.audit_service - DEBUG - Loaded 572 audit log entries
2025-07-10 04:02:47,177 - app.services.audit_service - DEBUG - Saved 573 audit log entries
2025-07-10 04:02:47,177 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:47,177 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:47,179 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250709_000250_449834.zip (type: full)
2025-07-10 04:02:47,179 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250709_000250_449834.zip (type: full)
2025-07-10 04:02:47,182 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:47] "[32mPOST /backup/delete/full_backup_20250709_000250_449834.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:47,188 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:47,208 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:47,208 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:47,208 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:47,208 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:47,208 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:47,208 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:47,208 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:47,208 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:47,208 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:47,208 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:47,208 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:47,208 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:47,208 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:47,208 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:47,208 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:47] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:47,237 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:47,237 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:47,237 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:47,237 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:47,237 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:47,237 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:47,237 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:47,237 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:47,237 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:47,237 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:47,237 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:47,237 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:47,237 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:47,237 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:47,237 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:47,253 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:47] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:47,255 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:47,255 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:47,255 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:47,255 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:47,255 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:47,255 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:47,270 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250709_000250_449834.zip
2025-07-10 04:02:47,270 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250709_000250_449834.zip
2025-07-10 04:02:47,270 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250709_000250_449834.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250709_000250_449834.zip
2025-07-10 04:02:47,270 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:47] "[32mPOST /backup/delete/full_backup_20250709_000250_449834.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:47,287 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:47,287 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:47,287 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:47,287 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:47,287 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:47,287 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:47,287 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:47,287 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:47,287 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:47,287 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:47,303 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:47,303 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:47,303 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:47,303 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:47,303 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:47,303 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:47] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:02:47,352 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:47] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:47,691 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:47] "GET /static/js/settings.js?v=9987 HTTP/1.1" 200 -
2025-07-10 04:02:47,693 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:47] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:02:47,700 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:47] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:47,705 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:47] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:47,760 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:47] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:47,774 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:47] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:48,094 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:48] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:48,138 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:48] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:02:48,522 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:48,522 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:48,536 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:48,539 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:48,539 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:48,540 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:48,541 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:48,541 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:48,542 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:48,542 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:48,549 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:48] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:48,763 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:02:48,775 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:48,783 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:02:48,784 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:48,786 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:48,786 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:48,804 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:48,805 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:48,807 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:48,807 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:48,886 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:48] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:02:49,192 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:49,192 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:49,192 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:49,192 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:49,203 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:49,203 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:49,211 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:49] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:02:57,570 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:57,570 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:57,570 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:57,570 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:57,570 - app.services.audit_service - DEBUG - Loaded 573 audit log entries
2025-07-10 04:02:57,570 - app.services.audit_service - DEBUG - Loaded 573 audit log entries
2025-07-10 04:02:57,598 - app.services.audit_service - DEBUG - Saved 574 audit log entries
2025-07-10 04:02:57,598 - app.services.audit_service - INFO - Audit event logged: Data Export by User
2025-07-10 04:02:57,598 - app.services.audit_service - INFO - Audit event logged: Data Export by User
2025-07-10 04:02:57,603 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:57] "GET /backup/download/full/full_backup_20250709_004955_481919.zip HTTP/1.1" 200 -
2025-07-10 04:02:57,618 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:57,620 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:57,620 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:57,621 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:57,637 - app.services.audit_service - DEBUG - Loaded 574 audit log entries
2025-07-10 04:02:57,637 - app.services.audit_service - DEBUG - Loaded 574 audit log entries
2025-07-10 04:02:57,657 - app.services.audit_service - DEBUG - Saved 575 audit log entries
2025-07-10 04:02:57,658 - app.services.audit_service - INFO - Audit event logged: Data Export by User
2025-07-10 04:02:57,658 - app.services.audit_service - INFO - Audit event logged: Data Export by User
2025-07-10 04:02:57,662 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:57] "[35m[1mGET /backup/download/full/full_backup_20250709_004955_481919.zip HTTP/1.1[0m" 206 -
2025-07-10 04:02:59,804 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:02:59,806 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:59,806 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:02:59,806 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:59,806 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:59,806 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:02:59,806 - app.services.audit_service - DEBUG - Loaded 575 audit log entries
2025-07-10 04:02:59,821 - app.services.audit_service - DEBUG - Loaded 575 audit log entries
2025-07-10 04:02:59,866 - app.services.audit_service - DEBUG - Saved 576 audit log entries
2025-07-10 04:02:59,867 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:59,867 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:02:59,876 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250709_004955_481919.zip (type: full)
2025-07-10 04:02:59,876 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250709_004955_481919.zip (type: full)
2025-07-10 04:02:59,882 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:59] "[32mPOST /backup/delete/full_backup_20250709_004955_481919.zip HTTP/1.1[0m" 302 -
2025-07-10 04:02:59,926 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:02:59,927 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:02:59,927 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:02:59,927 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:02:59,927 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:02:59,927 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:02:59,927 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:02:59,927 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:02:59,927 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:59,927 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:02:59,946 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:02:59,946 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:02:59,946 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:02:59,946 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:02:59,946 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:02:59,959 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:02:59] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:03:00,014 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:03:00,015 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:00,016 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:03:00,016 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:00,018 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:00,025 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:03:00,027 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:00,032 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:03:00,041 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:00,042 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:00,042 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:00,043 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:00,043 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:00,044 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:00,018 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:00,068 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250709_004955_481919.zip
2025-07-10 04:03:00,044 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:00,068 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250709_004955_481919.zip
2025-07-10 04:03:00,092 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:03:00,092 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:03:00,092 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:03:00,092 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:03:00,092 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:03:00,108 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250709_004955_481919.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250709_004955_481919.zip
2025-07-10 04:03:00,117 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:00] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:03:00,125 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:00] "[32mPOST /backup/delete/full_backup_20250709_004955_481919.zip HTTP/1.1[0m" 302 -
2025-07-10 04:03:00,175 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:03:00,177 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:00,177 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:03:00,177 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:00,178 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:00,178 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:00,178 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:00,178 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:00,179 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:00,179 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:00,184 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:03:00,184 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:03:00,184 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:03:00,185 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:03:00,185 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:03:00,189 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:00] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:03:00,556 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:00] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:00,563 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:00] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:00,565 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:00] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:03:00,567 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:00] "GET /static/js/settings.js?v=6638 HTTP/1.1" 200 -
2025-07-10 04:03:00,569 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:00] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:00,569 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:00] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:03:00,895 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:00] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:00,895 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:00] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:00,922 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:00] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:01,262 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:03:01,264 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:01,266 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:03:01,266 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:01,266 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:01,266 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:01,267 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:01,267 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:01,268 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:01,268 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:01,275 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:01] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:03:01,517 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:03:01,517 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:01,517 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:03:01,517 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:01,517 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:01,519 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:01,519 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:01,520 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:01,520 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:01,520 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:01,525 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:01] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:03:01,946 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:03:01,946 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:01,946 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:03:01,946 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:01,946 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:01,946 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:01,966 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:01] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:03:06,436 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:03:06,439 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:06,440 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:03:06,440 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:06,440 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:06,440 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:06,440 - app.services.audit_service - DEBUG - Loaded 576 audit log entries
2025-07-10 04:03:06,440 - app.services.audit_service - DEBUG - Loaded 576 audit log entries
2025-07-10 04:03:06,473 - app.services.audit_service - DEBUG - Saved 577 audit log entries
2025-07-10 04:03:06,473 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:03:06,473 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:03:06,473 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250709_004917_921946.zip (type: full)
2025-07-10 04:03:06,473 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250709_004917_921946.zip (type: full)
2025-07-10 04:03:06,473 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:06] "[32mPOST /backup/delete/full_backup_20250709_004917_921946.zip HTTP/1.1[0m" 302 -
2025-07-10 04:03:06,490 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:03:06,490 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:06,490 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:03:06,490 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:06,490 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:06,490 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:06,490 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:06,490 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:06,490 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:06,490 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:06,507 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:03:06,507 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:03:06,507 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:03:06,507 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:03:06,507 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:03:06,507 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:06] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:03:06,525 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:03:06,525 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:03:06,525 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:06,525 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:03:06,525 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:06,525 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:06,525 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:03:06,525 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:06,525 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:06,525 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:06,537 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:06,538 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:06,539 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:06,540 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:06,539 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:06,540 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:06,543 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:03:06,543 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:03:06,543 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250709_004917_921946.zip
2025-07-10 04:03:06,543 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250709_004917_921946.zip
2025-07-10 04:03:06,543 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:03:06,553 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:03:06,556 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:03:06,559 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250709_004917_921946.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250709_004917_921946.zip
2025-07-10 04:03:06,560 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:06] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:03:06,565 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:06] "[32mPOST /backup/delete/full_backup_20250709_004917_921946.zip HTTP/1.1[0m" 302 -
2025-07-10 04:03:06,584 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:03:06,586 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:06,586 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:03:06,588 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:06,588 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:06,589 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:06,589 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:06,589 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:06,590 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:06,590 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:06,592 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:03:06,593 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:03:06,593 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:03:06,593 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:03:06,594 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:03:06,597 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:06] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:03:06,630 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:06] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:03:06,978 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:06] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:06,979 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:06] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:03:06,980 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:06] "GET /static/js/settings.js?v=3276 HTTP/1.1" 200 -
2025-07-10 04:03:06,982 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:06] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:06,983 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:06] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:06,988 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:06] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:07,421 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:07] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:07,470 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:07] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:07,820 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:03:07,820 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:07,820 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:03:07,820 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:07,820 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:07,820 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:07,820 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:07,820 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:07,820 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:07,820 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:07,835 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:07] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:03:08,091 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:03:08,093 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:08,093 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:03:08,093 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:08,093 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:08,093 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:08,093 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:08,093 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:08,093 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:08,093 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:08,093 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:08] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:03:08,526 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:03:08,526 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:08,526 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:03:08,526 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:08,526 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:08,526 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:08,526 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:08] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:03:11,641 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:03:11,641 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:11,641 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:03:11,641 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:11,641 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:11,641 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:11,657 - app.services.audit_service - DEBUG - Loaded 577 audit log entries
2025-07-10 04:03:11,658 - app.services.audit_service - DEBUG - Loaded 577 audit log entries
2025-07-10 04:03:11,673 - app.services.audit_service - DEBUG - Saved 578 audit log entries
2025-07-10 04:03:11,673 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:03:11,673 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:03:11,673 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250709_004836_554542.zip (type: full)
2025-07-10 04:03:11,673 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250709_004836_554542.zip (type: full)
2025-07-10 04:03:11,690 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:11] "[32mPOST /backup/delete/full_backup_20250709_004836_554542.zip HTTP/1.1[0m" 302 -
2025-07-10 04:03:11,708 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:03:11,708 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:11,708 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:03:11,708 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:11,708 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:11,708 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:11,708 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:11,708 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:11,708 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:11,708 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:11,708 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:03:11,708 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:03:11,719 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:03:11,719 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:03:11,721 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:03:11,725 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:11] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:03:11,742 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:03:11,742 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:03:11,753 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:11,754 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:03:11,755 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:11,756 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:11,757 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:03:11,757 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:11,757 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:11,758 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:11,758 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:11,759 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:11,759 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:11,759 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:11,757 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:11,759 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:11,759 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250709_004836_554542.zip
2025-07-10 04:03:11,759 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250709_004836_554542.zip
2025-07-10 04:03:11,770 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:03:11,771 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250709_004836_554542.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250709_004836_554542.zip
2025-07-10 04:03:11,772 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:03:11,774 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:03:11,774 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:03:11,775 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:03:11,779 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:11] "[32mPOST /backup/delete/full_backup_20250709_004836_554542.zip HTTP/1.1[0m" 302 -
2025-07-10 04:03:11,779 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:11] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:03:11,792 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:03:11,793 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:11,794 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:03:11,794 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:11,794 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:11,795 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:11,795 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:11,795 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:11,796 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:11,796 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:11,799 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:03:11,799 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:03:11,800 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:03:11,800 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:03:11,800 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:03:11,804 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:11] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:03:11,838 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:11] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:03:12,148 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:12] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:12,148 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:12] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:12,149 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:12] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:03:12,150 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:12] "GET /static/js/settings.js?v=8333 HTTP/1.1" 200 -
2025-07-10 04:03:12,151 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:12] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:12,177 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:12] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:12,470 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:12] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:12,470 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:12] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:12,842 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:03:12,842 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:12,842 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:03:12,842 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:12,842 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:12,842 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:12,842 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:12,842 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:12,842 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:12,842 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:12,855 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:12] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:03:13,090 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:03:13,090 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:13,090 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:03:13,090 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:13,090 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:13,090 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:13,090 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:13,090 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:13,090 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:13,090 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:13,106 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:13] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:03:13,526 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:03:13,526 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:13,526 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:03:13,526 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:13,526 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:13,526 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:13,541 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:13] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:03:16,773 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:03:16,773 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:16,773 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:03:16,773 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:16,773 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:16,773 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:16,773 - app.services.audit_service - DEBUG - Loaded 578 audit log entries
2025-07-10 04:03:16,790 - app.services.audit_service - DEBUG - Loaded 578 audit log entries
2025-07-10 04:03:16,806 - app.services.audit_service - DEBUG - Saved 579 audit log entries
2025-07-10 04:03:16,806 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:03:16,806 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:03:16,806 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250709_004833_168250.zip (type: full)
2025-07-10 04:03:16,806 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250709_004833_168250.zip (type: full)
2025-07-10 04:03:16,806 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:16] "[32mPOST /backup/delete/full_backup_20250709_004833_168250.zip HTTP/1.1[0m" 302 -
2025-07-10 04:03:16,823 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:03:16,837 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:16,838 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:03:16,838 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:16,838 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:16,840 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:16,840 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:16,840 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:16,840 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:16,840 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:16,840 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:03:16,840 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:03:16,840 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:03:16,840 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:03:16,840 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:03:16,840 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:16] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:03:16,869 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:03:16,872 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:16,872 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:03:16,873 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:16,874 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:16,874 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:16,874 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250709_004833_168250.zip
2025-07-10 04:03:16,874 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250709_004833_168250.zip
2025-07-10 04:03:16,874 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250709_004833_168250.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250709_004833_168250.zip
2025-07-10 04:03:16,874 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:16] "[32mPOST /backup/delete/full_backup_20250709_004833_168250.zip HTTP/1.1[0m" 302 -
2025-07-10 04:03:16,891 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:03:16,891 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:16,891 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:03:16,891 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:16,891 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:16,891 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:16,891 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:16,891 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:16,891 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:16,891 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:16,907 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:03:16,907 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:03:16,907 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:03:16,907 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:03:16,907 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:03:16,907 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:16] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:03:16,949 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:16] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:03:17,265 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:17] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:03:17,265 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:17] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:17,266 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:17] "GET /static/js/settings.js?v=2483 HTTP/1.1" 200 -
2025-07-10 04:03:17,268 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:17] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:17,269 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:17] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:17,269 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:17] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:17,601 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:17] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:17,605 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:17] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:17,959 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:03:17,959 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:17,959 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:03:17,959 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:17,959 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:17,959 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:17,959 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:17,959 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:17,959 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:17,959 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:17,959 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:17] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:03:18,223 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:03:18,224 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:18,225 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:03:18,225 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:18,226 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:18,226 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:18,226 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:18,226 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:18,226 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:18,226 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:18,226 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:18] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:03:18,658 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:03:18,659 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:18,659 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:03:18,659 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:18,659 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:18,659 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:18,659 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:18] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:03:21,487 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:03:21,488 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:21,488 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:03:21,488 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:21,489 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:21,489 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:21,494 - app.services.audit_service - DEBUG - Loaded 579 audit log entries
2025-07-10 04:03:21,498 - app.services.audit_service - DEBUG - Loaded 579 audit log entries
2025-07-10 04:03:21,516 - app.services.audit_service - DEBUG - Saved 580 audit log entries
2025-07-10 04:03:21,517 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:03:21,517 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:03:21,518 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250709_004552_482003.zip (type: full)
2025-07-10 04:03:21,518 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250709_004552_482003.zip (type: full)
2025-07-10 04:03:21,522 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:21] "[32mPOST /backup/delete/full_backup_20250709_004552_482003.zip HTTP/1.1[0m" 302 -
2025-07-10 04:03:21,535 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:03:21,537 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:21,538 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:03:21,538 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:21,538 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:21,538 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:21,539 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:21,539 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:21,540 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:21,540 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:21,542 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:03:21,542 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:03:21,543 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:03:21,543 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:03:21,543 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:03:21,546 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:21] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:03:21,559 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:03:21,560 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:21,561 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:03:21,561 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:21,561 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:21,561 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:21,562 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:21,562 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:21,562 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:21,562 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:21,566 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:03:21,566 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:03:21,567 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:03:21,567 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:03:21,567 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:03:21,571 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:21] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:03:21,604 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:03:21,604 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:21,604 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:03:21,604 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:21,604 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:21,604 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:21,604 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250709_004552_482003.zip
2025-07-10 04:03:21,604 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250709_004552_482003.zip
2025-07-10 04:03:21,604 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250709_004552_482003.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250709_004552_482003.zip
2025-07-10 04:03:21,604 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:21] "[32mPOST /backup/delete/full_backup_20250709_004552_482003.zip HTTP/1.1[0m" 302 -
2025-07-10 04:03:21,626 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:03:21,627 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:21,628 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:03:21,628 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:21,628 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:21,628 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:21,629 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:21,629 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:21,629 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:21,629 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:21,632 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:03:21,632 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:03:21,632 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:03:21,632 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:03:21,633 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:03:21,636 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:21] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:03:21,674 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:21] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:03:22,009 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:22] "GET /static/js/settings.js?v=4283 HTTP/1.1" 200 -
2025-07-10 04:03:22,013 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:22] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:03:22,019 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:22] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:22,023 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:22] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:22,023 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:22] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:22,023 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:22] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:22,374 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:22] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:22,393 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:22] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:22,759 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:03:22,759 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:22,759 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:03:22,759 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:22,759 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:22,769 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:22,770 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:22,771 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:22,772 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:22,772 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:22,790 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:22] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:03:23,026 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:03:23,031 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:23,032 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:03:23,033 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:23,033 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:23,034 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:23,035 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:23,036 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:23,036 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:23,036 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:23,051 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:23] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:03:23,458 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:03:23,458 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:23,458 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:03:23,458 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:23,458 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:23,458 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:23,471 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:23] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:03:26,005 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:03:26,005 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:26,005 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:03:26,005 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:26,020 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:26,020 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:26,034 - app.services.audit_service - DEBUG - Loaded 580 audit log entries
2025-07-10 04:03:26,038 - app.services.audit_service - DEBUG - Loaded 580 audit log entries
2025-07-10 04:03:26,094 - app.services.audit_service - DEBUG - Saved 581 audit log entries
2025-07-10 04:03:26,095 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:03:26,095 - app.services.audit_service - INFO - Audit event logged: Backup Deleted by User
2025-07-10 04:03:26,099 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_235947_146870.zip (type: full)
2025-07-10 04:03:26,099 - app.services.backup_service - INFO - Backup deleted successfully: full_backup_20250708_235947_146870.zip (type: full)
2025-07-10 04:03:26,105 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:26] "[32mPOST /backup/delete/full_backup_20250708_235947_146870.zip HTTP/1.1[0m" 302 -
2025-07-10 04:03:26,138 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:03:26,154 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:26,155 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:03:26,156 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:26,156 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:26,157 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:26,158 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:26,159 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:26,160 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:26,160 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:26,167 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:03:26,168 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:03:26,168 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:03:26,169 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:03:26,171 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:03:26,171 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:26] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:03:26,214 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:03:26,217 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:26,217 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:03:26,218 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:26,220 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:26,220 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:26,221 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:26,222 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:26,223 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:26,226 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:03:26,223 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:26,228 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:26,229 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:03:26,230 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:26,231 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:26,235 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:03:26,236 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:03:26,237 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:03:26,237 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:03:26,231 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:26,237 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:03:26,237 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_235947_146870.zip
2025-07-10 04:03:26,237 - app.services.backup_service - WARNING - Backup file not found for deletion: full_backup_20250708_235947_146870.zip
2025-07-10 04:03:26,237 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:26] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:03:26,237 - app.services.backup_service - DEBUG - Checked paths: C:\ALORFBIOMED\data\backups\full\full_backup_20250708_235947_146870.zip, C:\ALORFBIOMED\data\backups\settings\full_backup_20250708_235947_146870.zip
2025-07-10 04:03:26,237 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:26] "[32mPOST /backup/delete/full_backup_20250708_235947_146870.zip HTTP/1.1[0m" 302 -
2025-07-10 04:03:26,264 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:03:26,265 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:26,265 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:03:26,266 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:26,266 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:26,266 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:26,267 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:26,268 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:26,268 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:26,268 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:26,276 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:03:26,276 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:03:26,277 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:03:26,277 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:03:26,277 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:03:26,280 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:26] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:03:26,305 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:26] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:03:26,627 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:26] "GET /static/js/settings.js?v=3445 HTTP/1.1" 200 -
2025-07-10 04:03:26,628 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:26] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:03:26,639 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:26] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:26,640 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:26] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:26,667 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:26] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:26,678 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:26] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:26,975 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:26] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:27,016 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:27] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:03:27,438 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:03:27,438 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:27,438 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:03:27,438 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:27,438 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:27,438 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:27,438 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:27,438 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:27,438 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:27,438 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:27,476 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:27] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:03:27,670 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:03:27,673 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:27,673 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:03:27,673 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:27,673 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:03:27,673 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:03:27,673 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:03:27,673 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:03:27,673 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:27,673 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:03:27,689 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:27] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:03:28,088 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-10 04:03:28,088 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:03:28,103 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-10 04:03:28,103 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:03:28,107 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:28,107 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:03:28,109 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:03:28] "GET /backup/list HTTP/1.1" 200 -
2025-07-10 04:04:44,518 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 04:04:44,523 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:04:44,524 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_read', 'equipment_ocm_read']: True
2025-07-10 04:04:44,524 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:04:44,525 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 04:04:44,525 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:04:44,525 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:04:44,526 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:04:44,527 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:04:44,527 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:04:44,528 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:04:44,528 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:04:44,528 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:04:44,529 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 04:04:44,529 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 04:04:44,530 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 04:04:44,532 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:04:44,532 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:04:44,538 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:04:44,539 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:04:44,539 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 04:04:44,540 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-10 04:04:44,542 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:04:44,542 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:04:44,543 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:04:44,543 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:04:44,543 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:04:44,691 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:44] "GET /equipment/ocm HTTP/1.1" 200 -
2025-07-10 04:04:44,768 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:44] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:04:44,795 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:44] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:04:45,167 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:45] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:04:45,175 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:45] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:04:45,180 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:45] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:04:45,182 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:45] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:04:45,184 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:45] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:04:45,214 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:45] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:04:48,991 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ocm_write']
2025-07-10 04:04:48,992 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:04:48,993 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ocm_write']: True
2025-07-10 04:04:48,993 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:04:48,994 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:04:48,994 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:04:48,994 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:04:48,995 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:04:48,995 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:04:48,998 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:48] "GET /equipment/ocm/add HTTP/1.1" 200 -
2025-07-10 04:04:49,189 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:49] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:04:49,271 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:49] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:04:49,514 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:49] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:04:49,522 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:49] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:04:49,567 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:49] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:04:49,576 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:49] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:04:49,578 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:49] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:04:49,630 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:04:49] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:09:25,338 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ocm_write']
2025-07-10 04:09:25,338 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:09:25,338 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ocm_write']: True
2025-07-10 04:09:25,338 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:09:25,456 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:09:25,456 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:09:25,456 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:09:25,456 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:09:25,456 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:09:25,456 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:09:25] "GET /equipment/ocm/add HTTP/1.1" 200 -
2025-07-10 04:09:25,569 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:09:25] "GET /static/js/department-sync.js HTTP/1.1" 200 -
2025-07-10 04:09:25,609 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:09:25] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:09:25,865 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:09:25] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:09:25,867 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:09:25] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:09:25,867 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:09:25] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:09:25,869 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:09:25] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:09:25,899 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:09:25] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:09:25,947 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:09:25] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:09:26,195 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:09:26,198 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:09:26,199 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:09:26,199 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:09:26,201 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 04:09:26,207 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:09:26] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 04:09:26,329 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:09:26] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:09:38,687 - app - INFO - Initializing application
2025-07-10 04:09:38,765 - app.services - DEBUG - Initializing services package
2025-07-10 04:09:38,765 - app - DEBUG - [app.models.json_user] Logging started for json_user.py
2025-07-10 04:09:38,953 - app - INFO - Enhanced logging service initialized
2025-07-10 04:09:38,953 - app - INFO - Enhanced logging service initialized
2025-07-10 04:09:40,374 - app.services.email_service - DEBUG - Initializing EmailService
2025-07-10 04:09:40,421 - app - DEBUG - Initializing import/export service
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Logging started for decorators.py
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ocm_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ocm_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export', 'training_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_email_test']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['audit_log_view']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['audit_log_export']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['user_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['export_data']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['import_data']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_read']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_read']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_delete']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_delete']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_read']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:40,437 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:40,453 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:40,453 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:40,453 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-10 04:09:40,453 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-10 04:09:40,453 - app - DEBUG - [app.routes.auth] Logging started for auth.py
2025-07-10 04:09:40,453 - app - DEBUG - [app.routes.auth] Auth blueprint initialized
2025-07-10 04:09:40,500 - app - INFO - Email scheduler thread initiated from create_app.
2025-07-10 04:09:40,500 - app - INFO - Email scheduler thread initiated from create_app.
2025-07-10 04:09:40,500 - app - INFO - Push Notification scheduler thread initiated from create_app.
2025-07-10 04:09:40,500 - app - INFO - Push Notification scheduler thread initiated from create_app.
2025-07-10 04:09:40,515 - app.services.backup_service - INFO - Backup scheduler loop started
2025-07-10 04:09:40,515 - app.services.backup_service - INFO - Automatic backup scheduler started
2025-07-10 04:09:40,515 - app.services.backup_service - INFO - Backup scheduler loop started
2025-07-10 04:09:40,515 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:09:40,515 - app.services.backup_service - INFO - Automatic backup scheduler started
2025-07-10 04:09:40,515 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:09:40,515 - app - INFO - Automatic backup scheduler initiated from create_app.
2025-07-10 04:09:40,515 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:09:40,515 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:09:40,515 - app - INFO - Automatic backup scheduler initiated from create_app.
2025-07-10 04:09:40,515 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:09:40,515 - app - INFO - Application initialization complete
2025-07-10 04:09:40,515 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:09:40,515 - app - INFO - Application initialization complete
2025-07-10 04:09:40,515 - app.services.backup_service - INFO - Automatic backup is enabled, creating backup every 24 hours
2025-07-10 04:09:40,515 - app - INFO - Attempting to update PPM statuses on application startup...
2025-07-10 04:09:40,515 - app.services.backup_service - INFO - Automatic backup is enabled, creating backup every 24 hours
2025-07-10 04:09:40,515 - app - INFO - Attempting to update PPM statuses on application startup...
2025-07-10 04:09:40,531 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:09:40,531 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:09:40,531 - app.services.data_service - INFO - Starting update of all PPM statuses.
2025-07-10 04:09:40,531 - app.services.data_service - INFO - Starting update of all PPM statuses.
2025-07-10 04:09:40,531 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-10 04:09:40,531 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:09:40,531 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:09:40,531 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:09:40,531 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:09:40,531 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:09:40,531 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:09:40,531 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:09:40,531 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:09:40,531 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-10 04:09:40,531 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-10 04:09:40,531 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-10 04:09:40,546 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:09:40,546 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:09:40,562 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:09:40,562 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:09:40,562 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-10 04:09:40,609 - app.services.data_service - INFO - No PPM statuses required updating.
2025-07-10 04:09:40,609 - app.services.data_service - INFO - No PPM statuses required updating.
2025-07-10 04:09:40,609 - app - INFO - PPM statuses update process completed.
2025-07-10 04:09:40,609 - app - INFO - PPM statuses update process completed.
2025-07-10 04:09:40,828 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.8.114:5001
2025-07-10 04:09:40,828 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-07-10 04:09:40,859 - werkzeug - INFO -  * Restarting with stat
2025-07-10 04:09:40,906 - app.services.push_notification_service - INFO - PushNotificationService class loading.
2025-07-10 04:09:40,906 - app.services.push_notification_service - INFO - PushNotificationService class loading.
2025-07-10 04:09:40,921 - app - INFO - Background thread for Push Notification scheduler is starting.
2025-07-10 04:09:40,921 - app - INFO - Background thread for scheduler is starting.
2025-07-10 04:09:40,921 - app - INFO - Background thread for Push Notification scheduler is starting.
2025-07-10 04:09:40,921 - app.services.push_notification_service - INFO - Attempting to start Push Notification Scheduler async loop.
2025-07-10 04:09:40,921 - app - INFO - Background thread for scheduler is starting.
2025-07-10 04:09:40,921 - app.services.email_service - INFO - Email reminder scheduler async loop started in process ID: 3888.
2025-07-10 04:09:40,921 - app.services.push_notification_service - INFO - Attempting to start Push Notification Scheduler async loop.
2025-07-10 04:09:40,921 - app.services.email_service - INFO - Email reminder scheduler async loop started in process ID: 3888.
2025-07-10 04:09:40,921 - app.services.push_notification_service - INFO - Push Notification reminder scheduler async loop initiated in process ID: 3888.
2025-07-10 04:09:40,921 - app.services.email_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance to avoid duplicate emails.
2025-07-10 04:09:40,921 - app.services.push_notification_service - INFO - Push Notification reminder scheduler async loop initiated in process ID: 3888.
2025-07-10 04:09:40,921 - app.services.email_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance to avoid duplicate emails.
2025-07-10 04:09:40,921 - app.services.push_notification_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance if push logic isn't idempotent or if it involves external state not designed for concurrency.
2025-07-10 04:09:40,921 - app.services.push_notification_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance if push logic isn't idempotent or if it involves external state not designed for concurrency.
2025-07-10 04:09:40,937 - app.services.email_service - INFO - Scheduler starting. Initial delay of 30 seconds before first run.
2025-07-10 04:09:40,953 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay of 45 seconds before first run.
2025-07-10 04:09:40,937 - app.services.email_service - INFO - Scheduler starting. Initial delay of 30 seconds before first run.
2025-07-10 04:09:40,953 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay of 45 seconds before first run.
2025-07-10 04:09:41,124 - app.services.audit_service - DEBUG - Loaded 581 audit log entries
2025-07-10 04:09:41,124 - app.services.audit_service - DEBUG - Loaded 581 audit log entries
2025-07-10 04:09:41,140 - app.services.audit_service - DEBUG - Saved 582 audit log entries
2025-07-10 04:09:41,140 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-10 04:09:41,140 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-10 04:09:41,140 - app.services.backup_service - INFO - Full backup created successfully: full_backup_20250710_040940_531377.zip (0.23 MB)
2025-07-10 04:09:41,140 - app.services.backup_service - INFO - Full backup created successfully: full_backup_20250710_040940_531377.zip (0.23 MB)
2025-07-10 04:09:41,140 - app.services.backup_service - INFO - Automatic full backup created: full_backup_20250710_040940_531377.zip (0.23 MB)
2025-07-10 04:09:41,140 - app.services.backup_service - INFO - Automatic full backup created: full_backup_20250710_040940_531377.zip (0.23 MB)
2025-07-10 04:09:41,156 - app.services.audit_service - DEBUG - Loaded 582 audit log entries
2025-07-10 04:09:41,171 - app.services.audit_service - DEBUG - Loaded 582 audit log entries
2025-07-10 04:09:41,187 - app.services.audit_service - DEBUG - Saved 583 audit log entries
2025-07-10 04:09:41,187 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-10 04:09:41,187 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-10 04:09:41,187 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:09:41,187 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:09:41,187 - app.services.backup_service - INFO - Cleanup completed: 0 old backups deleted
2025-07-10 04:09:41,187 - app.services.backup_service - INFO - Cleanup completed: 0 old backups deleted
2025-07-10 04:09:41,187 - app.services.backup_service - INFO - Backup scheduler sleeping for 24 hours (86400 seconds)
2025-07-10 04:09:41,187 - app.services.backup_service - INFO - Backup scheduler sleeping for 24 hours (86400 seconds)
2025-07-10 04:09:41,484 - app - INFO - Initializing application
2025-07-10 04:09:41,577 - app.services - DEBUG - Initializing services package
2025-07-10 04:09:41,577 - app - DEBUG - [app.models.json_user] Logging started for json_user.py
2025-07-10 04:09:41,749 - app - INFO - Enhanced logging service initialized
2025-07-10 04:09:41,749 - app - INFO - Enhanced logging service initialized
2025-07-10 04:09:43,093 - app.services.email_service - DEBUG - Initializing EmailService
2025-07-10 04:09:43,124 - app - DEBUG - Initializing import/export service
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Logging started for decorators.py
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ocm_write']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ocm_write']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export', 'training_manage']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_email_test']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_manage']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['audit_log_view']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['audit_log_export']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['user_manage']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['export_data']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['import_data']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_write']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_read']
2025-07-10 04:09:43,140 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_read']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_write']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_delete']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_delete']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_read']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-10 04:09:43,155 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-10 04:09:43,155 - app - DEBUG - [app.routes.auth] Logging started for auth.py
2025-07-10 04:09:43,155 - app - DEBUG - [app.routes.auth] Auth blueprint initialized
2025-07-10 04:09:43,202 - app - INFO - Email scheduler thread initiated from create_app.
2025-07-10 04:09:43,202 - app - INFO - Email scheduler thread initiated from create_app.
2025-07-10 04:09:43,202 - app - INFO - Push Notification scheduler thread initiated from create_app.
2025-07-10 04:09:43,202 - app - INFO - Push Notification scheduler thread initiated from create_app.
2025-07-10 04:09:43,218 - app.services.backup_service - INFO - Backup scheduler loop started
2025-07-10 04:09:43,218 - app.services.backup_service - INFO - Automatic backup scheduler started
2025-07-10 04:09:43,218 - app.services.backup_service - INFO - Backup scheduler loop started
2025-07-10 04:09:43,218 - app.services.backup_service - INFO - Automatic backup scheduler started
2025-07-10 04:09:43,218 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:09:43,218 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:09:43,218 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:09:43,218 - app - INFO - Automatic backup scheduler initiated from create_app.
2025-07-10 04:09:43,218 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:09:43,218 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:09:43,218 - app - INFO - Automatic backup scheduler initiated from create_app.
2025-07-10 04:09:43,218 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:09:43,218 - app - INFO - Application initialization complete
2025-07-10 04:09:43,218 - app.services.backup_service - INFO - Automatic backup is enabled, creating backup every 24 hours
2025-07-10 04:09:43,218 - app - INFO - Application initialization complete
2025-07-10 04:09:43,218 - app - INFO - Attempting to update PPM statuses on application startup...
2025-07-10 04:09:43,218 - app.services.backup_service - INFO - Automatic backup is enabled, creating backup every 24 hours
2025-07-10 04:09:43,218 - app - INFO - Attempting to update PPM statuses on application startup...
2025-07-10 04:09:43,218 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:09:43,218 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:09:43,218 - app.services.data_service - INFO - Starting update of all PPM statuses.
2025-07-10 04:09:43,218 - app.services.data_service - INFO - Starting update of all PPM statuses.
2025-07-10 04:09:43,218 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-10 04:09:43,218 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:09:43,218 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:09:43,218 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:09:43,218 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:09:43,233 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:09:43,233 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:09:43,233 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:09:43,233 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:09:43,233 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-10 04:09:43,233 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-10 04:09:43,233 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-10 04:09:43,233 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:09:43,233 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:09:43,249 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:09:43,249 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:09:43,249 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-10 04:09:43,296 - app.services.data_service - INFO - No PPM statuses required updating.
2025-07-10 04:09:43,296 - app.services.data_service - INFO - No PPM statuses required updating.
2025-07-10 04:09:43,296 - app - INFO - PPM statuses update process completed.
2025-07-10 04:09:43,296 - app - INFO - PPM statuses update process completed.
2025-07-10 04:09:43,343 - werkzeug - WARNING -  * Debugger is active!
2025-07-10 04:09:43,343 - werkzeug - INFO -  * Debugger PIN: 366-985-055
2025-07-10 04:09:43,546 - app.services.push_notification_service - INFO - PushNotificationService class loading.
2025-07-10 04:09:43,546 - app.services.push_notification_service - INFO - PushNotificationService class loading.
2025-07-10 04:09:43,546 - app - INFO - Background thread for scheduler is starting.
2025-07-10 04:09:43,546 - app - INFO - Background thread for scheduler is starting.
2025-07-10 04:09:43,546 - app - INFO - Background thread for Push Notification scheduler is starting.
2025-07-10 04:09:43,546 - app.services.email_service - INFO - Email reminder scheduler async loop started in process ID: 21916.
2025-07-10 04:09:43,546 - app - INFO - Background thread for Push Notification scheduler is starting.
2025-07-10 04:09:43,546 - app.services.email_service - INFO - Email reminder scheduler async loop started in process ID: 21916.
2025-07-10 04:09:43,546 - app.services.push_notification_service - INFO - Attempting to start Push Notification Scheduler async loop.
2025-07-10 04:09:43,546 - app.services.push_notification_service - INFO - Attempting to start Push Notification Scheduler async loop.
2025-07-10 04:09:43,546 - app.services.email_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance to avoid duplicate emails.
2025-07-10 04:09:43,546 - app.services.email_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance to avoid duplicate emails.
2025-07-10 04:09:43,561 - app.services.push_notification_service - INFO - Push Notification reminder scheduler async loop initiated in process ID: 21916.
2025-07-10 04:09:43,561 - app.services.push_notification_service - INFO - Push Notification reminder scheduler async loop initiated in process ID: 21916.
2025-07-10 04:09:43,561 - app.services.email_service - INFO - Scheduler starting. Initial delay of 30 seconds before first run.
2025-07-10 04:09:43,561 - app.services.push_notification_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance if push logic isn't idempotent or if it involves external state not designed for concurrency.
2025-07-10 04:09:43,561 - app.services.email_service - INFO - Scheduler starting. Initial delay of 30 seconds before first run.
2025-07-10 04:09:43,561 - app.services.push_notification_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance if push logic isn't idempotent or if it involves external state not designed for concurrency.
2025-07-10 04:09:43,561 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay of 45 seconds before first run.
2025-07-10 04:09:43,561 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay of 45 seconds before first run.
2025-07-10 04:09:43,796 - app.services.audit_service - DEBUG - Loaded 583 audit log entries
2025-07-10 04:09:43,811 - app.services.audit_service - DEBUG - Loaded 583 audit log entries
2025-07-10 04:09:43,827 - app.services.audit_service - DEBUG - Saved 584 audit log entries
2025-07-10 04:09:43,827 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-10 04:09:43,827 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-10 04:09:43,952 - app.services.backup_service - INFO - Full backup created successfully: full_backup_20250710_040943_218221.zip (0.23 MB)
2025-07-10 04:09:43,952 - app.services.backup_service - INFO - Full backup created successfully: full_backup_20250710_040943_218221.zip (0.23 MB)
2025-07-10 04:09:44,030 - app.services.backup_service - INFO - Automatic full backup created: full_backup_20250710_040943_218221.zip (0.23 MB)
2025-07-10 04:09:44,030 - app.services.backup_service - INFO - Automatic full backup created: full_backup_20250710_040943_218221.zip (0.23 MB)
2025-07-10 04:09:44,109 - app.services.audit_service - DEBUG - Loaded 584 audit log entries
2025-07-10 04:09:44,109 - app.services.audit_service - DEBUG - Loaded 584 audit log entries
2025-07-10 04:09:44,124 - app.services.audit_service - DEBUG - Saved 585 audit log entries
2025-07-10 04:09:44,124 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-10 04:09:44,124 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-10 04:09:44,140 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:09:44,140 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:09:44,140 - app.services.backup_service - INFO - Cleanup completed: 0 old backups deleted
2025-07-10 04:09:44,140 - app.services.backup_service - INFO - Cleanup completed: 0 old backups deleted
2025-07-10 04:09:44,140 - app.services.backup_service - INFO - Backup scheduler sleeping for 24 hours (86400 seconds)
2025-07-10 04:09:44,140 - app.services.backup_service - INFO - Backup scheduler sleeping for 24 hours (86400 seconds)
2025-07-10 04:10:08,159 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 04:10:08,175 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:10:08,175 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_read', 'equipment_ocm_read']: True
2025-07-10 04:10:08,175 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:10:08,175 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-10 04:10:08,175 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:10:08,175 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:10:08,175 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:10:08,192 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:10:08,192 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:10:08,192 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:10:08,192 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:10:08,192 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:10:08,192 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-10 04:10:08,207 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-10 04:10:08,209 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-10 04:10:08,225 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:10:08,225 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:10:08,241 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:10:08,241 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:10:08,241 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-10 04:10:08,256 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-10 04:10:08,358 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:10:08,358 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:10:08,358 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:10:08,359 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:10:08,359 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:10:08,608 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:08] "GET /equipment/ppm HTTP/1.1" 200 -
2025-07-10 04:10:08,660 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:08] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:10:08,660 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:08] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:10:10,956 - app.services.email_service - DEBUG - Scheduler loop iteration started.
2025-07-10 04:10:10,957 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:10:10,957 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:10:10,958 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:10:10,958 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:10:10,958 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:10,958 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:10,975 - app.services.email_service - DEBUG - Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:10,976 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-10 04:10:10,976 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-10 04:10:10,978 - app.services.email_service - INFO - Next email scheduled for 2025-07-10 07:30:00. Sleeping for 60.0 minutes.
2025-07-10 04:10:10,978 - app.services.email_service - INFO - Next email scheduled for 2025-07-10 07:30:00. Sleeping for 60.0 minutes.
2025-07-10 04:10:11,802 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:11] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:10:11,802 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:11] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:10:11,802 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:11] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-10 04:10:11,817 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:11] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:10:11,818 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:11] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:10:11,818 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:11] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:10:12,143 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:10:12,144 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:10:12,144 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:10:12,145 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:10:12,145 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 04:10:12,149 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:12] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 04:10:12,218 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:12] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:10:13,570 - app.services.email_service - DEBUG - Scheduler loop iteration started.
2025-07-10 04:10:13,572 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:10:13,573 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:10:13,573 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:10:13,574 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:10:13,574 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:13,574 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:13,589 - app.services.email_service - DEBUG - Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:13,590 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-10 04:10:13,590 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-10 04:10:13,598 - app.services.email_service - INFO - Next email scheduled for 2025-07-10 07:30:00. Sleeping for 60.0 minutes.
2025-07-10 04:10:13,598 - app.services.email_service - INFO - Next email scheduled for 2025-07-10 07:30:00. Sleeping for 60.0 minutes.
2025-07-10 04:10:19,194 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:10:19,194 - app - WARNING - [app.decorators] Unauthenticated user attempted access
2025-07-10 04:10:19,194 - app - WARNING - [app.decorators] Unauthenticated user attempted access
2025-07-10 04:10:19,198 - app - INFO - [app.decorators] Redirecting unauthenticated user to login page
2025-07-10 04:10:19,198 - app - INFO - [app.decorators] Redirecting unauthenticated user to login page
2025-07-10 04:10:19,216 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:19] "[32mGET /equipment/machine-assignment HTTP/1.1[0m" 302 -
2025-07-10 04:10:19,296 - app - INFO - [app.routes.auth] Accessing login route
2025-07-10 04:10:19,296 - app - INFO - [app.routes.auth] Accessing login route
2025-07-10 04:10:19,334 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:19] "GET /auth/login?next=http://localhost:5001/equipment/machine-assignment HTTP/1.1" 200 -
2025-07-10 04:10:19,476 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:19] "[36mGET /static/css/normalize.css HTTP/1.1[0m" 304 -
2025-07-10 04:10:19,730 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:19] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-07-10 04:10:20,063 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:20] "[36mGET /static/images/login-background.jpg HTTP/1.1[0m" 304 -
2025-07-10 04:10:20,360 - app - WARNING - 404 Not Found: /favicon.ico
2025-07-10 04:10:20,360 - app - WARNING - 404 Not Found: /favicon.ico
2025-07-10 04:10:20,367 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:20] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-10 04:10:25,968 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay complete. Starting main loop.
2025-07-10 04:10:25,968 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay complete. Starting main loop.
2025-07-10 04:10:25,969 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loop iteration started.
2025-07-10 04:10:25,970 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loading settings...
2025-07-10 04:10:25,972 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:10:25,973 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:10:25,973 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:10:25,974 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:10:25,974 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:25,974 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:25,978 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:25,978 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:25,981 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Push notifications enabled: True
2025-07-10 04:10:25,982 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (minutes): 60
2025-07-10 04:10:25,982 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (seconds): 3600
2025-07-10 04:10:25,982 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-10 04:10:25,982 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-10 04:10:25,989 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-10 04:10:25,989 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-10 04:10:25,990 - app.services.push_notification_service - DEBUG - Reloading settings within process_push_notifications...
2025-07-10 04:10:25,991 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:10:25,991 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:10:25,991 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:10:25,992 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:10:25,992 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:25,992 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:25,996 - app.services.push_notification_service - DEBUG - Settings loaded in process_push_notifications: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:25,996 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-10 04:10:25,996 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-10 04:10:25,997 - app.services.push_notification_service - DEBUG - Loading PPM data...
2025-07-10 04:10:25,998 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-10 04:10:25,998 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:10:25,999 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:10:25,999 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:10:25,999 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:10:26,000 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:10:26,001 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:10:26,001 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:10:26,001 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:10:26,008 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-10 04:10:26,009 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-10 04:10:26,009 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-10 04:10:26,020 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:10:26,023 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:10:26,040 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:10:26,041 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:10:26,042 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-10 04:10:26,042 - app.services.push_notification_service - DEBUG - Loaded 1040 PPM entries.
2025-07-10 04:10:26,042 - app.services.push_notification_service - DEBUG - Loading OCM data...
2025-07-10 04:10:26,043 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 04:10:26,043 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:10:26,043 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:10:26,044 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:10:26,044 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:10:26,045 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:10:26,045 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:10:26,045 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:10:26,046 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:10:26,046 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 04:10:26,047 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 04:10:26,047 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 04:10:26,050 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:10:26,051 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:10:26,057 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:10:26,057 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:10:26,057 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 04:10:26,058 - app.services.push_notification_service - DEBUG - Loaded 612 OCM entries.
2025-07-10 04:10:26,058 - app.services.push_notification_service - DEBUG - Getting upcoming PPM maintenance tasks...
2025-07-10 04:10:26,174 - app.services.push_notification_service - DEBUG - Found 699 upcoming PPM tasks.
2025-07-10 04:10:26,175 - app.services.push_notification_service - DEBUG - Getting upcoming OCM maintenance tasks...
2025-07-10 04:10:26,190 - app.services.push_notification_service - DEBUG - Found 1 upcoming OCM tasks.
2025-07-10 04:10:26,190 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 700
2025-07-10 04:10:26,190 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 700
2025-07-10 04:10:26,191 - app.services.push_notification_service - DEBUG - Sorting all upcoming tasks by date...
2025-07-10 04:10:26,207 - app.services.push_notification_service - DEBUG - Tasks sorted.
2025-07-10 04:10:26,207 - app.services.push_notification_service - DEBUG - Summarizing all upcoming tasks...
2025-07-10 04:10:26,208 - app.services.push_notification_service - DEBUG - Summarizing upcoming maintenance. Tasks received: 700
2025-07-10 04:10:26,208 - app.services.push_notification_service - DEBUG - PPM count: 699, OCM count: 1
2025-07-10 04:10:26,208 - app.services.push_notification_service - DEBUG - Generated summary: 699 PPM tasks and 1 OCM task due soon.
2025-07-10 04:10:26,208 - app.services.push_notification_service - INFO - Generated summary for push notification: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 04:10:26,208 - app.services.push_notification_service - INFO - Generated summary for push notification: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 04:10:26,209 - app.services.push_notification_service - DEBUG - Sending push notification with the generated summary...
2025-07-10 04:10:26,210 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 04:10:26,210 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 04:10:26,211 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-10 04:10:26,211 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-10 04:10:26,212 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-10 04:10:26,212 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-10 04:10:26,212 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-10 04:10:26,212 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-10 04:10:26,215 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-10 04:10:26,215 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-10 04:10:26,216 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-10 04:10:26,216 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-10 04:10:28,056 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:10:28,057 - app - WARNING - [app.decorators] Unauthenticated user attempted access
2025-07-10 04:10:28,057 - app - WARNING - [app.decorators] Unauthenticated user attempted access
2025-07-10 04:10:28,063 - app - INFO - [app.decorators] Redirecting unauthenticated user to login page
2025-07-10 04:10:28,063 - app - INFO - [app.decorators] Redirecting unauthenticated user to login page
2025-07-10 04:10:28,068 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:28] "[32mGET /equipment/machine-assignment?cache_bust=3 HTTP/1.1[0m" 302 -
2025-07-10 04:10:28,353 - app - INFO - [app.routes.auth] Accessing login route
2025-07-10 04:10:28,353 - app - INFO - [app.routes.auth] Accessing login route
2025-07-10 04:10:28,361 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:28] "GET /auth/login?next=http://localhost:5001/equipment/machine-assignment?cache_bust%3D3 HTTP/1.1" 200 -
2025-07-10 04:10:28,576 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay complete. Starting main loop.
2025-07-10 04:10:28,576 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay complete. Starting main loop.
2025-07-10 04:10:28,578 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loop iteration started.
2025-07-10 04:10:28,578 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loading settings...
2025-07-10 04:10:28,579 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:10:28,579 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:10:28,580 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:10:28,580 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:10:28,581 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:28,581 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:28,600 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:28,600 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:28,619 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Push notifications enabled: True
2025-07-10 04:10:28,627 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (minutes): 60
2025-07-10 04:10:28,628 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (seconds): 3600
2025-07-10 04:10:28,628 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-10 04:10:28,628 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-10 04:10:28,631 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-10 04:10:28,631 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-10 04:10:28,634 - app.services.push_notification_service - DEBUG - Reloading settings within process_push_notifications...
2025-07-10 04:10:28,635 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:10:28,635 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:10:28,635 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:10:28,636 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:10:28,639 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:28,639 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:28,662 - app.services.push_notification_service - DEBUG - Settings loaded in process_push_notifications: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:10:28,662 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-10 04:10:28,662 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-10 04:10:28,664 - app.services.push_notification_service - DEBUG - Loading PPM data...
2025-07-10 04:10:28,665 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-10 04:10:28,665 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:10:28,666 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:10:28,666 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:10:28,667 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:10:28,668 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:10:28,669 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:10:28,669 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:10:28,669 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:10:28,673 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-10 04:10:28,674 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-10 04:10:28,675 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-10 04:10:28,682 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:10:28,683 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:10:28,698 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:10:28,698 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:10:28,699 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-10 04:10:28,700 - app.services.push_notification_service - DEBUG - Loaded 1040 PPM entries.
2025-07-10 04:10:28,702 - app.services.push_notification_service - DEBUG - Loading OCM data...
2025-07-10 04:10:28,702 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 04:10:28,703 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:10:28,707 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:10:28,708 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:10:28,708 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:10:28,709 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:10:28,709 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:10:28,710 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:10:28,710 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:10:28,710 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 04:10:28,711 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 04:10:28,711 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 04:10:28,713 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:10:28,714 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:10:28,717 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:10:28,718 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:10:28,718 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 04:10:28,719 - app.services.push_notification_service - DEBUG - Loaded 612 OCM entries.
2025-07-10 04:10:28,720 - app.services.push_notification_service - DEBUG - Getting upcoming PPM maintenance tasks...
2025-07-10 04:10:28,843 - app.services.push_notification_service - DEBUG - Found 699 upcoming PPM tasks.
2025-07-10 04:10:28,844 - app.services.push_notification_service - DEBUG - Getting upcoming OCM maintenance tasks...
2025-07-10 04:10:28,860 - app.services.push_notification_service - DEBUG - Found 1 upcoming OCM tasks.
2025-07-10 04:10:28,860 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 700
2025-07-10 04:10:28,860 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 700
2025-07-10 04:10:28,866 - app.services.push_notification_service - DEBUG - Sorting all upcoming tasks by date...
2025-07-10 04:10:28,891 - app.services.push_notification_service - DEBUG - Tasks sorted.
2025-07-10 04:10:28,891 - app.services.push_notification_service - DEBUG - Summarizing all upcoming tasks...
2025-07-10 04:10:28,891 - app.services.push_notification_service - DEBUG - Summarizing upcoming maintenance. Tasks received: 700
2025-07-10 04:10:28,892 - app.services.push_notification_service - DEBUG - PPM count: 699, OCM count: 1
2025-07-10 04:10:28,892 - app.services.push_notification_service - DEBUG - Generated summary: 699 PPM tasks and 1 OCM task due soon.
2025-07-10 04:10:28,892 - app.services.push_notification_service - INFO - Generated summary for push notification: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 04:10:28,892 - app.services.push_notification_service - INFO - Generated summary for push notification: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 04:10:28,924 - app.services.push_notification_service - DEBUG - Sending push notification with the generated summary...
2025-07-10 04:10:28,925 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 04:10:28,925 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 04:10:28,934 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-10 04:10:28,934 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-10 04:10:28,964 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-10 04:10:28,964 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-10 04:10:28,967 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-10 04:10:28,967 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-10 04:10:28,975 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-10 04:10:28,975 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-10 04:10:28,976 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-10 04:10:28,976 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-10 04:10:36,781 - app - INFO - [app.routes.auth] Accessing login route
2025-07-10 04:10:36,781 - app - INFO - [app.routes.auth] Accessing login route
2025-07-10 04:10:36,782 - app - INFO - [app.routes.auth] Login attempt for username: testuser
2025-07-10 04:10:36,782 - app - INFO - [app.routes.auth] Login attempt for username: testuser
2025-07-10 04:10:36,784 - app - DEBUG - [app.routes.auth] Retrieved user: testuser
2025-07-10 04:10:36,784 - app - DEBUG - [check_password] Checking password for testuser
2025-07-10 04:10:37,213 - app - DEBUG - [check_password] Password validation for testuser: SUCCESS
2025-07-10 04:10:37,214 - app - INFO - [app.routes.auth] User 'testuser' logged in successfully.
2025-07-10 04:10:37,214 - app - INFO - [app.routes.auth] User 'testuser' logged in successfully.
2025-07-10 04:10:37,232 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:37] "[32mPOST /auth/login HTTP/1.1[0m" 303 -
2025-07-10 04:10:37,311 - app - DEBUG - [app.decorators] Checking permission: ['dashboard_view']
2025-07-10 04:10:37,313 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:10:37,313 - app - DEBUG - [app.decorators] Permission check result for ['dashboard_view']: True
2025-07-10 04:10:37,313 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:10:37,314 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-10 04:10:37,314 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:10:37,314 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:10:37,314 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:10:37,315 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:10:37,316 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:10:37,316 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:10:37,317 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:10:37,317 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:10:37,317 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-10 04:10:37,317 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-10 04:10:37,318 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-10 04:10:37,325 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:10:37,326 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:10:37,334 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:10:37,335 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:10:37,335 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-10 04:10:37,338 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-10 04:10:37,341 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 04:10:37,341 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:10:37,342 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:10:37,342 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:10:37,342 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:10:37,343 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:10:37,343 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:10:37,343 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:10:37,344 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:10:37,344 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 04:10:37,344 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 04:10:37,345 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 04:10:37,347 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:10:37,347 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:10:37,349 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:10:37,350 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:10:37,350 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 04:10:37,351 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-10 04:10:37,547 - app - INFO - Quarter summary generated successfully: {'current_date': '2025-07-10', 'current_calendar_quarter': 3, 'current_quarter_name': 'Q3', 'quarter_keys': ['PPM_Q_I', 'PPM_Q_II', 'PPM_Q_III', 'PPM_Q_IV'], 'quarter_names': ['Q1', 'Q2', 'Q3', 'Q4']}
2025-07-10 04:10:37,547 - app - INFO - Quarter summary generated successfully: {'current_date': '2025-07-10', 'current_calendar_quarter': 3, 'current_quarter_name': 'Q3', 'quarter_keys': ['PPM_Q_I', 'PPM_Q_II', 'PPM_Q_III', 'PPM_Q_IV'], 'quarter_names': ['Q1', 'Q2', 'Q3', 'Q4']}
2025-07-10 04:10:37,551 - app - DEBUG - [has_permission] User testuser permission 'equipment_ppm_import_export': True
2025-07-10 04:10:37,551 - app - DEBUG - [has_permission] User testuser permission 'training_manage': True
2025-07-10 04:10:37,552 - app - DEBUG - [has_permission] User testuser permission 'audit_log_view': True
2025-07-10 04:10:37,553 - app - DEBUG - [has_permission] User testuser permission 'settings_manage': True
2025-07-10 04:10:37,556 - app - DEBUG - [has_permission] User testuser permission 'user_manage': True
2025-07-10 04:10:37,797 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:37] "GET / HTTP/1.1" 200 -
2025-07-10 04:10:37,882 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:37] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:10:38,194 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:38] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:10:38,775 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:38] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:10:38,868 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:38] "GET /static/js/department-sync.js HTTP/1.1" 200 -
2025-07-10 04:10:38,895 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:38] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:10:38,897 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:38] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:10:38,994 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:38] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:10:39,127 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:39] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:10:39,252 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:39] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:10:40,205 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:10:40,206 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:10:40,206 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:10:40,206 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:10:40,207 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 04:10:40,212 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:10:40] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 04:11:07,761 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:11:07,762 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:11:07,763 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_write', 'equipment_ocm_write']: True
2025-07-10 04:11:07,763 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:11:07,764 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 04:11:07,765 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-10 04:11:07,778 - app - DEBUG - [has_permission] User testuser permission 'equipment_ppm_import_export': True
2025-07-10 04:11:07,778 - app - DEBUG - [has_permission] User testuser permission 'training_manage': True
2025-07-10 04:11:07,779 - app - DEBUG - [has_permission] User testuser permission 'audit_log_view': True
2025-07-10 04:11:07,779 - app - DEBUG - [has_permission] User testuser permission 'settings_manage': True
2025-07-10 04:11:07,779 - app - DEBUG - [has_permission] User testuser permission 'user_manage': True
2025-07-10 04:11:07,783 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:07] "GET /equipment/machine-assignment HTTP/1.1" 200 -
2025-07-10 04:11:08,090 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:08] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:11:08,231 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:08] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-10 04:11:08,232 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:08] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:11:08,233 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:08] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:11:08,236 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:08] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:11:08,237 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:08] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:11:08,401 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:08] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:11:08,597 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:08] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:11:08,629 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:11:08,631 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:11:08,632 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:11:08,632 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:11:08,633 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 04:11:08,644 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:08] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 04:11:08,677 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:08] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:11:09,073 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:11:09,074 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:11:09,076 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:11:09,077 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:11:09,077 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:11:09,078 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:11:09,078 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:11:09,079 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:11:09,080 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 04:11:09,081 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-10 04:11:09,083 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 04:11:09,088 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:09] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 04:11:09,089 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:09] "GET /api/trainers HTTP/1.1" 200 -
2025-07-10 04:11:45,490 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_write']
2025-07-10 04:11:45,492 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:11:45,492 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_write']: True
2025-07-10 04:11:45,492 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:11:45,492 - app.services.data_service - INFO - Attempting to get ppm entry with serial: 111632045
2025-07-10 04:11:45,492 - app.services.data_service - INFO - Attempting to get ppm entry with serial: 111632045
2025-07-10 04:11:45,560 - app.services.data_service - DEBUG - Loading all ppm data to search for serial 111632045
2025-07-10 04:11:45,560 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-10 04:11:45,560 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:11:45,561 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:11:45,561 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:11:45,562 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:11:45,562 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:11:45,562 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:11:45,563 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:11:45,563 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:11:45,563 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-10 04:11:45,564 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-10 04:11:45,564 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-10 04:11:45,566 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:11:45,566 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:11:45,579 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:11:45,579 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:11:45,580 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-10 04:11:45,580 - app.services.data_service - DEBUG - Searching for entry with serial 111632045 in 1040 ppm entries using URL-safe lookup
2025-07-10 04:11:45,581 - app.services.data_service - INFO - Found matching ppm entry for serial 111632045 using URL-safe lookup
2025-07-10 04:11:45,581 - app.services.data_service - INFO - Found matching ppm entry for serial 111632045 using URL-safe lookup
2025-07-10 04:11:45,641 - app.services.data_service - DEBUG - Entry data: {'NO': 299, 'Department': 'ENT', 'Name': 'ENT WORK STATION', 'MODEL': 'FUTURENT III', 'SERIAL': '111632045', 'MANUFACTURER': 'ENTERMED', 'LOG_Number': '1143', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'JAYAPRAKASH', 'quarter_date': '03/01/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'ARUN', 'quarter_date': '03/04/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'JAYAPRAKASH', 'quarter_date': '02/07/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'ARUN', 'quarter_date': '30/09/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}
2025-07-10 04:11:45,798 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:11:45,798 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:11:45,798 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:11:45,799 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:11:45,799 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:11:45,877 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:45] "GET /equipment/ppm/edit/111632045 HTTP/1.1" 200 -
2025-07-10 04:11:46,139 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:46] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:11:46,484 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:46] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:11:46,493 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:46] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:11:46,503 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:46] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:11:46,507 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:46] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-10 04:11:46,511 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:46] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:11:46,515 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:46] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:11:46,973 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:46] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:11:47,158 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:11:47,159 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:11:47,160 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:11:47,160 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:11:47,160 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 04:11:47,163 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:47] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 04:11:47,254 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:11:47] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:12:39,628 - app - DEBUG - [app.decorators] Checking permission: ['dashboard_view']
2025-07-10 04:12:39,630 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:12:39,630 - app - DEBUG - [app.decorators] Permission check result for ['dashboard_view']: True
2025-07-10 04:12:39,630 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:12:39,630 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-10 04:12:39,631 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:12:39,631 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:12:39,631 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:12:39,633 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:12:39,634 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:12:39,634 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:12:39,634 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:12:39,635 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:12:39,635 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-10 04:12:39,635 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-10 04:12:39,635 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-10 04:12:39,642 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:12:39,643 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:12:39,656 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:12:39,656 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:12:39,657 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-10 04:12:39,711 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-10 04:12:39,714 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 04:12:39,714 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:12:39,714 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:12:39,714 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:12:39,715 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:12:39,716 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:12:39,716 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:12:39,717 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:12:39,717 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:12:39,717 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 04:12:39,718 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 04:12:39,718 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 04:12:39,816 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:12:39,816 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:12:39,819 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:12:39,820 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:12:39,820 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 04:12:39,824 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-10 04:12:40,407 - app - INFO - Quarter summary generated successfully: {'current_date': '2025-07-10', 'current_calendar_quarter': 3, 'current_quarter_name': 'Q3', 'quarter_keys': ['PPM_Q_I', 'PPM_Q_II', 'PPM_Q_III', 'PPM_Q_IV'], 'quarter_names': ['Q1', 'Q2', 'Q3', 'Q4']}
2025-07-10 04:12:40,407 - app - INFO - Quarter summary generated successfully: {'current_date': '2025-07-10', 'current_calendar_quarter': 3, 'current_quarter_name': 'Q3', 'quarter_keys': ['PPM_Q_I', 'PPM_Q_II', 'PPM_Q_III', 'PPM_Q_IV'], 'quarter_names': ['Q1', 'Q2', 'Q3', 'Q4']}
2025-07-10 04:12:40,558 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:12:40,558 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:12:40,559 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:12:40,559 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:12:40,559 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:12:40,995 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:12:40] "GET / HTTP/1.1" 200 -
2025-07-10 04:12:42,886 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:12:42] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:12:43,282 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:12:43] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:12:45,908 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:12:45] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:12:45,984 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:12:45] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-10 04:12:45,985 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:12:45] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:12:45,987 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:12:45] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:12:45,991 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:12:45] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:12:45,993 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:12:45] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:12:46,239 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:12:46,239 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:12:46,239 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:12:46,239 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:12:46,239 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 04:12:46,239 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:12:46] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 04:12:46,339 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:12:46] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:05,125 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:13:05,142 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:05] "POST /api/logging/frontend-info HTTP/1.1" 200 -
2025-07-10 04:13:05,142 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:13:05,142 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:13:05,142 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:13:05,142 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 04:13:05,142 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 04:13:05,142 - app.services.department_service - INFO - Saved 27 departments to data\departments.json
2025-07-10 04:13:05,142 - app.services.department_service - INFO - Saved 27 departments to data\departments.json
2025-07-10 04:13:05,142 - app.services.department_service - INFO - Created new department: SYNC TEST (ID: 28)
2025-07-10 04:13:05,142 - app.services.department_service - INFO - Created new department: SYNC TEST (ID: 28)
2025-07-10 04:13:05,156 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:05] "[35m[1mPOST /api/departments HTTP/1.1[0m" 201 -
2025-07-10 04:13:05,427 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:13:05,427 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:13:05,427 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:13:05,427 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:13:05,427 - app.services.department_service - DEBUG - Loaded 27 departments from data\departments.json
2025-07-10 04:13:05,440 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:05] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 04:13:10,523 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:13:10,528 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:13:10,529 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:13:10,530 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:13:10,532 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:13:10,533 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:13:10,534 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:13:10,541 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:13:10,542 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:13:10,542 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:13:10,579 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:13:10,579 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:13:10,579 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:13:10,589 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:13:10,589 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:13:10,589 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:10] "GET /settings HTTP/1.1" 200 -
2025-07-10 04:13:10,857 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:10] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:13:11,028 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:11] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:13:11,031 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:11] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:11,034 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:11] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:11,034 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:11] "GET /static/js/settings.js?v=4641 HTTP/1.1" 200 -
2025-07-10 04:13:11,068 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:11] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:11,218 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:11] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:11,389 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:11] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:11,389 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:11] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:11,406 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:13:11,406 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:13:11,406 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:13:11,406 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:13:11,406 - app.services.department_service - DEBUG - Loaded 27 departments from data\departments.json
2025-07-10 04:13:11,423 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:11] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 04:13:11,502 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:11] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:11,888 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:13:11,888 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:13:11,888 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:13:11,888 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:13:11,888 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:13:11,888 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:13:11,888 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:13:11,888 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:13:11,888 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:13:11,888 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:13:11,888 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:11] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:13:12,157 - app - DEBUG - [app.decorators] Checking permission: ['audit_log_view']
2025-07-10 04:13:12,157 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:13:12,176 - app - DEBUG - [app.decorators] Permission check result for ['audit_log_view']: True
2025-07-10 04:13:12,177 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:13:12,191 - app.services.audit_service - DEBUG - Loaded 585 audit log entries
2025-07-10 04:13:12,208 - app.services.audit_service - DEBUG - Loaded 585 audit log entries
2025-07-10 04:13:12,218 - app.services.audit_service - DEBUG - Loaded 585 audit log entries
2025-07-10 04:13:12,224 - app.services.audit_service - DEBUG - Loaded 585 audit log entries
2025-07-10 04:13:12,290 - app.services.audit_service - DEBUG - Saved 586 audit log entries
2025-07-10 04:13:12,290 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-10 04:13:12,290 - app.services.audit_service - INFO - Audit event logged: User Action by User
2025-07-10 04:13:12,290 - app.services.audit_service - INFO - Audit event logged: User Action by User
2025-07-10 04:13:12,290 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:13:12,290 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-10 04:13:12,290 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:13:12,290 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:13:12,290 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:13:12,290 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:13:12,290 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:13:12,308 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:13:12,308 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:13:12,352 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:12] "GET /api/settings HTTP/1.1" 200 -
2025-07-10 04:13:12,446 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:13:12,446 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:13:12,446 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:13:12,447 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:13:12,447 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:13:12,482 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:12] "GET /audit-log HTTP/1.1" 200 -
2025-07-10 04:13:12,534 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:12] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:13:12,850 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:12] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:13:12,964 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:12] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:12,979 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:12] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:13,001 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:13] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:13,006 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:13] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:13,010 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:13] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:13,184 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:13] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:13,301 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:13] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:13,680 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:13:13,681 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:13:13,682 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:13:13,682 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:13:13,683 - app.services.department_service - DEBUG - Loaded 27 departments from data\departments.json
2025-07-10 04:13:13,686 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:13] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 04:13:19,813 - app - DEBUG - [app.decorators] Checking permission: ['training_manage']
2025-07-10 04:13:19,814 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:13:19,815 - app - DEBUG - [app.decorators] Permission check result for ['training_manage']: True
2025-07-10 04:13:19,815 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:13:19,817 - app.services.training_service - INFO - Successfully loaded 239 training records from data\training.json
2025-07-10 04:13:19,817 - app.services.training_service - INFO - Successfully loaded 239 training records from data\training.json
2025-07-10 04:13:19,838 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:13:19,838 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:13:19,838 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:13:19,838 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:13:19,838 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:13:19,855 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:19] "GET /training HTTP/1.1" 200 -
2025-07-10 04:13:20,138 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:20] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:13:20,251 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:20] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:20,254 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:20] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:20,258 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:20] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:20,262 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:20] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:13:20,266 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:20] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:20,467 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:20] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:20,608 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:20] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:20,610 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:20] "[36mGET /static/js/training.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:20,635 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:13:20,647 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:13:20,648 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:13:20,648 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:13:20,650 - app.services.department_service - DEBUG - Loaded 27 departments from data\departments.json
2025-07-10 04:13:20,665 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:20] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 04:13:20,846 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:20] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:21,614 - app - DEBUG - [app.decorators] Checking permission: ['training_read']
2025-07-10 04:13:21,615 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:13:21,616 - app - DEBUG - [app.decorators] Permission check result for ['training_read']: True
2025-07-10 04:13:21,616 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:13:21,618 - app.services.training_service - INFO - Successfully loaded 239 training records from data\training.json
2025-07-10 04:13:21,618 - app.services.training_service - INFO - Successfully loaded 239 training records from data\training.json
2025-07-10 04:13:21,630 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:21] "GET /api/trainings HTTP/1.1" 200 -
2025-07-10 04:13:48,825 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 04:13:48,827 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:13:48,827 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_read', 'equipment_ocm_read']: True
2025-07-10 04:13:48,827 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:13:48,827 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 04:13:48,828 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:13:48,828 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:13:48,828 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:13:48,829 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:13:48,829 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:13:48,829 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:13:48,830 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:13:48,830 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:13:48,830 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 04:13:48,830 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 04:13:48,831 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 04:13:48,833 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:13:48,833 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:13:48,835 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:13:48,836 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:13:48,836 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 04:13:48,836 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-10 04:13:48,839 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:13:48,839 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:13:48,839 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:13:48,839 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:13:48,839 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:13:48,922 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:48] "GET /equipment/ocm HTTP/1.1" 200 -
2025-07-10 04:13:49,138 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:49] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:13:49,332 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:49] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:13:51,491 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-10 04:13:51,491 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:13:51,506 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_write', 'equipment_ocm_write']: True
2025-07-10 04:13:51,507 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:13:51,509 - app.services.department_service - DEBUG - Loaded 27 departments from data\departments.json
2025-07-10 04:13:51,510 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-10 04:13:51,511 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-10 04:13:51,512 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-10 04:13:51,512 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-10 04:13:51,513 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-10 04:13:51,513 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-10 04:13:51,517 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:51] "GET /equipment/machine-assignment HTTP/1.1" 200 -
2025-07-10 04:13:51,717 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:51] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:13:51,830 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:51] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:13:51,917 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:51] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:51,929 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:51] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:51,949 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:51] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:51,951 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:51] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:52,024 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:52] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:52,182 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:52] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:52,278 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:13:52,282 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:13:52,283 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:13:52,284 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:13:52,285 - app.services.department_service - DEBUG - Loaded 27 departments from data\departments.json
2025-07-10 04:13:52,294 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:52] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 04:13:52,295 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:52] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:13:52,655 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:13:52,655 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:13:52,658 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:13:52,658 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:13:52,658 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:13:52,659 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:13:52,659 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:13:52,660 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:13:52,661 - app.services.department_service - DEBUG - Loaded 27 departments from data\departments.json
2025-07-10 04:13:52,662 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-10 04:13:52,663 - app.services.department_service - DEBUG - Loaded 27 departments from data\departments.json
2025-07-10 04:13:52,666 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:52] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 04:13:52,667 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:13:52] "GET /api/trainers HTTP/1.1" 200 -
2025-07-10 04:13:59,990 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-10 04:13:59,991 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:13:59,992 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_read', 'equipment_ocm_read']: True
2025-07-10 04:13:59,992 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:13:59,993 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-10 04:13:59,993 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:13:59,993 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:13:59,993 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:13:59,994 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:13:59,995 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:13:59,995 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:13:59,995 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:13:59,996 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:13:59,996 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-10 04:13:59,996 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-10 04:13:59,996 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-10 04:14:00,002 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:14:00,002 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:14:00,010 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:14:00,010 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:14:00,010 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-10 04:14:00,010 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-10 04:14:00,106 - app - DEBUG - [has_permission] User testuser permission 'equipment_ppm_import_export': True
2025-07-10 04:14:00,106 - app - DEBUG - [has_permission] User testuser permission 'training_manage': True
2025-07-10 04:14:00,106 - app - DEBUG - [has_permission] User testuser permission 'audit_log_view': True
2025-07-10 04:14:00,106 - app - DEBUG - [has_permission] User testuser permission 'settings_manage': True
2025-07-10 04:14:00,106 - app - DEBUG - [has_permission] User testuser permission 'user_manage': True
2025-07-10 04:14:00,356 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:14:00] "GET /equipment/ppm HTTP/1.1" 200 -
2025-07-10 04:14:00,401 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:14:00] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:14:00,822 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:14:00] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:14:00,982 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:14:00] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:14:01,030 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:14:01] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:14:01,032 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:14:01] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:14:01,064 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:14:01] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-10 04:14:01,066 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:14:01] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:14:01,149 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:14:01] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:14:01,310 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:14:01] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:14:32,023 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:14:32,023 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:14:32,023 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:14:32,023 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:14:32,023 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-10 04:14:32,023 - app.services.department_service - DEBUG - Loaded 27 departments from data\departments.json
2025-07-10 04:14:32,040 - app.services.department_service - INFO - Saved 26 departments to data\departments.json
2025-07-10 04:14:32,040 - app.services.department_service - INFO - Saved 26 departments to data\departments.json
2025-07-10 04:14:32,056 - app.services.department_service - INFO - Deleted department ID 28
2025-07-10 04:14:32,056 - app.services.department_service - INFO - Deleted department ID 28
2025-07-10 04:14:32,056 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:14:32] "DELETE /api/departments/28 HTTP/1.1" 200 -
2025-07-10 04:14:32,284 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-10 04:14:32,284 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:14:32,284 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-10 04:14:32,284 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:14:32,284 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-10 04:14:32,284 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:14:32] "GET /api/departments HTTP/1.1" 200 -
2025-07-10 04:15:16,692 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_write']
2025-07-10 04:15:16,693 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:15:16,694 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_write']: True
2025-07-10 04:15:16,694 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:15:16,716 - app - DEBUG - [has_permission] User testuser permission 'equipment_ppm_import_export': True
2025-07-10 04:15:16,716 - app - DEBUG - [has_permission] User testuser permission 'training_manage': True
2025-07-10 04:15:16,717 - app - DEBUG - [has_permission] User testuser permission 'audit_log_view': True
2025-07-10 04:15:16,717 - app - DEBUG - [has_permission] User testuser permission 'settings_manage': True
2025-07-10 04:15:16,717 - app - DEBUG - [has_permission] User testuser permission 'user_manage': True
2025-07-10 04:15:16,721 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:16] "GET /equipment/ppm/add HTTP/1.1" 200 -
2025-07-10 04:15:17,089 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:17] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:15:17,110 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:17] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:15:17,508 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:17] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:15:17,509 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:17] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-10 04:15:17,515 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:17] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:15:17,548 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:17] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:15:17,548 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:17] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:15:17,562 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:17] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:15:17,862 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:17] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:15:32,475 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_write']
2025-07-10 04:15:32,476 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:15:32,476 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_write']: True
2025-07-10 04:15:32,477 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:15:32,477 - app - DEBUG - [has_permission] User testuser permission 'equipment_ppm_import_export': True
2025-07-10 04:15:32,477 - app - DEBUG - [has_permission] User testuser permission 'training_manage': True
2025-07-10 04:15:32,478 - app - DEBUG - [has_permission] User testuser permission 'audit_log_view': True
2025-07-10 04:15:32,478 - app - DEBUG - [has_permission] User testuser permission 'settings_manage': True
2025-07-10 04:15:32,478 - app - DEBUG - [has_permission] User testuser permission 'user_manage': True
2025-07-10 04:15:32,481 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:32] "GET /equipment/ppm/add HTTP/1.1" 200 -
2025-07-10 04:15:32,532 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:32] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:15:32,725 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:32] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:15:32,858 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:32] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:15:32,859 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:32] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-10 04:15:32,860 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:32] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:15:32,862 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:32] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:15:32,864 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:32] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:15:33,060 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:33] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:15:33,219 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:15:33] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:16:15,673 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ocm_write']
2025-07-10 04:16:15,673 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:16:15,673 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ocm_write']: True
2025-07-10 04:16:15,673 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:16:15,673 - app - DEBUG - [has_permission] User testuser permission 'equipment_ppm_import_export': True
2025-07-10 04:16:15,673 - app - DEBUG - [has_permission] User testuser permission 'training_manage': True
2025-07-10 04:16:15,673 - app - DEBUG - [has_permission] User testuser permission 'audit_log_view': True
2025-07-10 04:16:15,673 - app - DEBUG - [has_permission] User testuser permission 'settings_manage': True
2025-07-10 04:16:15,673 - app - DEBUG - [has_permission] User testuser permission 'user_manage': True
2025-07-10 04:16:15,673 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:16:15] "GET /equipment/ocm/add HTTP/1.1" 200 -
2025-07-10 04:16:15,713 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:16:15] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:16:15,936 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:16:15] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:16:16,078 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:16:16] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:16:16,081 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:16:16] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:16:16,085 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:16:16] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-10 04:16:16,094 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:16:16] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:16:16,116 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:16:16] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:16:16,262 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:16:16] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:16:16,495 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:16:16] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:17:00,750 - app - DEBUG - [app.decorators] Checking permission: ['training_manage']
2025-07-10 04:17:00,753 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:17:00,755 - app - DEBUG - [app.decorators] Permission check result for ['training_manage']: True
2025-07-10 04:17:00,759 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:17:00,763 - app.services.training_service - INFO - Successfully loaded 239 training records from data\training.json
2025-07-10 04:17:00,763 - app.services.training_service - INFO - Successfully loaded 239 training records from data\training.json
2025-07-10 04:17:00,767 - app - DEBUG - [has_permission] User testuser permission 'equipment_ppm_import_export': True
2025-07-10 04:17:00,768 - app - DEBUG - [has_permission] User testuser permission 'training_manage': True
2025-07-10 04:17:00,769 - app - DEBUG - [has_permission] User testuser permission 'audit_log_view': True
2025-07-10 04:17:00,769 - app - DEBUG - [has_permission] User testuser permission 'settings_manage': True
2025-07-10 04:17:00,770 - app - DEBUG - [has_permission] User testuser permission 'user_manage': True
2025-07-10 04:17:00,820 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:17:00] "GET /training HTTP/1.1" 200 -
2025-07-10 04:17:00,940 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:17:00] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-10 04:17:01,000 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:17:01] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-10 04:17:01,297 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:17:01] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-10 04:17:01,297 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:17:01] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-10 04:17:01,297 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:17:01] "GET /static/js/training.js HTTP/1.1" 200 -
2025-07-10 04:17:01,307 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:17:01] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-10 04:17:01,311 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:17:01] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-10 04:17:01,409 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:17:01] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-10 04:17:01,728 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:17:01] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-10 04:17:01,731 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:17:01] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-10 04:17:02,594 - app - DEBUG - [app.decorators] Checking permission: ['training_read']
2025-07-10 04:17:02,596 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-10 04:17:02,596 - app - DEBUG - [app.decorators] Permission check result for ['training_read']: True
2025-07-10 04:17:02,597 - app - DEBUG - [app.decorators] Permission granted
2025-07-10 04:17:02,598 - app.services.training_service - INFO - Successfully loaded 239 training records from data\training.json
2025-07-10 04:17:02,598 - app.services.training_service - INFO - Successfully loaded 239 training records from data\training.json
2025-07-10 04:17:02,844 - werkzeug - INFO - 127.0.0.1 - - [10/Jul/2025 04:17:02] "GET /api/trainings HTTP/1.1" 200 -
2025-07-10 04:46:44,627 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:46:44,627 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:46:44,628 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:46:44,628 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:46:44,629 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:46:44,629 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:46:44,633 - app.services.backup_service - INFO - Automatic backup is enabled, creating backup every 24 hours
2025-07-10 04:46:44,633 - app.services.backup_service - INFO - Automatic backup is enabled, creating backup every 24 hours
2025-07-10 04:46:44,635 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:46:44,635 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:46:45,044 - app.services.audit_service - DEBUG - Loaded 586 audit log entries
2025-07-10 04:46:45,050 - app.services.audit_service - DEBUG - Loaded 586 audit log entries
2025-07-10 04:46:45,070 - app.services.audit_service - DEBUG - Saved 587 audit log entries
2025-07-10 04:46:45,071 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-10 04:46:45,071 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-10 04:46:45,098 - app.services.backup_service - INFO - Full backup created successfully: full_backup_20250710_044644_638890.zip (0.23 MB)
2025-07-10 04:46:45,098 - app.services.backup_service - INFO - Full backup created successfully: full_backup_20250710_044644_638890.zip (0.23 MB)
2025-07-10 04:46:45,102 - app.services.backup_service - INFO - Automatic full backup created: full_backup_20250710_044644_638890.zip (0.23 MB)
2025-07-10 04:46:45,102 - app.services.backup_service - INFO - Automatic full backup created: full_backup_20250710_044644_638890.zip (0.23 MB)
2025-07-10 04:46:45,126 - app.services.audit_service - DEBUG - Loaded 587 audit log entries
2025-07-10 04:46:45,131 - app.services.audit_service - DEBUG - Loaded 587 audit log entries
2025-07-10 04:46:45,155 - app.services.audit_service - DEBUG - Saved 588 audit log entries
2025-07-10 04:46:45,156 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-10 04:46:45,156 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-10 04:46:45,161 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:46:45,161 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-10 04:46:45,167 - app.services.backup_service - INFO - Cleanup completed: 0 old backups deleted
2025-07-10 04:46:45,167 - app.services.backup_service - INFO - Cleanup completed: 0 old backups deleted
2025-07-10 04:46:45,170 - app.services.backup_service - INFO - Backup scheduler sleeping for 24 hours (86400 seconds)
2025-07-10 04:46:45,170 - app.services.backup_service - INFO - Backup scheduler sleeping for 24 hours (86400 seconds)
2025-07-10 04:47:15,570 - app.services.email_service - DEBUG - Scheduler awake after sleep.
2025-07-10 04:47:15,573 - app.services.email_service - DEBUG - Scheduler loop iteration started.
2025-07-10 04:47:15,573 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:47:15,574 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:47:15,574 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:47:15,575 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:47:15,575 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:47:15,575 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:47:15,581 - app.services.email_service - DEBUG - Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:47:15,581 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-10 04:47:15,581 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-10 04:47:15,583 - app.services.email_service - INFO - Next email scheduled for 2025-07-10 07:30:00. Sleeping for 60.0 minutes.
2025-07-10 04:47:15,583 - app.services.email_service - INFO - Next email scheduled for 2025-07-10 07:30:00. Sleeping for 60.0 minutes.
2025-07-10 04:47:30,797 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Woke up after sleep.
2025-07-10 04:47:30,798 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loop iteration started.
2025-07-10 04:47:30,798 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loading settings...
2025-07-10 04:47:30,799 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:47:30,800 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:47:30,801 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:47:30,801 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:47:30,813 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:47:30,813 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:47:30,841 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:47:30,841 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:47:30,863 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Push notifications enabled: True
2025-07-10 04:47:30,864 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (minutes): 60
2025-07-10 04:47:30,864 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (seconds): 3600
2025-07-10 04:47:30,864 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-10 04:47:30,864 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-10 04:47:30,883 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-10 04:47:30,883 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-10 04:47:30,885 - app.services.push_notification_service - DEBUG - Reloading settings within process_push_notifications...
2025-07-10 04:47:30,885 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 04:47:30,886 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:47:30,886 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:47:30,890 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 04:47:30,890 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:47:30,890 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:47:30,905 - app.services.push_notification_service - DEBUG - Settings loaded in process_push_notifications: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 04:47:30,906 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-10 04:47:30,906 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-10 04:47:30,917 - app.services.push_notification_service - DEBUG - Loading PPM data...
2025-07-10 04:47:30,917 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-10 04:47:30,918 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:47:30,918 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:47:30,918 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:47:30,919 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:47:30,920 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:47:30,920 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:47:30,920 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:47:30,923 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:47:30,924 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-10 04:47:30,924 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-10 04:47:30,924 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-10 04:47:30,933 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:47:30,935 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:47:30,949 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:47:30,950 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:47:30,950 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-10 04:47:30,951 - app.services.push_notification_service - DEBUG - Loaded 1040 PPM entries.
2025-07-10 04:47:30,951 - app.services.push_notification_service - DEBUG - Loading OCM data...
2025-07-10 04:47:30,952 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 04:47:30,952 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 04:47:30,952 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 04:47:30,952 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 04:47:30,953 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 04:47:30,953 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 04:47:30,953 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 04:47:30,959 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 04:47:30,959 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 04:47:30,960 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 04:47:30,960 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 04:47:30,960 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 04:47:30,963 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 04:47:30,964 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 04:47:30,967 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 04:47:30,967 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 04:47:30,967 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 04:47:30,967 - app.services.push_notification_service - DEBUG - Loaded 612 OCM entries.
2025-07-10 04:47:30,968 - app.services.push_notification_service - DEBUG - Getting upcoming PPM maintenance tasks...
2025-07-10 04:47:31,125 - app.services.push_notification_service - DEBUG - Found 699 upcoming PPM tasks.
2025-07-10 04:47:31,125 - app.services.push_notification_service - DEBUG - Getting upcoming OCM maintenance tasks...
2025-07-10 04:47:31,150 - app.services.push_notification_service - DEBUG - Found 1 upcoming OCM tasks.
2025-07-10 04:47:31,150 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 700
2025-07-10 04:47:31,150 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 700
2025-07-10 04:47:31,163 - app.services.push_notification_service - DEBUG - Sorting all upcoming tasks by date...
2025-07-10 04:47:31,183 - app.services.push_notification_service - DEBUG - Tasks sorted.
2025-07-10 04:47:31,183 - app.services.push_notification_service - DEBUG - Summarizing all upcoming tasks...
2025-07-10 04:47:31,183 - app.services.push_notification_service - DEBUG - Summarizing upcoming maintenance. Tasks received: 700
2025-07-10 04:47:31,184 - app.services.push_notification_service - DEBUG - PPM count: 699, OCM count: 1
2025-07-10 04:47:31,185 - app.services.push_notification_service - DEBUG - Generated summary: 699 PPM tasks and 1 OCM task due soon.
2025-07-10 04:47:31,185 - app.services.push_notification_service - INFO - Generated summary for push notification: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 04:47:31,185 - app.services.push_notification_service - INFO - Generated summary for push notification: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 04:47:31,192 - app.services.push_notification_service - DEBUG - Sending push notification with the generated summary...
2025-07-10 04:47:31,192 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 04:47:31,192 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 04:47:31,193 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-10 04:47:31,193 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-10 04:47:31,195 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-10 04:47:31,195 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-10 04:47:31,196 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-10 04:47:31,196 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-10 04:47:31,199 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-10 04:47:31,199 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-10 04:47:31,200 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-10 04:47:31,200 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-10 05:10:10,985 - app.services.email_service - DEBUG - Scheduler awake after sleep.
2025-07-10 05:10:10,987 - app.services.email_service - DEBUG - Scheduler loop iteration started.
2025-07-10 05:10:10,987 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 05:10:10,988 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 05:10:10,989 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 05:10:10,989 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 05:10:10,991 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:10,991 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:10,997 - app.services.email_service - DEBUG - Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:10,998 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-10 05:10:10,998 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-10 05:10:11,000 - app.services.email_service - INFO - Next email scheduled for 2025-07-10 07:30:00. Sleeping for 60.0 minutes.
2025-07-10 05:10:11,000 - app.services.email_service - INFO - Next email scheduled for 2025-07-10 07:30:00. Sleeping for 60.0 minutes.
2025-07-10 05:10:13,603 - app.services.email_service - DEBUG - Scheduler awake after sleep.
2025-07-10 05:10:13,604 - app.services.email_service - DEBUG - Scheduler loop iteration started.
2025-07-10 05:10:13,604 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 05:10:13,605 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 05:10:13,606 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 05:10:13,607 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 05:10:13,608 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:13,608 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:13,613 - app.services.email_service - DEBUG - Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:13,614 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-10 05:10:13,614 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-10 05:10:13,617 - app.services.email_service - INFO - Next email scheduled for 2025-07-10 07:30:00. Sleeping for 60.0 minutes.
2025-07-10 05:10:13,617 - app.services.email_service - INFO - Next email scheduled for 2025-07-10 07:30:00. Sleeping for 60.0 minutes.
2025-07-10 05:10:26,228 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Woke up after sleep.
2025-07-10 05:10:26,229 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loop iteration started.
2025-07-10 05:10:26,229 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loading settings...
2025-07-10 05:10:26,230 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 05:10:26,230 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 05:10:26,231 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 05:10:26,232 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 05:10:26,233 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:26,233 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:26,241 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:26,241 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:26,247 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Push notifications enabled: True
2025-07-10 05:10:26,247 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (minutes): 60
2025-07-10 05:10:26,248 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (seconds): 3600
2025-07-10 05:10:26,249 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-10 05:10:26,249 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-10 05:10:26,251 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-10 05:10:26,251 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-10 05:10:26,253 - app.services.push_notification_service - DEBUG - Reloading settings within process_push_notifications...
2025-07-10 05:10:26,254 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 05:10:26,255 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 05:10:26,256 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 05:10:26,256 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 05:10:26,258 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:26,258 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:26,264 - app.services.push_notification_service - DEBUG - Settings loaded in process_push_notifications: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:26,264 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-10 05:10:26,264 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-10 05:10:26,267 - app.services.push_notification_service - DEBUG - Loading PPM data...
2025-07-10 05:10:26,268 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-10 05:10:26,269 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 05:10:26,269 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 05:10:26,270 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 05:10:26,272 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 05:10:26,273 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 05:10:26,273 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 05:10:26,274 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 05:10:26,275 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 05:10:26,275 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-10 05:10:26,275 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-10 05:10:26,276 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-10 05:10:26,286 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 05:10:26,287 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 05:10:26,305 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 05:10:26,305 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 05:10:26,306 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-10 05:10:26,306 - app.services.push_notification_service - DEBUG - Loaded 1040 PPM entries.
2025-07-10 05:10:26,307 - app.services.push_notification_service - DEBUG - Loading OCM data...
2025-07-10 05:10:26,307 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 05:10:26,307 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 05:10:26,307 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 05:10:26,308 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 05:10:26,308 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 05:10:26,309 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 05:10:26,309 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 05:10:26,310 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 05:10:26,310 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 05:10:26,310 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 05:10:26,311 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 05:10:26,311 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 05:10:26,314 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 05:10:26,314 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 05:10:26,318 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 05:10:26,318 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 05:10:26,319 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 05:10:26,319 - app.services.push_notification_service - DEBUG - Loaded 612 OCM entries.
2025-07-10 05:10:26,319 - app.services.push_notification_service - DEBUG - Getting upcoming PPM maintenance tasks...
2025-07-10 05:10:26,421 - app.services.push_notification_service - DEBUG - Found 699 upcoming PPM tasks.
2025-07-10 05:10:26,422 - app.services.push_notification_service - DEBUG - Getting upcoming OCM maintenance tasks...
2025-07-10 05:10:26,433 - app.services.push_notification_service - DEBUG - Found 1 upcoming OCM tasks.
2025-07-10 05:10:26,433 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 700
2025-07-10 05:10:26,433 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 700
2025-07-10 05:10:26,434 - app.services.push_notification_service - DEBUG - Sorting all upcoming tasks by date...
2025-07-10 05:10:26,447 - app.services.push_notification_service - DEBUG - Tasks sorted.
2025-07-10 05:10:26,448 - app.services.push_notification_service - DEBUG - Summarizing all upcoming tasks...
2025-07-10 05:10:26,448 - app.services.push_notification_service - DEBUG - Summarizing upcoming maintenance. Tasks received: 700
2025-07-10 05:10:26,448 - app.services.push_notification_service - DEBUG - PPM count: 699, OCM count: 1
2025-07-10 05:10:26,448 - app.services.push_notification_service - DEBUG - Generated summary: 699 PPM tasks and 1 OCM task due soon.
2025-07-10 05:10:26,448 - app.services.push_notification_service - INFO - Generated summary for push notification: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 05:10:26,448 - app.services.push_notification_service - INFO - Generated summary for push notification: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 05:10:26,451 - app.services.push_notification_service - DEBUG - Sending push notification with the generated summary...
2025-07-10 05:10:26,451 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 05:10:26,451 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 05:10:26,452 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-10 05:10:26,452 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-10 05:10:26,453 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-10 05:10:26,453 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-10 05:10:26,453 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-10 05:10:26,453 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-10 05:10:26,455 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-10 05:10:26,455 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-10 05:10:26,456 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-10 05:10:26,456 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-10 05:10:28,990 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Woke up after sleep.
2025-07-10 05:10:28,991 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loop iteration started.
2025-07-10 05:10:28,991 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loading settings...
2025-07-10 05:10:28,992 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 05:10:28,992 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 05:10:28,993 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 05:10:28,994 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 05:10:28,995 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:28,995 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:28,997 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:28,997 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:28,999 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Push notifications enabled: True
2025-07-10 05:10:28,999 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (minutes): 60
2025-07-10 05:10:28,999 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (seconds): 3600
2025-07-10 05:10:29,000 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-10 05:10:29,000 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-10 05:10:29,000 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-10 05:10:29,000 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-10 05:10:29,001 - app.services.push_notification_service - DEBUG - Reloading settings within process_push_notifications...
2025-07-10 05:10:29,001 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-10 05:10:29,001 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 05:10:29,002 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 05:10:29,002 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-10 05:10:29,002 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:29,002 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:29,004 - app.services.push_notification_service - DEBUG - Settings loaded in process_push_notifications: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-10 05:10:29,004 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-10 05:10:29,004 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-10 05:10:29,005 - app.services.push_notification_service - DEBUG - Loading PPM data...
2025-07-10 05:10:29,005 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-10 05:10:29,005 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 05:10:29,006 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 05:10:29,006 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 05:10:29,007 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 05:10:29,007 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 05:10:29,007 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 05:10:29,008 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 05:10:29,008 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 05:10:29,008 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-10 05:10:29,008 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-10 05:10:29,008 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-10 05:10:29,013 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 05:10:29,013 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 05:10:29,022 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 05:10:29,022 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 05:10:29,023 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-10 05:10:29,023 - app.services.push_notification_service - DEBUG - Loaded 1040 PPM entries.
2025-07-10 05:10:29,023 - app.services.push_notification_service - DEBUG - Loading OCM data...
2025-07-10 05:10:29,023 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-10 05:10:29,023 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-10 05:10:29,024 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-10 05:10:29,024 - app.services.data_service - DEBUG - Using data directory: data
2025-07-10 05:10:29,024 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-10 05:10:29,024 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-10 05:10:29,025 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-10 05:10:29,025 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-10 05:10:29,025 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-10 05:10:29,025 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-10 05:10:29,025 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-10 05:10:29,026 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-10 05:10:29,027 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-10 05:10:29,027 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-10 05:10:29,030 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-10 05:10:29,030 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-10 05:10:29,030 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-10 05:10:29,031 - app.services.push_notification_service - DEBUG - Loaded 612 OCM entries.
2025-07-10 05:10:29,031 - app.services.push_notification_service - DEBUG - Getting upcoming PPM maintenance tasks...
2025-07-10 05:10:29,117 - app.services.push_notification_service - DEBUG - Found 699 upcoming PPM tasks.
2025-07-10 05:10:29,118 - app.services.push_notification_service - DEBUG - Getting upcoming OCM maintenance tasks...
2025-07-10 05:10:29,128 - app.services.push_notification_service - DEBUG - Found 1 upcoming OCM tasks.
2025-07-10 05:10:29,128 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 700
2025-07-10 05:10:29,128 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 700
2025-07-10 05:10:29,129 - app.services.push_notification_service - DEBUG - Sorting all upcoming tasks by date...
2025-07-10 05:10:29,139 - app.services.push_notification_service - DEBUG - Tasks sorted.
2025-07-10 05:10:29,140 - app.services.push_notification_service - DEBUG - Summarizing all upcoming tasks...
2025-07-10 05:10:29,140 - app.services.push_notification_service - DEBUG - Summarizing upcoming maintenance. Tasks received: 700
2025-07-10 05:10:29,140 - app.services.push_notification_service - DEBUG - PPM count: 699, OCM count: 1
2025-07-10 05:10:29,140 - app.services.push_notification_service - DEBUG - Generated summary: 699 PPM tasks and 1 OCM task due soon.
2025-07-10 05:10:29,140 - app.services.push_notification_service - INFO - Generated summary for push notification: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 05:10:29,140 - app.services.push_notification_service - INFO - Generated summary for push notification: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 05:10:29,141 - app.services.push_notification_service - DEBUG - Sending push notification with the generated summary...
2025-07-10 05:10:29,141 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 05:10:29,141 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '699 PPM tasks and 1 OCM task due soon.'
2025-07-10 05:10:29,142 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-10 05:10:29,142 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-10 05:10:29,143 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-10 05:10:29,143 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-10 05:10:29,143 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-10 05:10:29,143 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-10 05:10:29,145 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-10 05:10:29,145 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-10 05:10:29,145 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-10 05:10:29,145 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-19 19:21:03,401 - app - INFO - Initializing application
2025-07-19 19:21:03,932 - app.services - DEBUG - Initializing services package
2025-07-19 19:21:04,027 - app - DEBUG - [app.models.json_user] Logging started for json_user.py
2025-07-19 19:21:05,911 - app - INFO - Enhanced logging service initialized
2025-07-19 19:21:05,911 - app - INFO - Enhanced logging service initialized
2025-07-19 19:21:17,975 - app.services.email_service - DEBUG - Initializing EmailService
2025-07-19 19:21:18,491 - app - DEBUG - Initializing import/export service
2025-07-19 19:21:18,565 - app - DEBUG - [app.decorators] Logging started for decorators.py
2025-07-19 19:21:18,565 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:21:18,566 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:21:18,566 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write']
2025-07-19 19:21:18,566 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ocm_write']
2025-07-19 19:21:18,566 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write']
2025-07-19 19:21:18,567 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ocm_write']
2025-07-19 19:21:18,567 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-19 19:21:18,567 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-19 19:21:18,567 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-19 19:21:18,567 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-19 19:21:18,568 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export', 'training_manage']
2025-07-19 19:21:18,568 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:18,568 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:18,568 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:18,568 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_email_test']
2025-07-19 19:21:18,569 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_manage']
2025-07-19 19:21:18,569 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:18,569 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:18,569 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:18,570 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:18,570 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:18,570 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:18,573 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:21:18,573 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['audit_log_view']
2025-07-19 19:21:18,573 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['audit_log_export']
2025-07-19 19:21:18,573 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:18,574 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:18,574 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:18,574 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:18,574 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:18,574 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['user_manage']
2025-07-19 19:21:18,585 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:21:18,585 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:21:18,586 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:18,586 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:18,586 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-19 19:21:18,586 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['export_data']
2025-07-19 19:21:18,587 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['import_data']
2025-07-19 19:21:18,587 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-19 19:21:18,589 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_write']
2025-07-19 19:21:18,589 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_read']
2025-07-19 19:21:18,589 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_read']
2025-07-19 19:21:18,589 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_write']
2025-07-19 19:21:18,589 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_delete']
2025-07-19 19:21:18,590 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_delete']
2025-07-19 19:21:18,590 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_read']
2025-07-19 19:21:18,590 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:18,590 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:18,590 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:18,590 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:18,591 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:18,591 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:18,591 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:21:18,591 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:18,591 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:18,592 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:21:18,592 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:18,592 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:18,592 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:18,592 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:18,592 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:18,593 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:18,593 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:18,593 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:21:18,593 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:18,593 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:18,594 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:18,594 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:18,594 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:18,594 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:21:18,594 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:21:18,606 - app - DEBUG - [app.routes.auth] Logging started for auth.py
2025-07-19 19:21:18,606 - app - DEBUG - [app.routes.auth] Auth blueprint initialized
2025-07-19 19:21:18,699 - app - INFO - Email scheduler thread initiated from create_app.
2025-07-19 19:21:18,699 - app - INFO - Email scheduler thread initiated from create_app.
2025-07-19 19:21:18,700 - app - INFO - Push Notification scheduler thread initiated from create_app.
2025-07-19 19:21:18,700 - app - INFO - Push Notification scheduler thread initiated from create_app.
2025-07-19 19:21:18,700 - app.services.backup_service - INFO - Backup scheduler loop started
2025-07-19 19:21:18,700 - app.services.backup_service - INFO - Automatic backup scheduler started
2025-07-19 19:21:18,700 - app.services.backup_service - INFO - Backup scheduler loop started
2025-07-19 19:21:18,700 - app.services.backup_service - INFO - Automatic backup scheduler started
2025-07-19 19:21:18,701 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:21:18,701 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:21:18,701 - app - INFO - Automatic backup scheduler initiated from create_app.
2025-07-19 19:21:18,702 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:21:18,701 - app - INFO - Automatic backup scheduler initiated from create_app.
2025-07-19 19:21:18,702 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:21:18,702 - app - INFO - Application initialization complete
2025-07-19 19:21:18,702 - app - INFO - Application initialization complete
2025-07-19 19:21:18,703 - app - INFO - Attempting to update PPM statuses on application startup...
2025-07-19 19:21:18,706 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:21:18,703 - app - INFO - Attempting to update PPM statuses on application startup...
2025-07-19 19:21:18,710 - app.services.data_service - INFO - Starting update of all PPM statuses.
2025-07-19 19:21:18,706 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:21:18,710 - app.services.data_service - INFO - Starting update of all PPM statuses.
2025-07-19 19:21:18,716 - app.services.backup_service - INFO - Automatic backup is enabled, creating backup every 24 hours
2025-07-19 19:21:18,716 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-19 19:21:18,717 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:21:18,717 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:21:18,716 - app.services.backup_service - INFO - Automatic backup is enabled, creating backup every 24 hours
2025-07-19 19:21:18,718 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:21:18,718 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:21:18,719 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:21:18,719 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:21:18,719 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:21:18,719 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:21:18,722 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:21:18,722 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-19 19:21:18,723 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-19 19:21:18,719 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:21:18,723 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-19 19:21:18,729 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:21:18,729 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:21:18,740 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:21:18,741 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:21:18,741 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-19 19:21:18,791 - app.services.data_service - INFO - No PPM statuses required updating.
2025-07-19 19:21:18,791 - app.services.data_service - INFO - No PPM statuses required updating.
2025-07-19 19:21:18,793 - app - INFO - PPM statuses update process completed.
2025-07-19 19:21:18,793 - app - INFO - PPM statuses update process completed.
2025-07-19 19:21:18,957 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.8.114:5001
2025-07-19 19:21:18,958 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-07-19 19:21:19,017 - werkzeug - INFO -  * Restarting with stat
2025-07-19 19:21:19,465 - app.services.audit_service - DEBUG - Loaded 588 audit log entries
2025-07-19 19:21:19,469 - app.services.audit_service - DEBUG - Loaded 588 audit log entries
2025-07-19 19:21:19,493 - app.services.audit_service - DEBUG - Saved 589 audit log entries
2025-07-19 19:21:19,493 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-19 19:21:19,493 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-19 19:21:19,495 - app.services.backup_service - INFO - Full backup created successfully: full_backup_20250719_192118_740775.zip (0.23 MB)
2025-07-19 19:21:19,495 - app.services.backup_service - INFO - Full backup created successfully: full_backup_20250719_192118_740775.zip (0.23 MB)
2025-07-19 19:21:19,496 - app.services.backup_service - INFO - Automatic full backup created: full_backup_20250719_192118_740775.zip (0.23 MB)
2025-07-19 19:21:19,496 - app.services.backup_service - INFO - Automatic full backup created: full_backup_20250719_192118_740775.zip (0.23 MB)
2025-07-19 19:21:19,516 - app.services.audit_service - DEBUG - Loaded 589 audit log entries
2025-07-19 19:21:19,520 - app.services.audit_service - DEBUG - Loaded 589 audit log entries
2025-07-19 19:21:19,540 - app.services.audit_service - DEBUG - Saved 590 audit log entries
2025-07-19 19:21:19,541 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-19 19:21:19,541 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-19 19:21:19,543 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:21:19,543 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:21:19,544 - app.services.backup_service - INFO - Cleanup completed: 0 old backups deleted
2025-07-19 19:21:19,544 - app.services.backup_service - INFO - Cleanup completed: 0 old backups deleted
2025-07-19 19:21:19,545 - app.services.backup_service - INFO - Backup scheduler sleeping for 24 hours (86400 seconds)
2025-07-19 19:21:19,545 - app.services.backup_service - INFO - Backup scheduler sleeping for 24 hours (86400 seconds)
2025-07-19 19:21:19,874 - app - INFO - Initializing application
2025-07-19 19:21:19,972 - app.services - DEBUG - Initializing services package
2025-07-19 19:21:19,977 - app - DEBUG - [app.models.json_user] Logging started for json_user.py
2025-07-19 19:21:20,195 - app - INFO - Enhanced logging service initialized
2025-07-19 19:21:20,195 - app - INFO - Enhanced logging service initialized
2025-07-19 19:21:21,273 - app.services.push_notification_service - INFO - PushNotificationService class loading.
2025-07-19 19:21:21,273 - app.services.push_notification_service - INFO - PushNotificationService class loading.
2025-07-19 19:21:21,286 - app - INFO - Background thread for scheduler is starting.
2025-07-19 19:21:21,289 - app - INFO - Background thread for Push Notification scheduler is starting.
2025-07-19 19:21:21,286 - app - INFO - Background thread for scheduler is starting.
2025-07-19 19:21:21,289 - app - INFO - Background thread for Push Notification scheduler is starting.
2025-07-19 19:21:21,301 - app.services.email_service - INFO - Email reminder scheduler async loop started in process ID: 17692.
2025-07-19 19:21:21,306 - app.services.push_notification_service - INFO - Attempting to start Push Notification Scheduler async loop.
2025-07-19 19:21:21,301 - app.services.email_service - INFO - Email reminder scheduler async loop started in process ID: 17692.
2025-07-19 19:21:21,306 - app.services.push_notification_service - INFO - Attempting to start Push Notification Scheduler async loop.
2025-07-19 19:21:21,326 - app.services.email_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance to avoid duplicate emails.
2025-07-19 19:21:21,332 - app.services.push_notification_service - INFO - Push Notification reminder scheduler async loop initiated in process ID: 17692.
2025-07-19 19:21:21,326 - app.services.email_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance to avoid duplicate emails.
2025-07-19 19:21:21,332 - app.services.push_notification_service - INFO - Push Notification reminder scheduler async loop initiated in process ID: 17692.
2025-07-19 19:21:21,335 - app.services.email_service - INFO - Scheduler starting. Initial delay of 30 seconds before first run.
2025-07-19 19:21:21,338 - app.services.push_notification_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance if push logic isn't idempotent or if it involves external state not designed for concurrency.
2025-07-19 19:21:21,335 - app.services.email_service - INFO - Scheduler starting. Initial delay of 30 seconds before first run.
2025-07-19 19:21:21,338 - app.services.push_notification_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance if push logic isn't idempotent or if it involves external state not designed for concurrency.
2025-07-19 19:21:21,340 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay of 45 seconds before first run.
2025-07-19 19:21:21,340 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay of 45 seconds before first run.
2025-07-19 19:21:22,033 - app.services.email_service - DEBUG - Initializing EmailService
2025-07-19 19:21:22,080 - app - DEBUG - Initializing import/export service
2025-07-19 19:21:22,087 - app - DEBUG - [app.decorators] Logging started for decorators.py
2025-07-19 19:21:22,087 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:21:22,087 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:21:22,088 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write']
2025-07-19 19:21:22,088 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ocm_write']
2025-07-19 19:21:22,088 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write']
2025-07-19 19:21:22,088 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ocm_write']
2025-07-19 19:21:22,089 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-19 19:21:22,089 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-19 19:21:22,089 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-19 19:21:22,089 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-19 19:21:22,090 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export', 'training_manage']
2025-07-19 19:21:22,090 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:22,090 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:22,090 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:22,091 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_email_test']
2025-07-19 19:21:22,091 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_manage']
2025-07-19 19:21:22,091 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:22,091 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:22,092 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:22,092 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:22,092 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:22,092 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:22,092 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:21:22,092 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['audit_log_view']
2025-07-19 19:21:22,093 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['audit_log_export']
2025-07-19 19:21:22,093 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:22,093 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:22,093 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:22,093 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:22,093 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:22,094 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['user_manage']
2025-07-19 19:21:22,095 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:21:22,096 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:21:22,096 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:22,096 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:22,096 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-19 19:21:22,097 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['export_data']
2025-07-19 19:21:22,097 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['import_data']
2025-07-19 19:21:22,097 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-19 19:21:22,097 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_write']
2025-07-19 19:21:22,097 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_read']
2025-07-19 19:21:22,097 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_read']
2025-07-19 19:21:22,098 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_write']
2025-07-19 19:21:22,098 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_delete']
2025-07-19 19:21:22,098 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_delete']
2025-07-19 19:21:22,098 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_read']
2025-07-19 19:21:22,099 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:22,099 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:22,099 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:22,099 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:22,099 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:22,099 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:21:22,100 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:21:22,100 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:22,100 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:22,100 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:21:22,100 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:22,101 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:21:22,101 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:22,101 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:22,101 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:22,101 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:22,101 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:22,102 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:21:22,102 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:22,102 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:22,102 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:22,102 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:22,102 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:21:22,103 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:21:22,103 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:21:22,104 - app - DEBUG - [app.routes.auth] Logging started for auth.py
2025-07-19 19:21:22,105 - app - DEBUG - [app.routes.auth] Auth blueprint initialized
2025-07-19 19:21:22,385 - app - INFO - Email scheduler thread initiated from create_app.
2025-07-19 19:21:22,385 - app - INFO - Email scheduler thread initiated from create_app.
2025-07-19 19:21:22,835 - app - INFO - Push Notification scheduler thread initiated from create_app.
2025-07-19 19:21:22,835 - app - INFO - Push Notification scheduler thread initiated from create_app.
2025-07-19 19:21:22,915 - app.services.push_notification_service - INFO - PushNotificationService class loading.
2025-07-19 19:21:22,915 - app.services.push_notification_service - INFO - PushNotificationService class loading.
2025-07-19 19:21:22,972 - app.services.backup_service - INFO - Backup scheduler loop started
2025-07-19 19:21:22,972 - app.services.backup_service - INFO - Automatic backup scheduler started
2025-07-19 19:21:22,988 - app - INFO - Background thread for Push Notification scheduler is starting.
2025-07-19 19:21:22,988 - app - INFO - Background thread for scheduler is starting.
2025-07-19 19:21:22,972 - app.services.backup_service - INFO - Backup scheduler loop started
2025-07-19 19:21:23,058 - app.services.data_service - DEBUG - Attempting to load settings.
arted
2025-07-19 19:21:23,083 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:21:23,084 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:21:23,084 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:21:23,084 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:21:22,988 - app - INFO - Background thread for Push Notification scheduler is starting.
2025-07-19 19:21:23,093 - app - INFO - Automatic backup scheduler initiated from create_app.
2025-07-19 19:21:22,988 - app - INFO - Background thread for scheduler is starting.
2025-07-19 19:21:23,094 - app.services.push_notification_service - INFO - Attempting to start Push Notification Scheduler async loop.
2025-07-19 19:21:23,084 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:21:23,102 - app.services.email_service - INFO - Email reminder scheduler async loop started in process ID: 12580.
2025-07-19 19:21:23,093 - app - INFO - Automatic backup scheduler initiated from create_app.
2025-07-19 19:21:23,124 - app.services.backup_service - INFO - Automatic backup is enabled, creating backup every 24 hours
2025-07-19 19:21:23,094 - app.services.push_notification_service - INFO - Attempting to start Push Notification Scheduler async loop.
2025-07-19 19:21:23,138 - app - INFO - Application initialization complete
2025-07-19 19:21:23,102 - app.services.email_service - INFO - Email reminder scheduler async loop started in process ID: 12580.
2025-07-19 19:21:23,150 - app.services.push_notification_service - INFO - Push Notification reminder scheduler async loop initiated in process ID: 12580.
2025-07-19 19:21:23,124 - app.services.backup_service - INFO - Automatic backup is enabled, creating backup every 24 hours
2025-07-19 19:21:23,175 - app.services.email_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance to avoid duplicate emails.
2025-07-19 19:21:23,138 - app - INFO - Application initialization complete
2025-07-19 19:21:23,209 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:21:23,150 - app.services.push_notification_service - INFO - Push Notification reminder scheduler async loop initiated in process ID: 12580.
2025-07-19 19:21:23,223 - app - INFO - Attempting to update PPM statuses on application startup...
2025-07-19 19:21:23,175 - app.services.email_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance to avoid duplicate emails.
2025-07-19 19:21:23,226 - app.services.push_notification_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance if push logic isn't idempotent or if it involves external state not designed for concurrency.
2025-07-19 19:21:23,209 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:21:23,237 - app.services.email_service - INFO - Scheduler starting. Initial delay of 30 seconds before first run.
2025-07-19 19:21:23,223 - app - INFO - Attempting to update PPM statuses on application startup...
2025-07-19 19:21:23,226 - app.services.push_notification_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance if push logic isn't idempotent or if it involves external state not designed for concurrency.
2025-07-19 19:21:23,242 - app.services.data_service - INFO - Starting update of all PPM statuses.
2025-07-19 19:21:23,237 - app.services.email_service - INFO - Scheduler starting. Initial delay of 30 seconds before first run.
2025-07-19 19:21:23,262 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay of 45 seconds before first run.
2025-07-19 19:21:23,242 - app.services.data_service - INFO - Starting update of all PPM statuses.
2025-07-19 19:21:23,262 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay of 45 seconds before first run.
2025-07-19 19:21:23,274 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-19 19:21:23,275 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:21:23,275 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:21:23,275 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:21:23,276 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:21:23,276 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:21:23,277 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:21:23,277 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:21:23,277 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:21:23,277 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-19 19:21:23,278 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-19 19:21:23,278 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-19 19:21:23,283 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:21:23,284 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:21:23,294 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:21:23,294 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:21:23,295 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-19 19:21:23,361 - app.services.data_service - INFO - No PPM statuses required updating.
2025-07-19 19:21:23,361 - app.services.data_service - INFO - No PPM statuses required updating.
2025-07-19 19:21:23,363 - app - INFO - PPM statuses update process completed.
2025-07-19 19:21:23,363 - app - INFO - PPM statuses update process completed.
2025-07-19 19:21:23,386 - werkzeug - WARNING -  * Debugger is active!
2025-07-19 19:21:23,397 - werkzeug - INFO -  * Debugger PIN: 366-985-055
2025-07-19 19:21:23,647 - app.services.audit_service - DEBUG - Loaded 590 audit log entries
2025-07-19 19:21:23,651 - app.services.audit_service - DEBUG - Loaded 590 audit log entries
2025-07-19 19:21:23,670 - app.services.audit_service - DEBUG - Saved 591 audit log entries
2025-07-19 19:21:23,671 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-19 19:21:23,671 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-19 19:21:23,673 - app.services.backup_service - INFO - Full backup created successfully: full_backup_20250719_192123_240591.zip (0.23 MB)
2025-07-19 19:21:23,673 - app.services.backup_service - INFO - Full backup created successfully: full_backup_20250719_192123_240591.zip (0.23 MB)
2025-07-19 19:21:23,675 - app.services.backup_service - INFO - Automatic full backup created: full_backup_20250719_192123_240591.zip (0.23 MB)
2025-07-19 19:21:23,675 - app.services.backup_service - INFO - Automatic full backup created: full_backup_20250719_192123_240591.zip (0.23 MB)
2025-07-19 19:21:23,695 - app.services.audit_service - DEBUG - Loaded 591 audit log entries
2025-07-19 19:21:23,699 - app.services.audit_service - DEBUG - Loaded 591 audit log entries
2025-07-19 19:21:23,718 - app.services.audit_service - DEBUG - Saved 592 audit log entries
2025-07-19 19:21:23,718 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-19 19:21:23,718 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-19 19:21:23,725 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:21:23,725 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:21:23,730 - app.services.backup_service - INFO - Cleanup completed: 0 old backups deleted
2025-07-19 19:21:23,730 - app.services.backup_service - INFO - Cleanup completed: 0 old backups deleted
2025-07-19 19:21:23,733 - app.services.backup_service - INFO - Backup scheduler sleeping for 24 hours (86400 seconds)
2025-07-19 19:21:23,733 - app.services.backup_service - INFO - Backup scheduler sleeping for 24 hours (86400 seconds)
2025-07-19 19:21:51,352 - app.services.email_service - DEBUG - Scheduler loop iteration started.
2025-07-19 19:21:51,352 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:21:51,353 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:21:51,353 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:21:51,353 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:21:51,355 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:21:51,355 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:21:51,357 - app.services.email_service - DEBUG - Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:21:51,358 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-19 19:21:51,358 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-19 19:21:51,358 - app.services.email_service - INFO - Next email scheduled for 2025-07-20 07:30:00. Sleeping for 60.0 minutes.
2025-07-19 19:21:51,358 - app.services.email_service - INFO - Next email scheduled for 2025-07-20 07:30:00. Sleeping for 60.0 minutes.
2025-07-19 19:21:53,271 - app.services.email_service - DEBUG - Scheduler loop iteration started.
2025-07-19 19:21:53,272 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:21:53,272 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:21:53,272 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:21:53,272 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:21:53,273 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:21:53,273 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:21:53,279 - app.services.email_service - DEBUG - Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:21:53,280 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-19 19:21:53,280 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-19 19:21:53,286 - app.services.email_service - INFO - Next email scheduled for 2025-07-20 07:30:00. Sleeping for 60.0 minutes.
2025-07-19 19:21:53,286 - app.services.email_service - INFO - Next email scheduled for 2025-07-20 07:30:00. Sleeping for 60.0 minutes.
2025-07-19 19:22:06,343 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay complete. Starting main loop.
2025-07-19 19:22:06,343 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay complete. Starting main loop.
2025-07-19 19:22:06,345 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loop iteration started.
2025-07-19 19:22:06,346 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loading settings...
2025-07-19 19:22:06,346 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:22:06,346 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:22:06,346 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:22:06,347 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:22:06,347 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:22:06,347 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:22:06,359 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:22:06,359 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:22:06,368 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Push notifications enabled: True
2025-07-19 19:22:06,368 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (minutes): 60
2025-07-19 19:22:06,368 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (seconds): 3600
2025-07-19 19:22:06,368 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-19 19:22:06,368 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-19 19:22:06,369 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-19 19:22:06,369 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-19 19:22:06,374 - app.services.push_notification_service - DEBUG - Reloading settings within process_push_notifications...
2025-07-19 19:22:06,374 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:22:06,375 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:22:06,375 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:22:06,375 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:22:06,376 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:22:06,376 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:22:06,381 - app.services.push_notification_service - DEBUG - Settings loaded in process_push_notifications: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:22:06,381 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-19 19:22:06,381 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-19 19:22:06,396 - app.services.push_notification_service - DEBUG - Loading PPM data...
2025-07-19 19:22:06,397 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-19 19:22:06,397 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:22:06,397 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:22:06,397 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:22:06,398 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:22:06,398 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:22:06,399 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:22:06,399 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:22:06,399 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:22:06,400 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-19 19:22:06,400 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-19 19:22:06,400 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-19 19:22:06,413 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:22:06,413 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:22:06,425 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:22:06,425 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:22:06,426 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-19 19:22:06,426 - app.services.push_notification_service - DEBUG - Loaded 1040 PPM entries.
2025-07-19 19:22:06,426 - app.services.push_notification_service - DEBUG - Loading OCM data...
2025-07-19 19:22:06,427 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-19 19:22:06,427 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:22:06,427 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:22:06,427 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:22:06,428 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:22:06,428 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:22:06,428 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:22:06,428 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:22:06,429 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:22:06,429 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-19 19:22:06,429 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-19 19:22:06,429 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-19 19:22:06,431 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:22:06,431 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:22:06,435 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:22:06,435 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:22:06,435 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-19 19:22:06,436 - app.services.push_notification_service - DEBUG - Loaded 612 OCM entries.
2025-07-19 19:22:06,436 - app.services.push_notification_service - DEBUG - Getting upcoming PPM maintenance tasks...
2025-07-19 19:22:06,546 - app.services.push_notification_service - DEBUG - Found 746 upcoming PPM tasks.
2025-07-19 19:22:06,546 - app.services.push_notification_service - DEBUG - Getting upcoming OCM maintenance tasks...
2025-07-19 19:22:06,558 - app.services.push_notification_service - DEBUG - Found 1 upcoming OCM tasks.
2025-07-19 19:22:06,559 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 747
2025-07-19 19:22:06,559 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 747
2025-07-19 19:22:06,559 - app.services.push_notification_service - DEBUG - Sorting all upcoming tasks by date...
2025-07-19 19:22:06,574 - app.services.push_notification_service - DEBUG - Tasks sorted.
2025-07-19 19:22:06,574 - app.services.push_notification_service - DEBUG - Summarizing all upcoming tasks...
2025-07-19 19:22:06,574 - app.services.push_notification_service - DEBUG - Summarizing upcoming maintenance. Tasks received: 747
2025-07-19 19:22:06,575 - app.services.push_notification_service - DEBUG - PPM count: 746, OCM count: 1
2025-07-19 19:22:06,575 - app.services.push_notification_service - DEBUG - Generated summary: 746 PPM tasks and 1 OCM task due soon.
2025-07-19 19:22:06,575 - app.services.push_notification_service - INFO - Generated summary for push notification: '746 PPM tasks and 1 OCM task due soon.'
2025-07-19 19:22:06,575 - app.services.push_notification_service - INFO - Generated summary for push notification: '746 PPM tasks and 1 OCM task due soon.'
2025-07-19 19:22:06,575 - app.services.push_notification_service - DEBUG - Sending push notification with the generated summary...
2025-07-19 19:22:06,576 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '746 PPM tasks and 1 OCM task due soon.'
2025-07-19 19:22:06,576 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '746 PPM tasks and 1 OCM task due soon.'
2025-07-19 19:22:06,577 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-19 19:22:06,577 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-19 19:22:06,578 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-19 19:22:06,578 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-19 19:22:06,579 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-19 19:22:06,579 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-19 19:22:06,580 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-19 19:22:06,580 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-19 19:22:06,581 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-19 19:22:06,581 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-19 19:22:08,285 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay complete. Starting main loop.
2025-07-19 19:22:08,285 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay complete. Starting main loop.
2025-07-19 19:22:08,290 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loop iteration started.
2025-07-19 19:22:08,291 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loading settings...
2025-07-19 19:22:08,291 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:22:08,292 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:22:08,292 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:22:08,293 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:22:08,294 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:22:08,294 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:22:08,299 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:22:08,299 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:22:08,327 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Push notifications enabled: True
2025-07-19 19:22:08,328 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (minutes): 60
2025-07-19 19:22:08,329 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (seconds): 3600
2025-07-19 19:22:08,329 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-19 19:22:08,329 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-19 19:22:08,331 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-19 19:22:08,331 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-19 19:22:08,335 - app.services.push_notification_service - DEBUG - Reloading settings within process_push_notifications...
2025-07-19 19:22:08,336 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:22:08,337 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:22:08,341 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:22:08,342 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:22:08,343 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:22:08,343 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:22:08,350 - app.services.push_notification_service - DEBUG - Settings loaded in process_push_notifications: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:22:08,353 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-19 19:22:08,353 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-19 19:22:08,361 - app.services.push_notification_service - DEBUG - Loading PPM data...
2025-07-19 19:22:08,361 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-19 19:22:08,362 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:22:08,362 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:22:08,363 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:22:08,364 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:22:08,365 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:22:08,366 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:22:08,366 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:22:08,367 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:22:08,367 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-19 19:22:08,368 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-19 19:22:08,369 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-19 19:22:08,392 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:22:08,392 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:22:08,416 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:22:08,417 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:22:08,418 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-19 19:22:08,419 - app.services.push_notification_service - DEBUG - Loaded 1040 PPM entries.
2025-07-19 19:22:08,419 - app.services.push_notification_service - DEBUG - Loading OCM data...
2025-07-19 19:22:08,420 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-19 19:22:08,420 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:22:08,423 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:22:08,424 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:22:08,425 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:22:08,426 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:22:08,427 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:22:08,428 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:22:08,428 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:22:08,429 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-19 19:22:08,429 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-19 19:22:08,430 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-19 19:22:08,435 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:22:08,435 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:22:08,448 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:22:08,449 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:22:08,450 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-19 19:22:08,450 - app.services.push_notification_service - DEBUG - Loaded 612 OCM entries.
2025-07-19 19:22:08,451 - app.services.push_notification_service - DEBUG - Getting upcoming PPM maintenance tasks...
2025-07-19 19:22:08,686 - app.services.push_notification_service - DEBUG - Found 746 upcoming PPM tasks.
2025-07-19 19:22:08,686 - app.services.push_notification_service - DEBUG - Getting upcoming OCM maintenance tasks...
2025-07-19 19:22:08,698 - app.services.push_notification_service - DEBUG - Found 1 upcoming OCM tasks.
2025-07-19 19:22:08,699 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 747
2025-07-19 19:22:08,699 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 747
2025-07-19 19:22:08,699 - app.services.push_notification_service - DEBUG - Sorting all upcoming tasks by date...
2025-07-19 19:22:08,714 - app.services.push_notification_service - DEBUG - Tasks sorted.
2025-07-19 19:22:08,715 - app.services.push_notification_service - DEBUG - Summarizing all upcoming tasks...
2025-07-19 19:22:08,715 - app.services.push_notification_service - DEBUG - Summarizing upcoming maintenance. Tasks received: 747
2025-07-19 19:22:08,715 - app.services.push_notification_service - DEBUG - PPM count: 746, OCM count: 1
2025-07-19 19:22:08,715 - app.services.push_notification_service - DEBUG - Generated summary: 746 PPM tasks and 1 OCM task due soon.
2025-07-19 19:22:08,716 - app.services.push_notification_service - INFO - Generated summary for push notification: '746 PPM tasks and 1 OCM task due soon.'
2025-07-19 19:22:08,716 - app.services.push_notification_service - INFO - Generated summary for push notification: '746 PPM tasks and 1 OCM task due soon.'
2025-07-19 19:22:08,716 - app.services.push_notification_service - DEBUG - Sending push notification with the generated summary...
2025-07-19 19:22:08,716 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '746 PPM tasks and 1 OCM task due soon.'
2025-07-19 19:22:08,716 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '746 PPM tasks and 1 OCM task due soon.'
2025-07-19 19:22:08,717 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-19 19:22:08,717 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-19 19:22:08,718 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-19 19:22:08,718 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-19 19:22:08,719 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-19 19:22:08,719 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-19 19:22:08,720 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-19 19:22:08,720 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-19 19:22:08,725 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-19 19:22:08,725 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-19 19:22:28,676 - app - DEBUG - [app.decorators] Checking permission: ['dashboard_view']
2025-07-19 19:22:28,679 - app - WARNING - [app.decorators] Unauthenticated user attempted access
2025-07-19 19:22:28,679 - app - WARNING - [app.decorators] Unauthenticated user attempted access
2025-07-19 19:22:28,681 - app - INFO - [app.decorators] Redirecting unauthenticated user to login page
2025-07-19 19:22:28,681 - app - INFO - [app.decorators] Redirecting unauthenticated user to login page
2025-07-19 19:22:28,722 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:22:28] "[32mHEAD / HTTP/1.1[0m" 302 -
2025-07-19 19:22:28,793 - app - INFO - [app.routes.auth] Accessing login route
2025-07-19 19:22:28,793 - app - INFO - [app.routes.auth] Accessing login route
2025-07-19 19:22:28,821 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:22:28] "HEAD /auth/login?next=http://localhost:5001/ HTTP/1.1" 200 -
2025-07-19 19:22:49,424 - app - DEBUG - [app.decorators] Checking permission: ['dashboard_view']
2025-07-19 19:22:49,425 - app - WARNING - [app.decorators] Unauthenticated user attempted access
2025-07-19 19:22:49,425 - app - WARNING - [app.decorators] Unauthenticated user attempted access
2025-07-19 19:22:49,426 - app - INFO - [app.decorators] Redirecting unauthenticated user to login page
2025-07-19 19:22:49,426 - app - INFO - [app.decorators] Redirecting unauthenticated user to login page
2025-07-19 19:22:49,431 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:22:49] "[32mGET / HTTP/1.1[0m" 302 -
2025-07-19 19:22:49,466 - app - INFO - [app.routes.auth] Accessing login route
2025-07-19 19:22:49,466 - app - INFO - [app.routes.auth] Accessing login route
2025-07-19 19:22:49,482 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:22:49] "GET /auth/login?next=http://localhost:5001/ HTTP/1.1" 200 -
2025-07-19 19:22:50,031 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:22:50] "[36mGET /static/css/normalize.css HTTP/1.1[0m" 304 -
2025-07-19 19:22:50,603 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:22:50] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-07-19 19:22:52,285 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:22:52] "[36mGET /static/images/login-background.jpg HTTP/1.1[0m" 304 -
2025-07-19 19:22:52,536 - app - WARNING - 404 Not Found: /favicon.ico
2025-07-19 19:22:52,536 - app - WARNING - 404 Not Found: /favicon.ico
2025-07-19 19:22:52,550 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:22:52] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-19 19:23:15,287 - app - INFO - [app.routes.auth] Accessing login route
2025-07-19 19:23:15,287 - app - INFO - [app.routes.auth] Accessing login route
2025-07-19 19:23:15,308 - app - INFO - [app.routes.auth] Login attempt for username: admin
2025-07-19 19:23:15,308 - app - INFO - [app.routes.auth] Login attempt for username: admin
2025-07-19 19:23:15,310 - app - DEBUG - [app.routes.auth] Retrieved user: admin
2025-07-19 19:23:15,311 - app - DEBUG - [check_password] Checking password for admin
2025-07-19 19:23:16,303 - app - DEBUG - [check_password] Password validation for admin: SUCCESS
2025-07-19 19:23:16,303 - app - INFO - [app.routes.auth] User 'admin' logged in successfully.
2025-07-19 19:23:16,303 - app - INFO - [app.routes.auth] User 'admin' logged in successfully.
2025-07-19 19:23:16,307 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:16] "[32mPOST /auth/login HTTP/1.1[0m" 303 -
2025-07-19 19:23:16,321 - app - DEBUG - [app.decorators] Checking permission: ['dashboard_view']
2025-07-19 19:23:16,322 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:23:16,323 - app - DEBUG - [app.decorators] Permission check result for ['dashboard_view']: True
2025-07-19 19:23:16,323 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:23:16,323 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-19 19:23:16,323 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:23:16,324 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:23:16,324 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:23:16,325 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:23:16,325 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:23:16,326 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:23:16,326 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:23:16,326 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:23:16,327 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-19 19:23:16,327 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-19 19:23:16,327 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-19 19:23:16,332 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:23:16,333 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:23:16,378 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:23:16,378 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:23:16,379 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-19 19:23:16,380 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-19 19:23:16,381 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-19 19:23:16,382 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:23:16,382 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:23:16,382 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:23:16,383 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:23:16,383 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:23:16,384 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:23:16,384 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:23:16,384 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:23:16,385 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-19 19:23:16,385 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-19 19:23:16,385 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-19 19:23:16,389 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:23:16,389 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:23:16,393 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:23:16,393 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:23:16,394 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-19 19:23:16,394 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-19 19:23:16,553 - app - INFO - Quarter summary generated successfully: {'current_date': '2025-07-19', 'current_calendar_quarter': 3, 'current_quarter_name': 'Q3', 'quarter_keys': ['PPM_Q_I', 'PPM_Q_II', 'PPM_Q_III', 'PPM_Q_IV'], 'quarter_names': ['Q1', 'Q2', 'Q3', 'Q4']}
2025-07-19 19:23:16,553 - app - INFO - Quarter summary generated successfully: {'current_date': '2025-07-19', 'current_calendar_quarter': 3, 'current_quarter_name': 'Q3', 'quarter_keys': ['PPM_Q_I', 'PPM_Q_II', 'PPM_Q_III', 'PPM_Q_IV'], 'quarter_names': ['Q1', 'Q2', 'Q3', 'Q4']}
2025-07-19 19:23:16,601 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-19 19:23:16,601 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-19 19:23:16,602 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-19 19:23:16,602 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-19 19:23:16,602 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-19 19:23:16,749 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:16] "GET / HTTP/1.1" 200 -
2025-07-19 19:23:17,098 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:17] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-19 19:23:17,099 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:17] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-19 19:23:17,239 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:17] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:17,240 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:17] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:17,245 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:17] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:17,247 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:17] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:17,420 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:17] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:17,420 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:17] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:17,574 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:17] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:24,828 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-19 19:23:24,829 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:23:24,830 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_import_export', 'equipment_ocm_import_export']: True
2025-07-19 19:23:24,830 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:23:24,843 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-19 19:23:24,844 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-19 19:23:24,844 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-19 19:23:24,845 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-19 19:23:24,845 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-19 19:23:24,848 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:24] "GET /import-export HTTP/1.1" 200 -
2025-07-19 19:23:25,016 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:25] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-19 19:23:25,126 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:25] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-19 19:23:25,237 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:25] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:25,250 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:25] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:25,251 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:25] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:25,276 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:25] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:25,362 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:25] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:25,458 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:25] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:25,584 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:25] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:28,658 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:23:28,659 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:23:28,659 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_read', 'equipment_ocm_read']: True
2025-07-19 19:23:28,660 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:23:28,660 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-19 19:23:28,660 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:23:28,660 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:23:28,661 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:23:28,661 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:23:28,662 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:23:28,662 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:23:28,662 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:23:28,663 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:23:28,663 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-19 19:23:28,663 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-19 19:23:28,663 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-19 19:23:28,666 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:23:28,666 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:23:28,669 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:23:28,669 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:23:28,670 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-19 19:23:28,670 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-19 19:23:28,742 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-19 19:23:28,742 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-19 19:23:28,743 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-19 19:23:28,743 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-19 19:23:28,743 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-19 19:23:28,825 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:28] "GET /equipment/ocm HTTP/1.1" 200 -
2025-07-19 19:23:28,861 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:28] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-19 19:23:28,918 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:28] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-19 19:23:29,239 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:29] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:29,248 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:29] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:29,248 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:29] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:29,249 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:29] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:29,250 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:29] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:29,267 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:29] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:29,598 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:29] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:32,564 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:23:32,566 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:23:32,566 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_read', 'equipment_ocm_read']: True
2025-07-19 19:23:32,566 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:23:32,567 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-19 19:23:32,567 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:23:32,568 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:23:32,568 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:23:32,569 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:23:32,570 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:23:32,571 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:23:32,574 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:23:32,575 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:23:32,576 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-19 19:23:32,576 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-19 19:23:32,577 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-19 19:23:32,583 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:23:32,583 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:23:32,601 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:23:32,601 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:23:32,602 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-19 19:23:32,603 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-19 19:23:32,770 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-19 19:23:32,776 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-19 19:23:32,777 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-19 19:23:32,778 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-19 19:23:32,779 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-19 19:23:33,150 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:33] "GET /equipment/ppm HTTP/1.1" 200 -
2025-07-19 19:23:33,217 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:33] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-19 19:23:33,218 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:33] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-19 19:23:36,517 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:36] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:36,518 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:36] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:36,518 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:36] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:36,520 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:36] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:36,520 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:36] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:36,524 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:36] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:36,875 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:36] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:54,850 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:23:54,852 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:23:54,852 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_read', 'equipment_ocm_read']: True
2025-07-19 19:23:54,852 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:23:54,853 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-19 19:23:54,853 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:23:54,853 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:23:54,854 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:23:54,855 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:23:54,856 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:23:54,857 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:23:54,857 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:23:54,857 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:23:54,858 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-19 19:23:54,858 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-19 19:23:54,859 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-19 19:23:54,862 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:23:54,862 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:23:54,866 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:23:54,867 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:23:54,867 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-19 19:23:54,868 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-19 19:23:54,870 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-19 19:23:54,871 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-19 19:23:54,872 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-19 19:23:54,872 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-19 19:23:54,872 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-19 19:23:55,108 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:55] "GET /equipment/ocm HTTP/1.1" 200 -
2025-07-19 19:23:55,262 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:55] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-19 19:23:55,561 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:55] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-19 19:23:55,647 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:55] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:55,649 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:55] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:55,650 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:55] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:55,652 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:55] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:55,654 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:55] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:55,884 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:55] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-19 19:23:55,980 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:23:55] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-19 19:24:00,951 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:24:00,953 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:24:00,961 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_write', 'equipment_ocm_write']: True
2025-07-19 19:24:00,961 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:24:00,962 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:24:00,973 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-19 19:24:00,998 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-19 19:24:00,998 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-19 19:24:00,999 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-19 19:24:00,999 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-19 19:24:00,999 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-19 19:24:01,012 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:01] "GET /equipment/machine-assignment HTTP/1.1" 200 -
2025-07-19 19:24:01,165 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:01] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-19 19:24:01,210 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:01] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-19 19:24:01,416 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:01] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-19 19:24:01,416 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:01] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-19 19:24:01,417 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:01] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-19 19:24:01,417 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:01] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-19 19:24:01,503 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:01] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-19 19:24:01,552 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:01] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-19 19:24:01,741 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:01] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-19 19:24:02,071 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-19 19:24:02,072 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-19 19:24:02,078 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:24:02,079 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-19 19:24:02,081 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:24:02,082 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:24:02,083 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-19 19:24:02,085 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:24:02,087 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-19 19:24:02,091 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:24:02,094 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:24:02,110 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:02] "GET /api/trainers HTTP/1.1" 200 -
2025-07-19 19:24:02,111 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:02] "GET /api/departments HTTP/1.1" 200 -
2025-07-19 19:24:42,343 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:24:42,345 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:24:42,346 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_write', 'equipment_ocm_write']: True
2025-07-19 19:24:42,347 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:24:42,348 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:24:42,349 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-19 19:24:42,350 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-19 19:24:42,351 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-19 19:24:42,351 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-19 19:24:42,352 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-19 19:24:42,352 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-19 19:24:42,363 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:42] "GET /equipment/machine-assignment HTTP/1.1" 200 -
2025-07-19 19:24:42,634 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:42] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-19 19:24:42,754 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:42] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-19 19:24:42,754 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:42] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-19 19:24:42,756 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:42] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-19 19:24:42,762 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:42] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-19 19:24:42,765 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:42] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-19 19:24:42,950 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:42] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-19 19:24:43,090 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:43] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-19 19:24:43,153 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:43] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-19 19:24:43,507 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-19 19:24:43,509 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-19 19:24:43,512 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:24:43,514 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-19 19:24:43,515 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:24:43,516 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:24:43,518 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-19 19:24:43,519 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:24:43,519 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:24:43,523 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-19 19:24:43,525 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:24:43,527 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:43] "GET /api/departments HTTP/1.1" 200 -
2025-07-19 19:24:43,529 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:24:43] "GET /api/trainers HTTP/1.1" 200 -
2025-07-19 19:30:26,164 - app - DEBUG - [app.decorators] Checking permission: ['audit_log_view']
2025-07-19 19:30:26,166 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:30:26,167 - app - DEBUG - [app.decorators] Permission check result for ['audit_log_view']: True
2025-07-19 19:30:26,167 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:30:26,174 - app.services.audit_service - DEBUG - Loaded 592 audit log entries
2025-07-19 19:30:26,179 - app.services.audit_service - DEBUG - Loaded 592 audit log entries
2025-07-19 19:30:26,184 - app.services.audit_service - DEBUG - Loaded 592 audit log entries
2025-07-19 19:30:26,190 - app.services.audit_service - DEBUG - Loaded 592 audit log entries
2025-07-19 19:30:26,216 - app.services.audit_service - DEBUG - Saved 593 audit log entries
2025-07-19 19:30:26,217 - app.services.audit_service - INFO - Audit event logged: User Action by User
2025-07-19 19:30:26,217 - app.services.audit_service - INFO - Audit event logged: User Action by User
2025-07-19 19:30:26,249 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-19 19:30:26,249 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-19 19:30:26,250 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-19 19:30:26,250 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-19 19:30:26,250 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-19 19:30:26,284 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:26] "GET /audit-log HTTP/1.1" 200 -
2025-07-19 19:30:26,353 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:26] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-19 19:30:26,417 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:26] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-19 19:30:26,690 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:26] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-19 19:30:26,694 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:26] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-19 19:30:26,699 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:26] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-19 19:30:26,701 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:26] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-19 19:30:26,703 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:26] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-19 19:30:26,763 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:26] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-19 19:30:27,069 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:27] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-19 19:30:28,058 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-19 19:30:28,060 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:30:28,060 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-19 19:30:28,061 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:30:28,061 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:30:28,061 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:30:28,061 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:30:28,062 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:30:28,062 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:30:28,062 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:30:28,089 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-19 19:30:28,090 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-19 19:30:28,090 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-19 19:30:28,091 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-19 19:30:28,091 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-19 19:30:28,094 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:28] "GET /settings HTTP/1.1" 200 -
2025-07-19 19:30:28,295 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:28] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-19 19:30:28,320 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:28] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-19 19:30:28,446 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:28] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-19 19:30:28,447 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:28] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-19 19:30:28,463 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:28] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-19 19:30:28,464 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:28] "GET /static/js/settings.js?v=4044 HTTP/1.1" 200 -
2025-07-19 19:30:28,612 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:28] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-19 19:30:28,634 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:28] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-19 19:30:28,778 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:28] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-19 19:30:28,779 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:28] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-19 19:30:29,116 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-19 19:30:29,117 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:30:29,118 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-19 19:30:29,118 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:30:29,118 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:30:29,118 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:30:29,119 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:30:29,119 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:30:29,119 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:30:29,119 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:30:29,124 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:29] "GET /api/settings HTTP/1.1" 200 -
2025-07-19 19:30:29,390 - app - DEBUG - [app.decorators] Checking permission: ['settings_read']
2025-07-19 19:30:29,394 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:30:29,395 - app - DEBUG - [app.decorators] Permission check result for ['settings_read']: True
2025-07-19 19:30:29,396 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:30:29,396 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:30:29,397 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:30:29,398 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:30:29,399 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:30:29,401 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:30:29,401 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:30:29,416 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:29] "GET /api/settings HTTP/1.1" 200 -
2025-07-19 19:30:29,813 - app - DEBUG - [app.decorators] Checking permission: ['backup_manage']
2025-07-19 19:30:29,815 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:30:29,816 - app - DEBUG - [app.decorators] Permission check result for ['backup_manage']: True
2025-07-19 19:30:29,816 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:30:29,816 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:30:29,816 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:30:29,820 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:30:29] "GET /backup/list HTTP/1.1" 200 -
2025-07-19 19:38:34,526 - app - INFO - Initializing application
2025-07-19 19:38:34,602 - app.services - DEBUG - Initializing services package
2025-07-19 19:38:34,607 - app - DEBUG - [app.models.json_user] Logging started for json_user.py
2025-07-19 19:38:34,807 - app - INFO - Enhanced logging service initialized
2025-07-19 19:38:34,807 - app - INFO - Enhanced logging service initialized
2025-07-19 19:38:36,292 - app.services.email_service - DEBUG - Initializing EmailService
2025-07-19 19:38:36,362 - app - DEBUG - Initializing import/export service
2025-07-19 19:38:36,373 - app - DEBUG - [app.decorators] Logging started for decorators.py
2025-07-19 19:38:36,373 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:38:36,374 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:38:36,374 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write']
2025-07-19 19:38:36,374 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ocm_write']
2025-07-19 19:38:36,374 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write']
2025-07-19 19:38:36,375 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ocm_write']
2025-07-19 19:38:36,375 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-19 19:38:36,376 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-19 19:38:36,376 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-19 19:38:36,376 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-19 19:38:36,376 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export', 'training_manage']
2025-07-19 19:38:36,377 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:36,377 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:36,377 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:36,377 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_email_test']
2025-07-19 19:38:36,378 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_manage']
2025-07-19 19:38:36,378 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:36,378 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:36,378 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:36,379 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:36,379 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:36,379 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:36,379 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:38:36,383 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['audit_log_view']
2025-07-19 19:38:36,383 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['audit_log_export']
2025-07-19 19:38:36,383 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:36,384 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:36,384 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:36,384 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:36,384 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:36,385 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['user_manage']
2025-07-19 19:38:36,388 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:38:36,389 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:38:36,389 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:36,390 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:36,390 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-19 19:38:36,392 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['export_data']
2025-07-19 19:38:36,392 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['import_data']
2025-07-19 19:38:36,392 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-19 19:38:36,393 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_write']
2025-07-19 19:38:36,394 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_read']
2025-07-19 19:38:36,394 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_read']
2025-07-19 19:38:36,394 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_write']
2025-07-19 19:38:36,395 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_delete']
2025-07-19 19:38:36,395 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_delete']
2025-07-19 19:38:36,395 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_read']
2025-07-19 19:38:36,395 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:36,396 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:36,396 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:36,396 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:36,396 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:36,396 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:36,397 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:38:36,397 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:36,397 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:36,397 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:38:36,397 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:36,398 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:36,398 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:36,398 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:36,398 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:36,399 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:36,399 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:36,399 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:38:36,399 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:36,399 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:36,400 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:36,400 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:36,400 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:36,400 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:38:36,401 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:38:36,403 - app - DEBUG - [app.routes.auth] Logging started for auth.py
2025-07-19 19:38:36,403 - app - DEBUG - [app.routes.auth] Auth blueprint initialized
2025-07-19 19:38:36,501 - app - INFO - Email scheduler thread initiated from create_app.
2025-07-19 19:38:36,501 - app - INFO - Email scheduler thread initiated from create_app.
2025-07-19 19:38:36,513 - app - INFO - Push Notification scheduler thread initiated from create_app.
2025-07-19 19:38:36,513 - app - INFO - Push Notification scheduler thread initiated from create_app.
2025-07-19 19:38:36,526 - app.services.backup_service - INFO - Backup scheduler loop started
2025-07-19 19:38:36,526 - app.services.backup_service - INFO - Automatic backup scheduler started
2025-07-19 19:38:36,526 - app.services.backup_service - INFO - Backup scheduler loop started
2025-07-19 19:38:36,526 - app.services.backup_service - INFO - Automatic backup scheduler started
2025-07-19 19:38:36,565 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:38:36,566 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:38:36,567 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:38:36,567 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:38:36,569 - app - INFO - Automatic backup scheduler initiated from create_app.
2025-07-19 19:38:36,569 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:38:36,569 - app - INFO - Automatic backup scheduler initiated from create_app.
2025-07-19 19:38:36,569 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:38:36,599 - app - INFO - Application initialization complete
2025-07-19 19:38:36,599 - app - INFO - Application initialization complete
2025-07-19 19:38:36,614 - app.services.backup_service - INFO - Automatic backup is enabled, creating backup every 24 hours
2025-07-19 19:38:36,646 - app - INFO - Attempting to update PPM statuses on application startup...
2025-07-19 19:38:36,614 - app.services.backup_service - INFO - Automatic backup is enabled, creating backup every 24 hours
2025-07-19 19:38:36,683 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:38:36,646 - app - INFO - Attempting to update PPM statuses on application startup...
2025-07-19 19:38:36,694 - app.services.data_service - INFO - Starting update of all PPM statuses.
2025-07-19 19:38:36,683 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:38:36,694 - app.services.data_service - INFO - Starting update of all PPM statuses.
2025-07-19 19:38:36,779 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-19 19:38:36,779 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:38:36,780 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:38:36,781 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:38:36,791 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:38:36,792 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:38:36,793 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:38:36,794 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:38:36,794 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:38:36,795 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-19 19:38:36,796 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-19 19:38:36,797 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-19 19:38:36,804 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:38:36,805 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:38:36,815 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:38:36,815 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:38:36,816 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-19 19:38:36,869 - app.services.data_service - INFO - No PPM statuses required updating.
2025-07-19 19:38:36,869 - app.services.data_service - INFO - No PPM statuses required updating.
2025-07-19 19:38:36,871 - app - INFO - PPM statuses update process completed.
2025-07-19 19:38:36,871 - app - INFO - PPM statuses update process completed.
2025-07-19 19:38:36,958 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.8.114:5001
2025-07-19 19:38:36,960 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-07-19 19:38:36,963 - werkzeug - INFO -  * Restarting with stat
2025-07-19 19:38:36,973 - app.services.push_notification_service - INFO - PushNotificationService class loading.
2025-07-19 19:38:36,973 - app.services.push_notification_service - INFO - PushNotificationService class loading.
2025-07-19 19:38:36,978 - app - INFO - Background thread for Push Notification scheduler is starting.
2025-07-19 19:38:36,979 - app - INFO - Background thread for scheduler is starting.
2025-07-19 19:38:36,978 - app - INFO - Background thread for Push Notification scheduler is starting.
2025-07-19 19:38:36,981 - app.services.push_notification_service - INFO - Attempting to start Push Notification Scheduler async loop.
2025-07-19 19:38:36,979 - app - INFO - Background thread for scheduler is starting.
2025-07-19 19:38:36,981 - app.services.push_notification_service - INFO - Attempting to start Push Notification Scheduler async loop.
2025-07-19 19:38:36,982 - app.services.email_service - INFO - Email reminder scheduler async loop started in process ID: 8856.
2025-07-19 19:38:36,982 - app.services.push_notification_service - INFO - Push Notification reminder scheduler async loop initiated in process ID: 8856.
2025-07-19 19:38:36,982 - app.services.email_service - INFO - Email reminder scheduler async loop started in process ID: 8856.
2025-07-19 19:38:36,982 - app.services.push_notification_service - INFO - Push Notification reminder scheduler async loop initiated in process ID: 8856.
2025-07-19 19:38:36,999 - app.services.email_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance to avoid duplicate emails.
2025-07-19 19:38:37,003 - app.services.push_notification_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance if push logic isn't idempotent or if it involves external state not designed for concurrency.
2025-07-19 19:38:36,999 - app.services.email_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance to avoid duplicate emails.
2025-07-19 19:38:37,003 - app.services.push_notification_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance if push logic isn't idempotent or if it involves external state not designed for concurrency.
2025-07-19 19:38:37,007 - app.services.email_service - INFO - Scheduler starting. Initial delay of 30 seconds before first run.
2025-07-19 19:38:37,009 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay of 45 seconds before first run.
2025-07-19 19:38:37,007 - app.services.email_service - INFO - Scheduler starting. Initial delay of 30 seconds before first run.
2025-07-19 19:38:37,009 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay of 45 seconds before first run.
2025-07-19 19:38:37,219 - app.services.audit_service - DEBUG - Loaded 593 audit log entries
2025-07-19 19:38:37,222 - app.services.audit_service - DEBUG - Loaded 593 audit log entries
2025-07-19 19:38:37,239 - app.services.audit_service - DEBUG - Saved 594 audit log entries
2025-07-19 19:38:37,242 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-19 19:38:37,242 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-19 19:38:37,244 - app.services.backup_service - INFO - Full backup created successfully: full_backup_20250719_193836_759710.zip (0.23 MB)
2025-07-19 19:38:37,244 - app.services.backup_service - INFO - Full backup created successfully: full_backup_20250719_193836_759710.zip (0.23 MB)
2025-07-19 19:38:37,245 - app.services.backup_service - INFO - Automatic full backup created: full_backup_20250719_193836_759710.zip (0.23 MB)
2025-07-19 19:38:37,245 - app.services.backup_service - INFO - Automatic full backup created: full_backup_20250719_193836_759710.zip (0.23 MB)
2025-07-19 19:38:37,270 - app.services.audit_service - DEBUG - Loaded 594 audit log entries
2025-07-19 19:38:37,278 - app.services.audit_service - DEBUG - Loaded 594 audit log entries
2025-07-19 19:38:37,311 - app.services.audit_service - DEBUG - Saved 595 audit log entries
2025-07-19 19:38:37,311 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-19 19:38:37,311 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-19 19:38:37,330 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:38:37,330 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:38:37,337 - app.services.backup_service - INFO - Cleanup completed: 0 old backups deleted
2025-07-19 19:38:37,337 - app.services.backup_service - INFO - Cleanup completed: 0 old backups deleted
2025-07-19 19:38:37,344 - app.services.backup_service - INFO - Backup scheduler sleeping for 24 hours (86400 seconds)
2025-07-19 19:38:37,344 - app.services.backup_service - INFO - Backup scheduler sleeping for 24 hours (86400 seconds)
2025-07-19 19:38:37,645 - app - INFO - Initializing application
2025-07-19 19:38:37,766 - app.services - DEBUG - Initializing services package
2025-07-19 19:38:37,772 - app - DEBUG - [app.models.json_user] Logging started for json_user.py
2025-07-19 19:38:37,988 - app - INFO - Enhanced logging service initialized
2025-07-19 19:38:37,988 - app - INFO - Enhanced logging service initialized
2025-07-19 19:38:39,554 - app.services.email_service - DEBUG - Initializing EmailService
2025-07-19 19:38:39,618 - app - DEBUG - Initializing import/export service
2025-07-19 19:38:39,626 - app - DEBUG - [app.decorators] Logging started for decorators.py
2025-07-19 19:38:39,627 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:38:39,627 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:38:39,627 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write']
2025-07-19 19:38:39,627 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ocm_write']
2025-07-19 19:38:39,628 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write']
2025-07-19 19:38:39,628 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ocm_write']
2025-07-19 19:38:39,628 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-19 19:38:39,629 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-19 19:38:39,629 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-19 19:38:39,629 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export']
2025-07-19 19:38:39,629 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_import_export', 'equipment_ocm_import_export', 'training_manage']
2025-07-19 19:38:39,629 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:39,630 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:39,630 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:39,630 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_email_test']
2025-07-19 19:38:39,630 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_manage']
2025-07-19 19:38:39,630 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:39,631 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:39,631 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:39,631 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:39,631 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:39,631 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:39,632 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:38:39,632 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['audit_log_view']
2025-07-19 19:38:39,632 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['audit_log_export']
2025-07-19 19:38:39,632 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:39,632 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:39,633 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:39,633 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:39,633 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:39,633 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['user_manage']
2025-07-19 19:38:39,635 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:38:39,636 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:38:39,636 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:39,636 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:39,637 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-19 19:38:39,637 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['export_data']
2025-07-19 19:38:39,637 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['import_data']
2025-07-19 19:38:39,637 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_delete', 'equipment_ocm_delete']
2025-07-19 19:38:39,637 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_write']
2025-07-19 19:38:39,638 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_read']
2025-07-19 19:38:39,638 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_read']
2025-07-19 19:38:39,638 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_write']
2025-07-19 19:38:39,638 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_delete']
2025-07-19 19:38:39,638 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['training_delete']
2025-07-19 19:38:39,645 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_read']
2025-07-19 19:38:39,645 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:39,645 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:39,645 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:39,647 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:39,647 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:39,647 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['backup_manage']
2025-07-19 19:38:39,647 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:38:39,647 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:39,647 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:39,647 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:38:39,648 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:39,648 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:38:39,648 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:39,648 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:39,648 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:39,649 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:39,649 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:39,649 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:38:39,649 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:39,649 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:39,650 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:39,650 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:39,650 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['settings_manage']
2025-07-19 19:38:39,650 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:38:39,650 - app - DEBUG - [app.decorators] Applying permission_required decorator for permission: ['dashboard_view']
2025-07-19 19:38:39,651 - app - DEBUG - [app.routes.auth] Logging started for auth.py
2025-07-19 19:38:39,652 - app - DEBUG - [app.routes.auth] Auth blueprint initialized
2025-07-19 19:38:39,718 - app - INFO - Email scheduler thread initiated from create_app.
2025-07-19 19:38:39,718 - app - INFO - Email scheduler thread initiated from create_app.
2025-07-19 19:38:39,720 - app - INFO - Push Notification scheduler thread initiated from create_app.
2025-07-19 19:38:39,720 - app - INFO - Push Notification scheduler thread initiated from create_app.
2025-07-19 19:38:39,725 - app.services.backup_service - INFO - Backup scheduler loop started
2025-07-19 19:38:39,725 - app.services.backup_service - INFO - Automatic backup scheduler started
2025-07-19 19:38:39,725 - app.services.backup_service - INFO - Backup scheduler loop started
2025-07-19 19:38:39,727 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:38:39,725 - app.services.backup_service - INFO - Automatic backup scheduler started
2025-07-19 19:38:39,727 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:38:39,728 - app - INFO - Automatic backup scheduler initiated from create_app.
2025-07-19 19:38:39,728 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:38:39,729 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:38:39,728 - app - INFO - Automatic backup scheduler initiated from create_app.
2025-07-19 19:38:39,730 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:38:39,730 - app - INFO - Application initialization complete
2025-07-19 19:38:39,730 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:38:39,730 - app - INFO - Application initialization complete
2025-07-19 19:38:39,745 - app.services.backup_service - INFO - Automatic backup is enabled, creating backup every 24 hours
2025-07-19 19:38:39,747 - app - INFO - Attempting to update PPM statuses on application startup...
2025-07-19 19:38:39,745 - app.services.backup_service - INFO - Automatic backup is enabled, creating backup every 24 hours
2025-07-19 19:38:39,747 - app - INFO - Attempting to update PPM statuses on application startup...
2025-07-19 19:38:39,758 - app.services.data_service - INFO - Starting update of all PPM statuses.
2025-07-19 19:38:39,759 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:38:39,758 - app.services.data_service - INFO - Starting update of all PPM statuses.
2025-07-19 19:38:39,759 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:38:39,768 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-19 19:38:39,769 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:38:39,769 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:38:39,769 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:38:39,770 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:38:39,770 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:38:39,771 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:38:39,772 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:38:39,773 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:38:39,775 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-19 19:38:39,775 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-19 19:38:39,776 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-19 19:38:39,783 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:38:39,783 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:38:39,794 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:38:39,794 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:38:39,795 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-19 19:38:39,862 - app.services.data_service - INFO - No PPM statuses required updating.
2025-07-19 19:38:39,862 - app.services.data_service - INFO - No PPM statuses required updating.
2025-07-19 19:38:39,868 - app - INFO - PPM statuses update process completed.
2025-07-19 19:38:39,868 - app - INFO - PPM statuses update process completed.
2025-07-19 19:38:39,921 - werkzeug - WARNING -  * Debugger is active!
2025-07-19 19:38:39,946 - werkzeug - INFO -  * Debugger PIN: 366-985-055
2025-07-19 19:38:40,146 - app.services.push_notification_service - INFO - PushNotificationService class loading.
2025-07-19 19:38:40,146 - app.services.push_notification_service - INFO - PushNotificationService class loading.
2025-07-19 19:38:40,153 - app - INFO - Background thread for scheduler is starting.
2025-07-19 19:38:40,157 - app - INFO - Background thread for Push Notification scheduler is starting.
2025-07-19 19:38:40,153 - app - INFO - Background thread for scheduler is starting.
2025-07-19 19:38:40,157 - app - INFO - Background thread for Push Notification scheduler is starting.
2025-07-19 19:38:40,183 - app.services.email_service - INFO - Email reminder scheduler async loop started in process ID: 2244.
2025-07-19 19:38:40,183 - app.services.email_service - INFO - Email reminder scheduler async loop started in process ID: 2244.
2025-07-19 19:38:40,185 - app.services.push_notification_service - INFO - Attempting to start Push Notification Scheduler async loop.
2025-07-19 19:38:40,185 - app.services.push_notification_service - INFO - Attempting to start Push Notification Scheduler async loop.
2025-07-19 19:38:40,187 - app.services.email_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance to avoid duplicate emails.
2025-07-19 19:38:40,189 - app.services.push_notification_service - INFO - Push Notification reminder scheduler async loop initiated in process ID: 2244.
2025-07-19 19:38:40,187 - app.services.email_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance to avoid duplicate emails.
2025-07-19 19:38:40,189 - app.services.push_notification_service - INFO - Push Notification reminder scheduler async loop initiated in process ID: 2244.
2025-07-19 19:38:40,194 - app.services.email_service - INFO - Scheduler starting. Initial delay of 30 seconds before first run.
2025-07-19 19:38:40,194 - app.services.email_service - INFO - Scheduler starting. Initial delay of 30 seconds before first run.
2025-07-19 19:38:40,196 - app.services.push_notification_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance if push logic isn't idempotent or if it involves external state not designed for concurrency.
2025-07-19 19:38:40,196 - app.services.push_notification_service - WARNING - If running multiple application instances (e.g., Gunicorn workers), ensure this scheduler is enabled in only ONE instance if push logic isn't idempotent or if it involves external state not designed for concurrency.
2025-07-19 19:38:40,201 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay of 45 seconds before first run.
2025-07-19 19:38:40,201 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay of 45 seconds before first run.
2025-07-19 19:38:40,375 - app.services.audit_service - DEBUG - Loaded 595 audit log entries
2025-07-19 19:38:40,379 - app.services.audit_service - DEBUG - Loaded 595 audit log entries
2025-07-19 19:38:40,400 - app.services.audit_service - DEBUG - Saved 596 audit log entries
2025-07-19 19:38:40,401 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-19 19:38:40,401 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-19 19:38:40,403 - app.services.backup_service - INFO - Full backup created successfully: full_backup_20250719_193839_770662.zip (0.23 MB)
2025-07-19 19:38:40,403 - app.services.backup_service - INFO - Full backup created successfully: full_backup_20250719_193839_770662.zip (0.23 MB)
2025-07-19 19:38:40,404 - app.services.backup_service - INFO - Automatic full backup created: full_backup_20250719_193839_770662.zip (0.23 MB)
2025-07-19 19:38:40,404 - app.services.backup_service - INFO - Automatic full backup created: full_backup_20250719_193839_770662.zip (0.23 MB)
2025-07-19 19:38:40,423 - app.services.audit_service - DEBUG - Loaded 596 audit log entries
2025-07-19 19:38:40,427 - app.services.audit_service - DEBUG - Loaded 596 audit log entries
2025-07-19 19:38:40,446 - app.services.audit_service - DEBUG - Saved 597 audit log entries
2025-07-19 19:38:40,446 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-19 19:38:40,446 - app.services.audit_service - INFO - Audit event logged: Backup Created by System
2025-07-19 19:38:40,448 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:38:40,448 - app.services.backup_service - INFO - Backup directories initialized successfully
2025-07-19 19:38:40,450 - app.services.backup_service - INFO - Cleanup completed: 0 old backups deleted
2025-07-19 19:38:40,450 - app.services.backup_service - INFO - Cleanup completed: 0 old backups deleted
2025-07-19 19:38:40,451 - app.services.backup_service - INFO - Backup scheduler sleeping for 24 hours (86400 seconds)
2025-07-19 19:38:40,451 - app.services.backup_service - INFO - Backup scheduler sleeping for 24 hours (86400 seconds)
2025-07-19 19:38:46,385 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-19 19:38:46,386 - app - WARNING - [app.decorators] Unauthenticated user attempted access
2025-07-19 19:38:46,386 - app - WARNING - [app.decorators] Unauthenticated user attempted access
2025-07-19 19:38:46,387 - app - INFO - [app.decorators] Redirecting unauthenticated user to login page
2025-07-19 19:38:46,387 - app - INFO - [app.decorators] Redirecting unauthenticated user to login page
2025-07-19 19:38:46,394 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:38:46] "[32mGET /settings HTTP/1.1[0m" 302 -
2025-07-19 19:38:46,413 - app - INFO - [app.routes.auth] Accessing login route
2025-07-19 19:38:46,413 - app - INFO - [app.routes.auth] Accessing login route
2025-07-19 19:38:46,437 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:38:46] "GET /auth/login?next=http://localhost:5001/settings HTTP/1.1" 200 -
2025-07-19 19:38:46,814 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:38:46] "[36mGET /static/css/normalize.css HTTP/1.1[0m" 304 -
2025-07-19 19:38:46,912 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:38:46] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-07-19 19:38:47,242 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:38:47] "[36mGET /static/images/login-background.jpg HTTP/1.1[0m" 304 -
2025-07-19 19:39:07,050 - app.services.email_service - DEBUG - Scheduler loop iteration started.
2025-07-19 19:39:07,051 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:39:07,051 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:39:07,051 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:39:07,052 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:39:07,052 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:07,052 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:07,063 - app.services.email_service - DEBUG - Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:07,063 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-19 19:39:07,063 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-19 19:39:07,065 - app.services.email_service - INFO - Next email scheduled for 2025-07-20 07:30:00. Sleeping for 60.0 minutes.
2025-07-19 19:39:07,065 - app.services.email_service - INFO - Next email scheduled for 2025-07-20 07:30:00. Sleeping for 60.0 minutes.
2025-07-19 19:39:10,204 - app.services.email_service - DEBUG - Scheduler loop iteration started.
2025-07-19 19:39:10,205 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:39:10,205 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:39:10,206 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:39:10,209 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:39:10,211 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:10,211 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:10,270 - app.services.email_service - DEBUG - Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:10,270 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-19 19:39:10,270 - app.services.email_service - INFO - Email notifications are ENABLED in settings. Processing reminders.
2025-07-19 19:39:10,280 - app.services.email_service - INFO - Next email scheduled for 2025-07-20 07:30:00. Sleeping for 60.0 minutes.
2025-07-19 19:39:10,280 - app.services.email_service - INFO - Next email scheduled for 2025-07-20 07:30:00. Sleeping for 60.0 minutes.
2025-07-19 19:39:12,690 - app - DEBUG - [app.decorators] Checking permission: ['dashboard_view']
2025-07-19 19:39:12,694 - app - WARNING - [app.decorators] Unauthenticated user attempted access
2025-07-19 19:39:12,694 - app - WARNING - [app.decorators] Unauthenticated user attempted access
2025-07-19 19:39:12,696 - app - INFO - [app.decorators] Redirecting unauthenticated user to login page
2025-07-19 19:39:12,696 - app - INFO - [app.decorators] Redirecting unauthenticated user to login page
2025-07-19 19:39:12,729 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:39:12] "[32mHEAD / HTTP/1.1[0m" 302 -
2025-07-19 19:39:12,765 - app - INFO - [app.routes.auth] Accessing login route
2025-07-19 19:39:12,765 - app - INFO - [app.routes.auth] Accessing login route
2025-07-19 19:39:12,808 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:39:12] "HEAD /auth/login?next=http://localhost:5001/ HTTP/1.1" 200 -
2025-07-19 19:39:22,027 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay complete. Starting main loop.
2025-07-19 19:39:22,027 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay complete. Starting main loop.
2025-07-19 19:39:22,029 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loop iteration started.
2025-07-19 19:39:22,030 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loading settings...
2025-07-19 19:39:22,031 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:39:22,032 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:39:22,032 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:39:22,033 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:39:22,034 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:22,034 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:22,064 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:22,064 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:22,085 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Push notifications enabled: True
2025-07-19 19:39:22,086 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (minutes): 60
2025-07-19 19:39:22,087 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (seconds): 3600
2025-07-19 19:39:22,087 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-19 19:39:22,087 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-19 19:39:22,096 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-19 19:39:22,096 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-19 19:39:22,100 - app.services.push_notification_service - DEBUG - Reloading settings within process_push_notifications...
2025-07-19 19:39:22,101 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:39:22,102 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:39:22,102 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:39:22,103 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:39:22,104 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:22,104 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:22,121 - app.services.push_notification_service - DEBUG - Settings loaded in process_push_notifications: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:22,125 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-19 19:39:22,125 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-19 19:39:22,129 - app.services.push_notification_service - DEBUG - Loading PPM data...
2025-07-19 19:39:22,130 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-19 19:39:22,130 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:39:22,131 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:39:22,132 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:39:22,132 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:39:22,133 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:39:22,134 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:39:22,134 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:39:22,134 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:39:22,136 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-19 19:39:22,137 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-19 19:39:22,138 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-19 19:39:22,149 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:39:22,149 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:39:22,161 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:39:22,161 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:39:22,162 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-19 19:39:22,162 - app.services.push_notification_service - DEBUG - Loaded 1040 PPM entries.
2025-07-19 19:39:22,162 - app.services.push_notification_service - DEBUG - Loading OCM data...
2025-07-19 19:39:22,162 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-19 19:39:22,163 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:39:22,163 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:39:22,163 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:39:22,163 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:39:22,164 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:39:22,164 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:39:22,164 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:39:22,164 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:39:22,165 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-19 19:39:22,165 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-19 19:39:22,165 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-19 19:39:22,167 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:39:22,167 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:39:22,170 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:39:22,170 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:39:22,171 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-19 19:39:22,171 - app.services.push_notification_service - DEBUG - Loaded 612 OCM entries.
2025-07-19 19:39:22,171 - app.services.push_notification_service - DEBUG - Getting upcoming PPM maintenance tasks...
2025-07-19 19:39:22,282 - app.services.push_notification_service - DEBUG - Found 746 upcoming PPM tasks.
2025-07-19 19:39:22,283 - app.services.push_notification_service - DEBUG - Getting upcoming OCM maintenance tasks...
2025-07-19 19:39:22,296 - app.services.push_notification_service - DEBUG - Found 1 upcoming OCM tasks.
2025-07-19 19:39:22,296 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 747
2025-07-19 19:39:22,296 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 747
2025-07-19 19:39:22,297 - app.services.push_notification_service - DEBUG - Sorting all upcoming tasks by date...
2025-07-19 19:39:22,312 - app.services.push_notification_service - DEBUG - Tasks sorted.
2025-07-19 19:39:22,313 - app.services.push_notification_service - DEBUG - Summarizing all upcoming tasks...
2025-07-19 19:39:22,313 - app.services.push_notification_service - DEBUG - Summarizing upcoming maintenance. Tasks received: 747
2025-07-19 19:39:22,313 - app.services.push_notification_service - DEBUG - PPM count: 746, OCM count: 1
2025-07-19 19:39:22,313 - app.services.push_notification_service - DEBUG - Generated summary: 746 PPM tasks and 1 OCM task due soon.
2025-07-19 19:39:22,313 - app.services.push_notification_service - INFO - Generated summary for push notification: '746 PPM tasks and 1 OCM task due soon.'
2025-07-19 19:39:22,313 - app.services.push_notification_service - INFO - Generated summary for push notification: '746 PPM tasks and 1 OCM task due soon.'
2025-07-19 19:39:22,315 - app.services.push_notification_service - DEBUG - Sending push notification with the generated summary...
2025-07-19 19:39:22,315 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '746 PPM tasks and 1 OCM task due soon.'
2025-07-19 19:39:22,315 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '746 PPM tasks and 1 OCM task due soon.'
2025-07-19 19:39:22,316 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-19 19:39:22,316 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-19 19:39:22,317 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-19 19:39:22,317 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-19 19:39:22,318 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-19 19:39:22,318 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-19 19:39:22,320 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-19 19:39:22,320 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-19 19:39:22,321 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-19 19:39:22,321 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-19 19:39:25,213 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay complete. Starting main loop.
2025-07-19 19:39:25,213 - app.services.push_notification_service - INFO - Push Notification Scheduler: Initial delay complete. Starting main loop.
2025-07-19 19:39:25,246 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loop iteration started.
2025-07-19 19:39:25,246 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Loading settings...
2025-07-19 19:39:25,247 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:39:25,248 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:39:25,248 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:39:25,249 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:39:25,250 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:25,250 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:25,272 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:25,272 - app.services.push_notification_service - INFO - Push Notification Scheduler: Loaded settings: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:25,280 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Push notifications enabled: True
2025-07-19 19:39:25,281 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (minutes): 60
2025-07-19 19:39:25,281 - app.services.push_notification_service - DEBUG - Push Notification Scheduler: Interval (seconds): 3600
2025-07-19 19:39:25,281 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-19 19:39:25,281 - app.services.push_notification_service - INFO - Push Notification Scheduler: Push notifications are ENABLED. Processing...
2025-07-19 19:39:25,285 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-19 19:39:25,285 - app.services.push_notification_service - INFO - Starting process_push_notifications method.
2025-07-19 19:39:25,288 - app.services.push_notification_service - DEBUG - Reloading settings within process_push_notifications...
2025-07-19 19:39:25,288 - app.services.data_service - DEBUG - Attempting to load settings.
2025-07-19 19:39:25,289 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:39:25,291 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:39:25,292 - app.services.data_service - DEBUG - Reading settings from file: data\settings.json
2025-07-19 19:39:25,293 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:25,293 - app.services.data_service - INFO - Successfully loaded settings from data\settings.json: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:25,329 - app.services.push_notification_service - DEBUG - Settings loaded in process_push_notifications: {'email_notifications_enabled': True, 'email_reminder_interval_minutes': 60, 'recipient_email': 'alorfbiomed@gmail.com', 'push_notifications_enabled': True, 'push_notification_interval_minutes': 60, 'email_send_time_hour': 7, 'reminder_timing': {'60_days_before': False, '14_days_before': False, '1_day_before': False}, 'scheduler_interval_hours': 24, 'enable_automatic_reminders': True, 'cc_emails': 'lolotam@gmail.com', 'automatic_backup_enabled': True, 'automatic_backup_interval_hours': 24, 'users': [{'username': 'admin', 'password': 'pbkdf2:sha256:600000$PRPn88H1ijaWaJ14$4f30ec776a03728db5c793ebba0e29149903c43e37b18e710ecf6dd0553ecb25', 'role': 'Admin'}, {'username': 'testuser', 'password': 'scrypt:32768:8:1$81Env3h8t2d0j8on$3a9c4ad7bfb0650998f343b9b45e86024f114c3be41b2b12a9e04b59628c6872e88901b87212c2cdc233755f12a8ac1bb8bfe2df6ef9bc981ca1220e252b30ba', 'role': 'Admin'}], 'roles': {'Admin': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']}, 'Editor': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'import_data', 'export_data']}, 'Viewer': {'permissions': ['dashboard_view', 'equipment_ppm_read', 'equipment_ocm_read']}}, 'daily_send_time_enabled': True, 'legacy_interval_enabled': False, 'email_send_time_minute': 38, 'email_send_time': '07:30', 'use_daily_send_time': True, 'use_legacy_interval': False}
2025-07-19 19:39:25,330 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-19 19:39:25,330 - app.services.push_notification_service - INFO - Push notifications are enabled. Proceeding with data loading and processing.
2025-07-19 19:39:25,348 - app.services.push_notification_service - DEBUG - Loading PPM data...
2025-07-19 19:39:25,349 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-19 19:39:25,349 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:39:25,349 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:39:25,349 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:39:25,350 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:39:25,350 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:39:25,351 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:39:25,351 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:39:25,351 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:39:25,352 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-19 19:39:25,352 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-19 19:39:25,352 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-19 19:39:25,359 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:39:25,360 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:39:25,371 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:39:25,372 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:39:25,372 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-19 19:39:25,373 - app.services.push_notification_service - DEBUG - Loaded 1040 PPM entries.
2025-07-19 19:39:25,373 - app.services.push_notification_service - DEBUG - Loading OCM data...
2025-07-19 19:39:25,374 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-19 19:39:25,374 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:39:25,375 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:39:25,375 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:39:25,375 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:39:25,376 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:39:25,376 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:39:25,377 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:39:25,377 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:39:25,377 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-19 19:39:25,377 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-19 19:39:25,378 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-19 19:39:25,380 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:39:25,380 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:39:25,383 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:39:25,384 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:39:25,384 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-19 19:39:25,384 - app.services.push_notification_service - DEBUG - Loaded 612 OCM entries.
2025-07-19 19:39:25,384 - app.services.push_notification_service - DEBUG - Getting upcoming PPM maintenance tasks...
2025-07-19 19:39:25,572 - app.services.push_notification_service - DEBUG - Found 746 upcoming PPM tasks.
2025-07-19 19:39:25,572 - app.services.push_notification_service - DEBUG - Getting upcoming OCM maintenance tasks...
2025-07-19 19:39:25,584 - app.services.push_notification_service - DEBUG - Found 1 upcoming OCM tasks.
2025-07-19 19:39:25,585 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 747
2025-07-19 19:39:25,585 - app.services.push_notification_service - INFO - Total upcoming maintenance tasks (PPM & OCM): 747
2025-07-19 19:39:25,586 - app.services.push_notification_service - DEBUG - Sorting all upcoming tasks by date...
2025-07-19 19:39:25,601 - app.services.push_notification_service - DEBUG - Tasks sorted.
2025-07-19 19:39:25,601 - app.services.push_notification_service - DEBUG - Summarizing all upcoming tasks...
2025-07-19 19:39:25,602 - app.services.push_notification_service - DEBUG - Summarizing upcoming maintenance. Tasks received: 747
2025-07-19 19:39:25,602 - app.services.push_notification_service - DEBUG - PPM count: 746, OCM count: 1
2025-07-19 19:39:25,602 - app.services.push_notification_service - DEBUG - Generated summary: 746 PPM tasks and 1 OCM task due soon.
2025-07-19 19:39:25,603 - app.services.push_notification_service - INFO - Generated summary for push notification: '746 PPM tasks and 1 OCM task due soon.'
2025-07-19 19:39:25,603 - app.services.push_notification_service - INFO - Generated summary for push notification: '746 PPM tasks and 1 OCM task due soon.'
2025-07-19 19:39:25,604 - app.services.push_notification_service - DEBUG - Sending push notification with the generated summary...
2025-07-19 19:39:25,604 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '746 PPM tasks and 1 OCM task due soon.'
2025-07-19 19:39:25,604 - app.services.push_notification_service - INFO - Attempting to send push notification with summary: '746 PPM tasks and 1 OCM task due soon.'
2025-07-19 19:39:25,607 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-19 19:39:25,607 - app.services.push_notification_service - ERROR - VAPID_PRIVATE_KEY or VAPID_SUBJECT not configured. Cannot send push notifications.
2025-07-19 19:39:25,610 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-19 19:39:25,610 - app.services.push_notification_service - INFO - Push notification sending process initiated from process_push_notifications.
2025-07-19 19:39:25,611 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-19 19:39:25,611 - app.services.push_notification_service - INFO - Finished process_push_notifications method.
2025-07-19 19:39:25,613 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-19 19:39:25,613 - app.services.push_notification_service - INFO - Push Notification Scheduler: Finished processing push notifications for this iteration.
2025-07-19 19:39:25,615 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-19 19:39:25,615 - app.services.push_notification_service - INFO - Push Notification Scheduler: Sleeping for 60 minutes (3600 seconds).
2025-07-19 19:39:50,721 - app - DEBUG - [app.decorators] Checking permission: ['dashboard_view']
2025-07-19 19:39:50,722 - app - WARNING - [app.decorators] Unauthenticated user attempted access
2025-07-19 19:39:50,722 - app - WARNING - [app.decorators] Unauthenticated user attempted access
2025-07-19 19:39:51,073 - app - INFO - [app.decorators] Redirecting unauthenticated user to login page
2025-07-19 19:39:51,073 - app - INFO - [app.decorators] Redirecting unauthenticated user to login page
2025-07-19 19:39:51,082 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:39:51] "[32mGET / HTTP/1.1[0m" 302 -
2025-07-19 19:39:51,311 - app - INFO - [app.routes.auth] Accessing login route
2025-07-19 19:39:51,311 - app - INFO - [app.routes.auth] Accessing login route
2025-07-19 19:39:51,333 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:39:51] "GET /auth/login?next=http://localhost:5001/ HTTP/1.1" 200 -
2025-07-19 19:39:51,398 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:39:51] "[36mGET /static/css/normalize.css HTTP/1.1[0m" 304 -
2025-07-19 19:39:51,722 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:39:51] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-07-19 19:39:52,647 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:39:52] "[36mGET /static/images/login-background.jpg HTTP/1.1[0m" 304 -
2025-07-19 19:39:52,910 - app - WARNING - 404 Not Found: /favicon.ico
2025-07-19 19:39:52,910 - app - WARNING - 404 Not Found: /favicon.ico
2025-07-19 19:39:52,916 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:39:52] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-19 19:40:09,939 - app - INFO - [app.routes.auth] Accessing login route
2025-07-19 19:40:09,939 - app - INFO - [app.routes.auth] Accessing login route
2025-07-19 19:40:09,945 - app - INFO - [app.routes.auth] Login attempt for username: testuser
2025-07-19 19:40:09,945 - app - INFO - [app.routes.auth] Login attempt for username: testuser
2025-07-19 19:40:09,947 - app - DEBUG - [app.routes.auth] Retrieved user: testuser
2025-07-19 19:40:09,948 - app - DEBUG - [check_password] Checking password for testuser
2025-07-19 19:40:10,192 - app - DEBUG - [check_password] Password validation for testuser: SUCCESS
2025-07-19 19:40:10,193 - app - INFO - [app.routes.auth] User 'testuser' logged in successfully.
2025-07-19 19:40:10,193 - app - INFO - [app.routes.auth] User 'testuser' logged in successfully.
2025-07-19 19:40:10,196 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:10] "[32mPOST /auth/login HTTP/1.1[0m" 303 -
2025-07-19 19:40:10,258 - app - DEBUG - [app.decorators] Checking permission: ['dashboard_view']
2025-07-19 19:40:10,260 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:40:10,261 - app - DEBUG - [app.decorators] Permission check result for ['dashboard_view']: True
2025-07-19 19:40:10,261 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:40:10,262 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-19 19:40:10,262 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:40:10,262 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:40:10,263 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:40:10,264 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:40:10,264 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:40:10,265 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:40:10,266 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:40:10,266 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:40:10,266 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-19 19:40:10,267 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-19 19:40:10,267 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-19 19:40:10,280 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:40:10,280 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:40:10,298 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:40:10,299 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:40:10,300 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-19 19:40:10,302 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-19 19:40:10,303 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-19 19:40:10,304 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:40:10,304 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:40:10,305 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:40:10,305 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:40:10,306 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:40:10,308 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:40:10,309 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:40:10,309 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:40:10,310 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-19 19:40:10,310 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-19 19:40:10,311 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-19 19:40:10,314 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:40:10,314 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:40:10,319 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:40:10,319 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:40:10,320 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-19 19:40:10,321 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-19 19:40:10,552 - app - INFO - Quarter summary generated successfully: {'current_date': '2025-07-19', 'current_calendar_quarter': 3, 'current_quarter_name': 'Q3', 'quarter_keys': ['PPM_Q_I', 'PPM_Q_II', 'PPM_Q_III', 'PPM_Q_IV'], 'quarter_names': ['Q1', 'Q2', 'Q3', 'Q4']}
2025-07-19 19:40:10,552 - app - INFO - Quarter summary generated successfully: {'current_date': '2025-07-19', 'current_calendar_quarter': 3, 'current_quarter_name': 'Q3', 'quarter_keys': ['PPM_Q_I', 'PPM_Q_II', 'PPM_Q_III', 'PPM_Q_IV'], 'quarter_names': ['Q1', 'Q2', 'Q3', 'Q4']}
2025-07-19 19:40:10,626 - app - DEBUG - [has_permission] User testuser permission 'equipment_ppm_import_export': True
2025-07-19 19:40:10,627 - app - DEBUG - [has_permission] User testuser permission 'training_manage': True
2025-07-19 19:40:10,627 - app - DEBUG - [has_permission] User testuser permission 'audit_log_view': True
2025-07-19 19:40:10,628 - app - DEBUG - [has_permission] User testuser permission 'settings_manage': True
2025-07-19 19:40:10,628 - app - DEBUG - [has_permission] User testuser permission 'user_manage': True
2025-07-19 19:40:10,883 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:10] "GET / HTTP/1.1" 200 -
2025-07-19 19:40:11,263 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:11] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-19 19:40:11,267 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:11] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-19 19:40:11,446 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:11] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-19 19:40:11,449 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:11] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-19 19:40:11,449 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:11] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-19 19:40:11,460 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:11] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-19 19:40:11,582 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:11] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-19 19:40:11,582 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:11] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-19 19:40:11,782 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:11] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-19 19:40:47,580 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:40:47,582 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:40:47,582 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_write', 'equipment_ocm_write']: True
2025-07-19 19:40:47,582 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:40:47,583 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:40:47,584 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-19 19:40:47,596 - app - DEBUG - [has_permission] User testuser permission 'equipment_ppm_import_export': True
2025-07-19 19:40:47,597 - app - DEBUG - [has_permission] User testuser permission 'training_manage': True
2025-07-19 19:40:47,597 - app - DEBUG - [has_permission] User testuser permission 'audit_log_view': True
2025-07-19 19:40:47,598 - app - DEBUG - [has_permission] User testuser permission 'settings_manage': True
2025-07-19 19:40:47,598 - app - DEBUG - [has_permission] User testuser permission 'user_manage': True
2025-07-19 19:40:47,601 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:47] "GET /equipment/machine-assignment HTTP/1.1" 200 -
2025-07-19 19:40:47,680 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:47] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-19 19:40:47,846 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:47] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-19 19:40:47,988 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:47] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-19 19:40:47,989 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:47] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-19 19:40:47,993 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:47] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-19 19:40:47,995 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:47] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-19 19:40:48,022 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:48] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-19 19:40:48,188 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:48] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-19 19:40:48,336 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:48] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-19 19:40:48,883 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-19 19:40:48,884 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:40:48,885 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-19 19:40:48,885 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:40:48,886 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:40:48,888 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:48] "GET /api/departments HTTP/1.1" 200 -
2025-07-19 19:40:48,980 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-19 19:40:48,981 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:40:48,982 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-19 19:40:48,982 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:40:48,983 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-19 19:40:48,984 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:40:48,987 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:40:48] "GET /api/trainers HTTP/1.1" 200 -
2025-07-19 19:42:59,245 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:42:59,248 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:42:59,249 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_write', 'equipment_ocm_write']: True
2025-07-19 19:42:59,250 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:42:59,252 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:42:59,254 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-19 19:42:59,288 - app - DEBUG - [has_permission] User testuser permission 'equipment_ppm_import_export': True
2025-07-19 19:42:59,289 - app - DEBUG - [has_permission] User testuser permission 'training_manage': True
2025-07-19 19:42:59,289 - app - DEBUG - [has_permission] User testuser permission 'audit_log_view': True
2025-07-19 19:42:59,293 - app - DEBUG - [has_permission] User testuser permission 'settings_manage': True
2025-07-19 19:42:59,294 - app - DEBUG - [has_permission] User testuser permission 'user_manage': True
2025-07-19 19:42:59,302 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:42:59] "GET /equipment/machine-assignment HTTP/1.1" 200 -
2025-07-19 19:42:59,409 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:42:59] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-19 19:42:59,485 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:42:59] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-19 19:42:59,727 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:42:59] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-19 19:42:59,729 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:42:59] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-19 19:42:59,730 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:42:59] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-19 19:42:59,749 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:42:59] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-19 19:42:59,780 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:42:59] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-19 19:42:59,828 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:42:59] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-19 19:43:00,714 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:43:00] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-19 19:43:01,830 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-19 19:43:01,831 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-19 19:43:01,832 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:43:01,832 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-19 19:43:01,833 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:43:01,834 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:43:01,834 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-19 19:43:01,834 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:43:01,835 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:43:01,836 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-19 19:43:01,838 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:43:01] "GET /api/departments HTTP/1.1" 200 -
2025-07-19 19:43:01,837 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:43:01,844 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:43:01] "GET /api/trainers HTTP/1.1" 200 -
2025-07-19 19:43:10,403 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:43:10,405 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:43:10,405 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_write', 'equipment_ocm_write']: True
2025-07-19 19:43:10,405 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:43:10,409 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:43:10,410 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-19 19:43:10,412 - app - DEBUG - [has_permission] User testuser permission 'equipment_ppm_import_export': True
2025-07-19 19:43:10,413 - app - DEBUG - [has_permission] User testuser permission 'training_manage': True
2025-07-19 19:43:10,414 - app - DEBUG - [has_permission] User testuser permission 'audit_log_view': True
2025-07-19 19:43:10,414 - app - DEBUG - [has_permission] User testuser permission 'settings_manage': True
2025-07-19 19:43:10,415 - app - DEBUG - [has_permission] User testuser permission 'user_manage': True
2025-07-19 19:43:10,418 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:43:10] "GET /equipment/machine-assignment HTTP/1.1" 200 -
2025-07-19 19:43:10,720 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:43:10] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-19 19:43:10,805 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:43:10] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-19 19:43:10,805 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:43:10] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-19 19:43:10,820 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:43:10] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-19 19:43:10,820 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:43:10] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-19 19:43:10,850 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:43:10] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-19 19:43:11,039 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:43:11] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-19 19:43:11,181 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:43:11] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-19 19:43:11,280 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:43:11] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-19 19:43:11,632 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-19 19:43:11,634 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:43:11,634 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-19 19:43:11,634 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:43:11,635 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-19 19:43:11,636 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:43:11,638 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:43:11,640 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:43:11] "GET /api/departments HTTP/1.1" 200 -
2025-07-19 19:43:11,641 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-19 19:43:11,642 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:43:11,643 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-19 19:43:11,644 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:43:11,648 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:43:11] "GET /api/trainers HTTP/1.1" 200 -
2025-07-19 19:44:34,702 - app - INFO - [app.routes.auth] Accessing login route
2025-07-19 19:44:34,702 - app - INFO - [app.routes.auth] Accessing login route
2025-07-19 19:44:34,703 - app - INFO - [app.routes.auth] Login attempt for username: admin
2025-07-19 19:44:34,703 - app - INFO - [app.routes.auth] Login attempt for username: admin
2025-07-19 19:44:34,704 - app - DEBUG - [app.routes.auth] Retrieved user: admin
2025-07-19 19:44:34,705 - app - DEBUG - [check_password] Checking password for admin
2025-07-19 19:44:35,776 - app - DEBUG - [check_password] Password validation for admin: SUCCESS
2025-07-19 19:44:35,776 - app - INFO - [app.routes.auth] User 'admin' logged in successfully.
2025-07-19 19:44:35,776 - app - INFO - [app.routes.auth] User 'admin' logged in successfully.
2025-07-19 19:44:35,780 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:35] "[32mPOST /auth/login HTTP/1.1[0m" 303 -
2025-07-19 19:44:35,794 - app - DEBUG - [app.decorators] Checking permission: ['dashboard_view']
2025-07-19 19:44:35,795 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:44:35,796 - app - DEBUG - [app.decorators] Permission check result for ['dashboard_view']: True
2025-07-19 19:44:35,796 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:44:35,796 - app.services.data_service - DEBUG - Starting load_data method with data_type='ppm'
2025-07-19 19:44:35,796 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:44:35,796 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:44:35,797 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:44:35,797 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:44:35,798 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:44:35,798 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:44:35,798 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:44:35,799 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:44:35,799 - app.services.data_service - DEBUG - Selected PPM file path: data\ppm.json
2025-07-19 19:44:35,799 - app.services.data_service - DEBUG - Opening file for reading: data\ppm.json
2025-07-19 19:44:35,799 - app.services.data_service - DEBUG - Reading content from file: data\ppm.json
2025-07-19 19:44:35,805 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:44:35,805 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:44:35,814 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:44:35,814 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4A', 'Name': 'CTG MACHINE', 'MODEL': 'F3', 'SERIAL': '560034-EM18A05070007', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2456', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '27/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '25/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '23/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4A', 'Name': 'ECG MACHINE', 'MODEL': 'SE1200EXPRESS', 'SERIAL': '460016-M19902-', 'MANUFACTURER': 'EDAN', 'LOG_Number': '2452', 'Installation_Date': None, 'Warranty_End': None, 'PPM_Q_I': {'engineer': 'NIXON', 'quarter_date': '24/03/2025', 'status': None}, 'PPM_Q_II': {'engineer': 'JAYAPRAKASH', 'quarter_date': '22/06/2025', 'status': None}, 'PPM_Q_III': {'engineer': 'NIXON', 'quarter_date': '20/09/2025', 'status': None}, 'PPM_Q_IV': {'engineer': 'JAYAPRAKASH', 'quarter_date': '19/12/2025', 'status': None}, 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:44:35,815 - app.services.data_service - DEBUG - Returning loaded data with 1040 entries
2025-07-19 19:44:35,815 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-19 19:44:35,816 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-19 19:44:35,817 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:44:35,817 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:44:35,817 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:44:35,818 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:44:35,818 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:44:35,818 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:44:35,818 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:44:35,819 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:44:35,819 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-19 19:44:35,819 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-19 19:44:35,819 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-19 19:44:35,821 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:44:35,821 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:44:35,825 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:44:35,825 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:44:35,826 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-19 19:44:35,826 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-19 19:44:36,031 - app - INFO - Quarter summary generated successfully: {'current_date': '2025-07-19', 'current_calendar_quarter': 3, 'current_quarter_name': 'Q3', 'quarter_keys': ['PPM_Q_I', 'PPM_Q_II', 'PPM_Q_III', 'PPM_Q_IV'], 'quarter_names': ['Q1', 'Q2', 'Q3', 'Q4']}
2025-07-19 19:44:36,031 - app - INFO - Quarter summary generated successfully: {'current_date': '2025-07-19', 'current_calendar_quarter': 3, 'current_quarter_name': 'Q3', 'quarter_keys': ['PPM_Q_I', 'PPM_Q_II', 'PPM_Q_III', 'PPM_Q_IV'], 'quarter_names': ['Q1', 'Q2', 'Q3', 'Q4']}
2025-07-19 19:44:36,033 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-19 19:44:36,033 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-19 19:44:36,034 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-19 19:44:36,034 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-19 19:44:36,034 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-19 19:44:36,197 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:36] "GET / HTTP/1.1" 200 -
2025-07-19 19:44:36,247 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:36] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-19 19:44:36,563 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:36] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-19 19:44:36,778 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:36] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-19 19:44:36,803 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:36] "[36mGET /static/js/modern-datepicker.js HTTP/1.1[0m" 304 -
2025-07-19 19:44:36,831 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:36] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-19 19:44:36,846 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:36] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-19 19:44:36,865 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:36] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-19 19:44:36,896 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:36] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-19 19:44:37,142 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:37] "[36mGET /static/js/notifications.js HTTP/1.1[0m" 304 -
2025-07-19 19:44:41,220 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_read', 'equipment_ocm_read']
2025-07-19 19:44:41,221 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:44:41,221 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_read', 'equipment_ocm_read']: True
2025-07-19 19:44:41,222 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:44:41,222 - app.services.data_service - DEBUG - Starting load_data method with data_type='ocm'
2025-07-19 19:44:41,222 - app.services.data_service - DEBUG - Calling DataService.ensure_data_files_exist()
2025-07-19 19:44:41,223 - app.services.data_service - DEBUG - Ensuring data files exist
2025-07-19 19:44:41,223 - app.services.data_service - DEBUG - Using data directory: data
2025-07-19 19:44:41,223 - app.services.data_service - DEBUG - Checking PPM data file: data\ppm.json
2025-07-19 19:44:41,227 - app.services.data_service - DEBUG - Checking OCM data file: data\ocm.json
2025-07-19 19:44:41,229 - app.services.data_service - DEBUG - Checking existence of settings file: data\settings.json
2025-07-19 19:44:41,230 - app.services.data_service - DEBUG - Settings file data\settings.json already exists.
2025-07-19 19:44:41,231 - app.services.data_service - DEBUG - Determining file path based on data_type
2025-07-19 19:44:41,231 - app.services.data_service - DEBUG - Selected OCM file path: data\ocm.json
2025-07-19 19:44:41,231 - app.services.data_service - DEBUG - Opening file for reading: data\ocm.json
2025-07-19 19:44:41,233 - app.services.data_service - DEBUG - Reading content from file: data\ocm.json
2025-07-19 19:44:41,247 - app.services.data_service - DEBUG - Checking if file content is empty
2025-07-19 19:44:41,247 - app.services.data_service - DEBUG - Attempting to decode JSON content
2025-07-19 19:44:41,252 - app.services.data_service - DEBUG - Successfully decoded JSON. Data type: <class 'list'>
2025-07-19 19:44:41,252 - app.services.data_service - DEBUG - Loaded data sample (first 2 items): [{'NO': 1, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SW3266-', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2394', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/10/2025', 'Engineer': 'NIXON', 'Next_Maintenance': '01/10/2026', 'Status': 'Upcoming', 'has_history': False}, {'NO': 2, 'Department': '4B', 'Name': 'BP APPARATUS', 'Model': 'STANDBY', 'Serial': 'SX2315', 'Manufacturer': 'BAUMANOMETER', 'Log_Number': '2397', 'Installation_Date': 'N/A', 'Warranty_End': 'N/A', 'Service_Date': '01/11/2025', 'Engineer': 'MANU', 'Next_Maintenance': '01/11/2026', 'Status': 'Upcoming', 'has_history': False}]
2025-07-19 19:44:41,253 - app.services.data_service - DEBUG - Returning loaded data with 612 entries
2025-07-19 19:44:41,253 - app.services.history_service - DEBUG - Loaded 2 history entries
2025-07-19 19:44:41,388 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-19 19:44:41,389 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-19 19:44:41,389 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-19 19:44:41,393 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-19 19:44:41,394 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-19 19:44:41,550 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:41] "GET /equipment/ocm HTTP/1.1" 200 -
2025-07-19 19:44:41,597 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:41] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-19 19:44:41,597 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:41] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-19 19:44:43,432 - app - DEBUG - [app.decorators] Checking permission: ['equipment_ppm_write', 'equipment_ocm_write']
2025-07-19 19:44:43,434 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:44:43,434 - app - DEBUG - [app.decorators] Permission check result for ['equipment_ppm_write', 'equipment_ocm_write']: True
2025-07-19 19:44:43,435 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:44:43,435 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:44:43,436 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-19 19:44:43,437 - app - DEBUG - [has_permission] User admin permission 'equipment_ppm_import_export': True
2025-07-19 19:44:43,438 - app - DEBUG - [has_permission] User admin permission 'training_manage': True
2025-07-19 19:44:43,438 - app - DEBUG - [has_permission] User admin permission 'audit_log_view': True
2025-07-19 19:44:43,438 - app - DEBUG - [has_permission] User admin permission 'settings_manage': True
2025-07-19 19:44:43,438 - app - DEBUG - [has_permission] User admin permission 'user_manage': True
2025-07-19 19:44:43,459 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:43] "GET /equipment/machine-assignment HTTP/1.1" 200 -
2025-07-19 19:44:43,470 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:43] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-19 19:44:43,471 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:43] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-19 19:44:43,476 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:43] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-19 19:44:43,477 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:43] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-19 19:44:43,493 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:43] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-19 19:44:43,821 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:43] "[36mGET /static/css/modern-datepicker.css HTTP/1.1[0m" 304 -
2025-07-19 19:44:43,898 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:43] "[36mGET /static/css/mobile.css HTTP/1.1[0m" 304 -
2025-07-19 19:44:43,899 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:43] "GET /static/js/modern-datepicker.js HTTP/1.1" 200 -
2025-07-19 19:44:43,901 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:43] "[36mGET /static/js/department-sync.js HTTP/1.1[0m" 304 -
2025-07-19 19:44:43,903 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:43] "[36mGET /static/js/error_logger.js HTTP/1.1[0m" 304 -
2025-07-19 19:44:43,904 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:43] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-07-19 19:44:44,147 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:44] "[36mGET /static/js/equipment_list.js HTTP/1.1[0m" 304 -
2025-07-19 19:44:44,260 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:44] "[36mGET /static/js/mobile.js HTTP/1.1[0m" 304 -
2025-07-19 19:44:44,315 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:44] "GET /static/js/notifications.js HTTP/1.1" 200 -
2025-07-19 19:44:44,671 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-19 19:44:44,672 - app - DEBUG - [app.decorators] Checking permission: ['settings_manage']
2025-07-19 19:44:44,675 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:44:44,676 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-19 19:44:44,676 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:44:44,677 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:44:44,679 - app - DEBUG - [app.models.json_user] Loaded permissions for Admin: ['dashboard_view', 'equipment_ppm_read', 'equipment_ppm_write', 'equipment_ppm_delete', 'equipment_ppm_import_export', 'equipment_ocm_read', 'equipment_ocm_write', 'equipment_ocm_delete', 'equipment_ocm_import_export', 'training_manage', 'training_read', 'training_write', 'training_delete', 'audit_log_view', 'audit_log_export', 'user_manage', 'settings_read', 'settings_manage', 'settings_email_test', 'backup_manage', 'import_data', 'export_data']
2025-07-19 19:44:44,679 - app - DEBUG - [app.decorators] Permission check result for ['settings_manage']: True
2025-07-19 19:44:44,679 - app - DEBUG - [app.decorators] Permission granted
2025-07-19 19:44:44,680 - app.services.trainer_service - DEBUG - Loaded 10 trainers from data\trainers.json
2025-07-19 19:44:44,682 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:44] "GET /api/departments HTTP/1.1" 200 -
2025-07-19 19:44:44,683 - app.services.department_service - DEBUG - Loaded 26 departments from data\departments.json
2025-07-19 19:44:44,686 - werkzeug - INFO - 127.0.0.1 - - [19/Jul/2025 19:44:44] "GET /api/trainers HTTP/1.1" 200 -
